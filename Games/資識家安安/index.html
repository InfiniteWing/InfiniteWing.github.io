<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script language="JavaScript">
        function changesize() {
            window.resizeTo(600, 500); //指定預開啟的寬度與高度
        }
        window.onload = changesize;
        window.onresize = changesize;
    </script>
    <script language="javascript">

        //鍵盤事件
        var kcode = 0;
        var browser = navigator.appName;
        if (browser == "Netscape") {
            document.captureEvents(Event.KEYDOWN)
            document.onkeydown = function (event) {
                kcode = event.which;
                player_moving(kcode);
            }
        }
        else {
            document.onkeydown = function () {
                kcode = window.event.keyCode;
                player_moving(kcode);
            }
        }

        function draw_question_record() {
            var temp = document.getElementById('question_record');
            temp.innerHTML = "";
            for (var i = 0; i < 10; i++)
            {
                temp.innerHTML += (i + 1 + now_page * 10) + ". " + question_correct[i + now_page * 10] + " / " + question_record[i + now_page * 10] + "</br>";
            }
            temp.style.top = 60 + "px";
            temp.style.left = 65 + "px";
        }
        function draw_all_record()
        {
            var temp = document.getElementById('question_all_record');
            temp.innerHTML = "";
            temp.innerHTML += question_correct[120] + " / " + question_record[120] + "</br>";
            temp.innerHTML += "COMBO:" + combo_record;
            temp.style.top = 60 + "px";
            temp.style.left = 435 + "px";
        }
        function draw_question_record_string() {
            var temp = document.getElementById('question_record_string');
            temp.innerHTML = "";
            var s = "";
            for (var i = 0; i < 4; i++)
            {
                s = question_list[(chk_y + now_page * 10)].q_string(i);
                for (var j = 0; j < s.length; j++)
                {
                    if(j!=0&&j%15==0)
                        temp.innerHTML += "</br>";
                    temp.innerHTML += s[j];
                }
                temp.innerHTML += "</br>";
            }
            if (question_correct[(chk_y + now_page * 10)] > 0)//答對過
                temp.innerHTML += "答案：("+question_list[(chk_y + now_page * 10)].ans()+")";
            temp.style.top = 180 + "px";
            temp.style.left = 255 + "px";
        }
        function release_draw_question_record_string() {
            var temp = document.getElementById('question_record_string');
            temp.innerHTML = "";
            temp.style.top = -170 + "px";
            temp.style.left = -250 + "px";
        }
        function release_draw_all_record() {
            var temp = document.getElementById('question_all_record');
            temp.innerHTML = "";
            temp.style.top = -400 + "px";
            temp.style.left = -400 + "px";
        }
        function release_draw_question_record() {
            var temp = document.getElementById('question_record');
            temp.innerHTML = "";
            temp.style.top = -200 + "px";
            temp.style.left = -200 + "px";
            now_page = 0;
            chk_y = 0;
        }
        function draw_battle_dialog(s) {
            var temp = document.getElementById('battle_dialog');
            temp.innerHTML = "";
            for (var i = 0; i < s.length; i++) {
                if (i % 20 == 0 && i != 0)
                    temp.innerHTML += "</br>";
                temp.innerHTML += s[i];
            }
            temp.style.top = 350 + "px";
            temp.style.left = 110 + "px";
        }
        function draw_question_string() {
            var temp = document.getElementById('question_string');
            temp.innerHTML = "";
            string_y = 0;
            var s = "";
            for (var i = 0; i < 4; i++) {
                s = question_list[now_questin].q_string(i);
                for (var j = 0; j < s.length; j++) {
                    if (j != 0 && j % 31 == 0) {
                        temp.innerHTML += "</br>";
                        if (i == 0)
                            string_y++;
                    }
                    temp.innerHTML += s[j];
                }
                temp.innerHTML += "</br>";
            }
            temp.style.top = 330 + "px";
            temp.style.left = 60 + "px";
        }
        function release_draw_question_string() {
            var temp = document.getElementById('question_string');
            temp.innerHTML = "";
            temp.style.top = -500 + "px";
            temp.style.left = -500 + "px";
        }
        function draw_bag_info() {
            var temp = document.getElementById('itembox_01');
            for (var i = 0, j = 0; i < now_have_item && j < 100; j++) {
                if (itembox[j] > 0) {
                    temp_box[i] = j;
                    i++;
                }
            }
            temp.innerHTML = "";
            for (var i = 0; i < (now_have_item - now_page * 15) && i < 5; i++) {
                temp.innerHTML += item_list[temp_box[(i + now_page * 15)]].name() + "</br>";
            }
            temp.style.top = 82 + "px";
            temp.style.left = 30 + "px";
            if (now_have_item > (now_page * 15 + 4))//還有道具
            {
                temp = document.getElementById('itembox_02');
                temp.innerHTML = "";
                for (var i = 5; i < (now_have_item - now_page * 15) && i < 10; i++) {
                    temp.innerHTML += item_list[temp_box[(i + now_page * 15)]].name() + "</br>";
                }
                temp.style.top = 82 + "px";
                temp.style.left = 215 + "px";
                if (now_have_item > (now_page * 15 + 9))//還有道具
                {
                    temp = document.getElementById('itembox_03');
                    temp.innerHTML = "";
                    for (var i = 10; i < (now_have_item - now_page * 15) && i < 15; i++) {
                        temp.innerHTML += item_list[temp_box[(i + now_page * 15)]].name() + "</br>";
                    }
                    temp.style.top = 82 + "px";
                    temp.style.left = 405 + "px";
                }
                else {
                    temp = document.getElementById('itembox_03');
                    temp.innerHTML = "";
                }

            }
            else {
                temp = document.getElementById('itembox_02');
                temp.innerHTML = "";
                temp = document.getElementById('itembox_03');
                temp.innerHTML = "";
            }
        }
        function release_draw_bag_info() {
            var temp = document.getElementById('itembox_01');
            temp.style.top = -500 + "px";
            temp.style.left = -500 + "px";
            temp = document.getElementById('itembox_02');
            temp.style.top = -500 + "px";
            temp.style.left = -500 + "px";
            temp = document.getElementById('itembox_03');
            temp.style.top = -500 + "px";
            temp.style.left = -500 + "px";
            now_page = 0;
        }
        function draw_saler_dialog() {
            var temp = document.getElementById('saler_name');
            temp.innerHTML = saler_list[now_saler].name();
            temp.style.top = 35 + "px";
            temp.style.left = 30 + "px";
            temp = document.getElementById('saler_greet');
            temp.innerHTML = saler_list[now_saler].greet();
            temp.style.top = 40 + "px";
            temp.style.left = 280 + "px";
            temp = document.getElementById('saler_things_01');
            temp.innerHTML = "";
            for (var i = 0; i < now_saler_sale_count && i < 5; i++) {
                temp.innerHTML += item_list[saler_list[now_saler].sale_id(i)].name() + " Ｓ：" + item_list[saler_list[now_saler].sale_id(i)].price() + "</br>";
            }
            temp.style.top = 132 + "px";
            temp.style.left = 230 + "px";
            temp = document.getElementById('saler_things_02');
            temp.innerHTML = "";
            for (var i = 5; i < now_saler_sale_count && i < 10; i++) {
                temp.innerHTML += item_list[saler_list[now_saler].sale_id(i)].name() + " Ｓ：" + item_list[saler_list[now_saler].sale_id(i)].price() + "</br>";
            }
            temp.style.top = 132 + "px";
            temp.style.left = 410 + "px";
            draw_saler_check_botton();
        }
        function draw_npc_name() {
            var temp = document.getElementById('npc_name');
            temp.innerHTML = npc_list[now_npc].name();
            temp.style.top = 315 + "px";
            temp.style.left = 150 + "px";
        }
        function draw_map_name() {
            var temp = document.getElementById('map_name');
            temp.innerHTML = map_list[map_id].map_name();
            temp.style.top = 21 + "px";
            temp.style.left = 12 + "px";
        }
        function release_draw_map_name() {
            var temp = document.getElementById('map_name');
            temp.innerHTML = "";
            temp.style.top = -1000 + "px";
            temp.style.left = -1000 + "px";
        }
        function draw_loading_string(i)
        {
            var temp = document.getElementById('loading_string');
            temp.innerHTML = "按h顯示操作說明 " + i + " / 120";
            temp.style.top = 468 + "px";
            temp.style.left = 370 + "px";
        }
        function release_draw_loading_string() {
            var temp = document.getElementById('loading_string');
            temp.innerHTML = "";
            temp.style.top = -500 + "px";
            temp.style.left = -500 + "px";
        }
        function release_draw_npc_name() {
            var temp = document.getElementById('npc_name');
            temp.innerHTML = "";
            temp.style.top = -500 + "px";
            temp.style.left = -500 + "px";
        }
        function draw_chapter_intr(s) {
            var temp = document.getElementById('chapter_intr');
            temp.innerHTML = "";
            for (var i = 0; i < s.length; i++) {
                if (i % 15 == 0 && i != 0)
                    temp.innerHTML += "</br>";
                temp.innerHTML += s[i];
            }
            temp.style.top = 70 + "px";
            temp.style.left = 100 + "px";
        }
        function release_draw_chapter_intr() {
            var temp = document.getElementById('chapter_intr');
            temp.innerHTML = "";
            temp.style.top = -500 + "px";
            temp.style.left = -500 + "px";
        }
        function draw_player_info() {
            var temp = document.getElementById('player_info');
            temp.innerHTML = "";
            temp.innerHTML += "ＮＡＭＥ： " + player_list[who_is_play].name() + "</br>";
            temp.innerHTML += "ＬＶ　　： " + player_list[who_is_play].lv() + "</br>";
            temp.innerHTML += "ＨＰ　　： " + player_list[who_is_play].hp() + "／" + player_list[who_is_play].maxhp() + "</br>";
            temp.innerHTML += "ＭＰ　　： " + player_list[who_is_play].mp() + "／" + player_list[who_is_play].maxmp() + "</br>";
            temp.innerHTML += "ＥＸＰ　： " + player_list[who_is_play].exp() + "／" + level_up_exp[player_list[who_is_play].lv()] + "</br>";
            temp.innerHTML += "＄＄　　： " + my_money;
            temp.style.top = 98 + "px";
            temp.style.left = 265 + "px";
        }
        function release_draw_player_info() {
            var temp = document.getElementById('player_info');
            temp.innerHTML = "";
            temp.style.top = -580 + "px";
            temp.style.left = -590 + "px";
        }
        function draw_ability_string()
        {
            var temp = document.getElementById('ability_string');
            var num = 0;
            for (var i = 0; i < 5; i++)
            {
                num += pass_record[i];
            }
            temp.innerHTML = "";
            temp.innerHTML += num + " / 5";
            temp.innerHTML += "</br>";
            temp.innerHTML += question_record[120] + " 題";
            temp.innerHTML += "</br>";
            temp.innerHTML += question_correct[120] + " 題";
            temp.innerHTML += "</br>";
            temp.innerHTML += combo_record + " 題";
            temp.innerHTML += "</br>";
            temp.style.top = 312 + "px";
            temp.style.left = 260 + "px";
        }
        function release_draw_ability_string() {
            var temp = document.getElementById('ability_string');
            temp.innerHTML = "";
            temp.style.top = -360 + "px";
            temp.style.left = -380 + "px";
        }
        function draw_npc_dialog(s) {
            var temp = document.getElementById('npc_dialog');
            temp.innerHTML = "";
            for (var i = 0; i < s.length; i++) {
                if (i % 24 == 0 && i != 0)
                    temp.innerHTML += "</br>";
                temp.innerHTML += s[i];
            }
            temp.style.top = 360 + "px";
            temp.style.left = 150 + "px";
        }
        function release_draw_npc_dialog() {
            var temp = document.getElementById('npc_dialog');
            temp.style.top = -500 + "px";
            temp.style.left = -500 + "px";
        }
        function draw_item_inform(id) {
            var temp = document.getElementById('item_inform');
            temp.innerHTML = item_list[id].intr();
            temp.style.top = 435 + "px";
            temp.style.left = 235 + "px";
        }
        function draw_bag_item_inform(id) {
            var temp = document.getElementById('bag_item_inform');
            var s = "";
            temp.innerHTML = "";
            s = item_list[id].intr() + "──數量:" + itembox[id];
            for (var i = 0; i < s.length; i++) {
                if (i % 27 == 0 && i != 0)
                    temp.innerHTML += "</br>";
                temp.innerHTML += s[i];
            }
            temp.style.top = 425 + "px";
            temp.style.left = 40 + "px";
        }
        function release_draw_bag_item_inform() {
            var temp = document.getElementById('bag_item_inform');
            temp.innerHTML = "";
            temp.style.top = -500 + "px";
            temp.style.left = -500 + "px";
        }
        function release_draw_item_inform() {
            var temp = document.getElementById('item_inform');
            temp.innerHTML = "";
            temp.style.top = -500 + "px";
            temp.style.left = -500 + "px";
        }
        function release_draw_saler_dialog() {
            var temp = document.getElementById('saler_name');
            temp.style.top = -500 + "px";
            temp.style.left = -500 + "px";
            temp = document.getElementById('saler_greet');
            temp.style.top = -500 + "px";
            temp.style.left = -500 + "px";
            temp = document.getElementById('saler_things_01');
            temp.style.top = -500 + "px";
            temp.style.left = -500 + "px";
            temp = document.getElementById('saler_things_02');
            temp.style.top = -500 + "px";
            temp.style.left = -500 + "px";
        }
        function release_draw_battle_dialog() {
            var temp = document.getElementById('battle_dialog');
            temp.style.top = -500 + "px";
            temp.style.left = -500 + "px";
        }
        function draw_yes_no_check_botton() {
            var temp = document.getElementById('check_botton');
            var temp_top = 280 + (40 * chk_y);
            var temp_left = 505;
            temp.style.top = temp_top + "px";
            temp.style.left = temp_left + "px";
        }
        function draw_chapter_trans_check_botton() {
            var temp = document.getElementById('check_botton');
            var temp_top = 140 + (35 * chk_y);
            var temp_left = 176;
            temp.style.top = temp_top + "px";
            temp.style.left = temp_left + "px";
        }
        function draw_question_check_botton() {
            what_state = 20;
            var temp = document.getElementById('check_botton');
            var temp_top = 350 + (20 * chk_y) + (20 * string_y);
            var temp_left = 40;
            temp.style.top = temp_top + "px";
            temp.style.left = temp_left + "px";
        }
        function draw_bag_check_botton() {
            var temp = document.getElementById('check_botton');
            var temp_top = 100 + (60 * chk_y);
            var temp_left = 10 + (187 * chk_x);
            temp.style.top = temp_top + "px";
            temp.style.left = temp_left + "px";
        }
        function draw_record_check_botton() {
            var temp = document.getElementById('check_botton');
            var temp_top = 72 + (41 * chk_y);
            var temp_left = 5 ;
            temp.style.top = temp_top + "px";
            temp.style.left = temp_left + "px";
        }
        function draw_battle_player_event() {
            var temp = document.getElementById('battle_player_event01');
            temp.innerHTML = "戰鬥";
            temp.style.top = 195 + "px";
            temp.style.left = 260 + "px";
            temp = document.getElementById('battle_player_event02');
            temp.innerHTML = "背包";
            temp.style.top = 215 + "px";
            temp.style.left = 260 + "px";
            temp = document.getElementById('battle_player_event03');
            temp.innerHTML = "逃跑";
            temp.style.top = 235 + "px";
            temp.style.left = 260 + "px";
        }
        function release_draw_battle_player_event() {
            var temp = document.getElementById('battle_player_event01');
            temp.style.top = -500 + "px";
            temp.style.left = -500 + "px";
            temp = document.getElementById('battle_player_event02');
            temp.style.top = -500 + "px";
            temp.style.left = -500 + "px";
            temp = document.getElementById('battle_player_event03');
            temp.style.top = -500 + "px";
            temp.style.left = -500 + "px";
            temp = document.getElementById('battle_player_event04');
            temp.style.top = -500 + "px";
            temp.style.left = -500 + "px";
        }
        function release_check_botton() {
            var temp = document.getElementById('check_botton');
            temp.style.top = -500 + "px";
            temp.style.left = -500 + "px";
            chk_x = 0;
            chk_y = 0;
        }
        function draw_saler_check_botton() {
            var temp = document.getElementById('check_botton');
            var temp_top = 150, temp_left = 200;
            temp_top += chk_y * 52;
            temp_left += chk_x * 190;
            temp.style.top = temp_top + "px";
            temp.style.left = temp_left + "px";
        }
        function draw_using_success() {
            var temp = document.getElementById('using_success');
            temp.innerHTML = "使用完成！";
            temp.style.top = 60 + "px";
            temp.style.left = 255 + "px";
            what_state = 25;
        }
        function draw_buying_success(s) {
            var temp = document.getElementById('buying_success');
            temp.innerHTML = s;
            temp.style.top = 90 + "px";
            temp.style.left = 360 + "px";
            what_state = 26;
        }
        function release_draw_buying_success() {
            var temp = document.getElementById('buying_success');
            temp.innerHTML = "";
            temp.style.top = -500 + "px";
            temp.style.left = -500 + "px";
            what_state = 2;
        }
        function release_draw_using_success() {
            var temp = document.getElementById('using_success');
            temp.innerHTML = "";
            temp.style.top = -500 + "px";
            temp.style.left = -500 + "px";
            what_state = 4;
        }
        function draw_battle_check_botton(at) {
            var temp = document.getElementById('check_botton');
            var x=0;
            var y=0;
            x=240;
            y=195+(chk_y*20);
            temp.style.top = y + "px";
            temp.style.left = x + "px";
        }
        function draw_player_skill() {
            var temp = document.getElementById('player_skill');
            var s = "";
            for (var i = 0; i < 6; i++) {
                s += pro_sk_name[player_list[who_is_play].pro()][player_list[who_is_play].sk_know(i)];
                s += "</br>";
            }
            temp.innerHTML = s;
            temp.style.top = 195 + "px";
            temp.style.left = 265 + "px";
        }
        function release_draw_player_skill() {
            var temp = document.getElementById('player_skill');
            temp.style.top = -500 + "px";
            temp.style.left = -500 + "px";
        }
        function draw_ab_battle(hp, mp, maxhp, maxmp, name, lv) {
            var temp = document.getElementById('player_name_battle');
            temp.innerHTML = name;
            temp.style.top = 205 + "px";
            temp.style.left = 55 + "px";

            temp = document.getElementById('player_hp_battle');
            temp.innerHTML = "HP:" + hp + "/" + maxhp;
            temp.style.top = 245 + "px";
            temp.style.left = 55 + "px";

            temp = document.getElementById('player_mp_battle');
            temp.innerHTML = "MP:" + mp + "/" + maxmp +"</br>" + "EXP:" + player_list[who_is_play].exp() + "/" + level_up_exp[player_list[who_is_play].lv()];
            temp.style.top = 265 + "px";
            temp.style.left = 55 + "px";

            temp = document.getElementById('player_atpt_battle');
            temp.innerHTML = "LV:" + lv;
            temp.style.top = 225 + "px";
            temp.style.left = 55 + "px";
        }
        function draw_mon_ab(hp, mp, maxhp, maxmp, name, lv) {
            var temp = document.getElementById('monster_name_battle');
            temp.innerHTML = name;
            temp.style.top = 205 + "px";
            temp.style.left = 455 + "px";

            temp = document.getElementById('monster_hp_battle');
            temp.innerHTML = "HP:" + hp + "/" + maxhp;
            temp.style.top = 245 + "px";
            temp.style.left = 455 + "px";

            temp = document.getElementById('monster_mp_battle');
            temp.innerHTML = "MP:" + mp + "/" + maxmp;
            temp.style.top = 265 + "px";
            temp.style.left = 455 + "px";

            temp = document.getElementById('monster_atpt_battle');
            temp.innerHTML = "LV:" + lv;
            temp.style.top = 225 + "px";
            temp.style.left = 455 + "px";
        }
        function release_draw_mon_ab() {
            var temp = document.getElementById('monster_name_battle');
            temp.style.top = -500 + "px";
            temp.style.left = -400 + "px";

            temp = document.getElementById('monster_hp_battle');
            temp.style.top = -500 + "px";
            temp.style.left = -400 + "px";

            temp = document.getElementById('monster_mp_battle');
            temp.style.top = -500 + "px";
            temp.style.left = -400 + "px";

            temp = document.getElementById('monster_atpt_battle');
            temp.style.top = -500 + "px";
            temp.style.left = -400 + "px";
        }
        function release_draw_ab_battle() {
            var temp = document.getElementById('player_name_battle');
            temp.style.top = -355 + "px";
            temp.style.left = -555 + "px";

            temp = document.getElementById('player_hp_battle');
            temp.style.top = -375 + "px";
            temp.style.left = -555 + "px";

            temp = document.getElementById('player_mp_battle');
            temp.style.top = -395 + "px";
            temp.style.left = -555 + "px";

            temp = document.getElementById('player_atpt_battle');
            temp.style.top = -415 + "px";
            temp.style.left = -555 + "px";
        }
        function draw_money() {
            var temp = document.getElementById('money');
            temp.innerHTML = "現有＄：" + my_money;
            temp.style.top = 90 + "px";
            temp.style.left = 225 + "px";
        }
        function release_draw_money() {
            var temp = document.getElementById('money');
            temp.innerHTML = "";
            temp.style.top = -395 + "px";
            temp.style.left = -555 + "px";
        }
        /*
        0:邊框˙
        1:草地＊
        2:石頭●
        3:NPC※
        4:磚頭口
        5:傳送點◎
        6:空白
        7:商店＄
        8:中心┼
        主角＠
        */
        var event_list = new Array(1000); //預設1000件事件
        var what_state = 0; //0:走路1:戰鬥2:商店3:維修4:背包5:狀態6:名言7:目錄8:地圖載入9:戰鬥選單10:升級案件 11:戰鬥按鍵 12:地圖按鍵 13:戰鬥結束 14:NPC對話 15:是否 16:NPC選項 17:章節 18:故事 19:節 20:問題 21:成績統計 22.傳送陣
        var map_state = new Array(12); //用來判斷移動目標的二維陣列
        var map_id = 1;
        var npc_show = 0;//紀錄NPC是否認識你
        var itembox = new Array(100); //物品包
        var who_is_play = 0;
        var my_money = 1000; //$$
        var question_record = new Array(121);//紀錄種共答題回數
        var question_correct = new Array(121);//紀錄答對回數
        var path = "下";
        var section_record = new Array(10);//紀錄章節
        var temp_box = new Array(100); //紀錄現在有的道具
        var battle_end = 0; //1我贏 2:敵營 3:他逃或我逃 0:革命尚未成功！
        var this_map_string = "";
        var myx = 0, myy = 0;
        var chk_x = 0, chk_y = 0; //紀錄選項座標
        var mon_ap_map = new Array(100);
        var player_sex = "";
        var combo_record = 0;//紀錄最高combo次數
        var mon_ap_op = new Array(100);
        var boss_ap_map = new Array(100);
        var now_mon = 0;
        var bat_bag = 0; //紀錄是否在戰鬥中使用背包
        var now_have_item = 0; //紀錄目前擁有道具數目
        var now_mon_kind = 1; //紀錄怪物種類 1:小怪 2:BOSS
        var who_round = 1; //1:主角攻擊 2:怪物攻擊
        var now_mon_temphp = 0;
        var pass_record = new Array(10);//紀錄過關與否1:是0:否
        var now_mon_tempmp = 0;
        var run_away = -1; //紀錄是否逃跑成功 1:是 0:否 -1:沒有
        var now_npc = -1; //現在的npc ID 確認對話對象之後改變
        var now_saler = -1; //現在的npc ID 確認對話對象之後改變
        var now_saler_sale_count = -1; //紀錄商人販賣道具數量(1-10)
        var now_page = 0; //紀錄背包在第幾頁
        var now_chapter = 0;
        var now_section = 0;
        var string_y = 0;//用來看按鈕是否改位置
        var now_story = 0;
        var combo = 0; //紀錄連續答對的題數1:mp+1 2:mp+3 3:mp+6 4:mp+10...and so on
        var now_questin = 0;//記錄目前的題目
        var story_id = 0; //紀錄story講到哪
        var chapter_map = new Array(10); //紀錄章節和地圖對應
        var next_chapter = 0; //紀錄是否進入另一章節選項
        var select_skill = 0; //是否在選技能1:true 0:false
        for (var i = 0; i < 10; i++)
        {
            section_record[i] = 0;
            pass_record[i] = 0;
        }
        for (var i = 0; i < 100; i++) {
            mon_ap_map[i] = new Array(4);
            mon_ap_op[i] = new Array(4);
            boss_ap_map[i] = -1; //初始
        }
        //初始化陣列值=0
        for (var i = 0; i < 100; i++) {
            for (var j = 0; j < 4; j++) {
                mon_ap_map[i][j] = 0;
                mon_ap_op[i][j] = 0;
            }
            itembox[i] = 0; //初始道具箱都沒有東西
        }
        for (var i = 0; i < 121; i++)//[120]是總紀錄
        {
            question_correct[i] = 0;//初始沒有答對
            question_record[i] = 0;//初始沒有答題
        }
        //初始化事件 0:未達成 1:完成
        for (var i = 0; i < 1000; i++) {
            event_list[i] = 0;
        }
        var pro_sk_name = new Array(4); //紀錄技能名字
        var pro_sk_po = new Array(4); //紀錄技能加成倍數
        var pro_sk_lv = new Array(4); //紀錄學會的等級
        var pro_sk_mp = new Array(4); //紀錄技能需要MP
        for (var i = 0; i < 4; i++) {
            pro_sk_lv[i] = new Array(10);
            pro_sk_po[i] = new Array(10);
            pro_sk_mp[i] = new Array(10);
            pro_sk_name[i] = new Array(10);
        }
        for (var i = 0; i < 4; i++) {
            for (var j = 0; j < 10; j++) {
                pro_sk_lv[i][j] = 0;
                pro_sk_mp[i][j] = 0;
                pro_sk_name[i][j] = "";
                pro_sk_po[i][j] = 0;
            }
        }
        var level_up_exp = new Array(100);
        level_up_exp[1] = 10;
        for (var i = 2; i < 100; i++) {
            level_up_exp[i] = Math.floor(level_up_exp[i - 1] * 1.4);
        }
        function which_npc(x, y) {
            var temp_id = -1;
            for (var i = 0; i < 100; i++)//開始搜尋NPC
            {
                if (npc_list[i].at_map() == map_id)//此ID之NPC在此地圖
                {
                    if ((npc_list[i].at_x() == x) && (npc_list[i].at_y() == y))//確定是此NPC
                    {
                        temp_id = i;
                        break;
                    }
                }
            }
            now_npc = temp_id; //
        }
        function lv_turnon_event(lv) {
            if (lv >= 4)
                event_list[5] = 1;
        }
        function init_boss_ap_map() {
            for (var i = 0; i < 20; i++) {
                if (boss_list[i].name() != null) {
                    boss_ap_map[boss_list[i].ap_map()] = i;
                }
            }
        }
        function init_mam() {
            var temp = 0;
            for (var i = 0; i < 100; i++) {
                if (mon_list[i].hp == 0)//該ID怪物未建立
                {
                    continue;
                }
                else {
                    for (var j = 0; j < 2 && mon_list[i].ap_map(j) != null; j++) {
                        while (mon_ap_op[mon_list[i].ap_map(j)][temp] > 0) {
                            temp++;
                        }
                        mon_ap_map[mon_list[i].ap_map(j)][temp] = i; //建立此ID怪物地圖索引 
                        if (temp == 0)//第一隻怪物
                        {
                            mon_ap_op[mon_list[i].ap_map(j)][temp] = mon_list[i].ap_op(j);
                        }
                        else {
                            mon_ap_op[mon_list[i].ap_map(j)][temp] = mon_list[i].ap_op(j) + mon_ap_op[mon_list[i].ap_map(j)][temp - 1];
                        }
                    }
                }
                temp = 0;
            }
        }
        function set_item_count() {
            var temp = 0;
            for (var i = 0; i < 100; i++) {
                if (itembox[i] > 0)
                    temp++;
            }
            now_have_item = temp;
        }
        function set_money(m) {
            my_money += m;
        }
        function drop_money_ai(money) {
            var temp = 0;
            temp = money + Math.floor(money * randl(100) / 100);
            return temp;
        }
        function show_player_get_at_battle() {
            what_state = 10; //按鍵解鎖
            var get_money = 0, get_exp = 0;
            var s = "";
            if (now_mon_kind == 1)//一般怪
            {
                get_exp = mon_list[now_mon].exp();
                get_money = drop_money_ai(mon_list[now_mon].drop_money());
                s += player_list[who_is_play].name() + "獲得了" + get_exp + "點經驗，＄" + get_money;
            }
            else if (now_mon_kind == 2)//BOSS
            {
                get_exp = boss_list[now_mon].exp();
                get_money = drop_money_ai(boss_list[now_mon].drop_money());
                s += player_list[who_is_play].name() + "獲得了" + get_exp + "點經驗，＄" + get_money;
                if (event_list[boss_list[now_mon].open_event()] != 1) {//此BOSS還未擊敗過
                    s += "，任務道具:" + item_list[boss_list[now_mon].drop_item()].name();
                    itembox[boss_list[now_mon].drop_item()]++;
                }
                event_list[boss_list[now_mon].open_event()] = 1;  //開啟事件
            }
            player_list[who_is_play].set_exp(get_exp);
            set_money(get_money);
            draw_ab_battle(player_list[who_is_play].hp(), player_list[who_is_play].mp(), player_list[who_is_play].maxhp(), player_list[who_is_play].maxmp(), player_list[who_is_play].name(), player_list[who_is_play].lv());
            draw_battle_dialog(s);
        }
        function battle_end_dialog() {
            var s = "";
            if (now_mon_kind == 1) {
                if (battle_end == 1) {
                    s += player_list[who_is_play].name() + "霸氣外放，" + mon_list[now_mon].name() + "跪倒在地，被擊敗了！";
                }
                else if (battle_end == 2) {
                    s += mon_list[now_mon].name() + "輕蔑一笑，" + player_list[who_is_play].name() + "無力的倒地，眼前一片黑暗。";
                    play_sound("died", 0);
                    if (player_list[who_is_play].lv() > 1) {
                        player_list[who_is_play].set_lv(player_list[who_is_play].lv() - 1);
                        player_list[who_is_play].set_exp(-(player_list[who_is_play].exp())); //將經驗值歸零
                    }
                    else {
                        player_list[who_is_play].set_lv(1);
                        player_list[who_is_play].set_exp(-(player_list[who_is_play].exp())); //將經驗值歸零
                    }
                }
            }
            else if (now_mon_kind == 2) {
                if (battle_end == 1) {
                    s += player_list[who_is_play].name() + "神武飛揚，" + boss_list[now_mon].name() + "轟然倒地，被擊敗了！";
                }
                else if (battle_end == 2) {
                    s += boss_list[now_mon].name() + "哈哈大笑，" + player_list[who_is_play].name() + "無力的倒地，眼前一片黑暗。";
                    play_sound("died", 0);
                    if (player_list[who_is_play].lv() > 1) {
                        player_list[who_is_play].set_lv(player_list[who_is_play].lv() - 1);
                        player_list[who_is_play].set_exp(-(player_list[who_is_play].exp())); //將經驗值歸零
                    }
                    else {
                        player_list[who_is_play].set_lv(1);
                        player_list[who_is_play].set_exp(-(player_list[who_is_play].exp())); //將經驗值歸零
                    }
                }
            }
            draw_battle_dialog(s);
            what_state = 13;
        }
        function close_battle() {
            now_mon_kind = 0; //重置怪物類別
            chk_x = 0;
            chk_y = 0;
            battle_end = 0; //戰鬥結束代碼1:我勝2:敵勝0:還未 此為重置
            what_state = 0;
            run_away = -1;
            select_skill = 0;
            draw_player();
            if (combo > combo_record)//連續答對紀錄
            {
                combo_record = combo;
            }
            release_draw_mon_img();
            release_check_botton();
            release_bat_map();
            release_bat_load();
            release_draw_ab_battle();
            release_draw_mon_ab();
            release_draw_battle_dialog();
            release_draw_player_skill();
            release_draw_battle_player_event();
            release_draw_player_img();
            draw_map_name();
            draw_loading_map();
        }
        function which_saler(x, y) {
            var temp_id = -1;
            for (var i = 0; i < 20; i++)//開始搜尋NPC
            {
                if (saler_list[i].at_map() == map_id)//此ID之NPC在此地圖
                {
                    if ((saler_list[i].at_x() == x) && (saler_list[i].at_y() == y))//確定是此NPC
                    {
                        temp_id = i;
                        break;
                    }
                }
            }
            now_saler = temp_id;
        }
        function talk_to_saler() {
            var num = 0;
            if (now_saler != -1)//該商人有建立
            {
                for (var i = 0; saler_list[now_saler].sale_id(i) != 0; i++) {
                    num++;
                }
                now_saler_sale_count = num;
                draw_saler_dialog();
                draw_item_inform(saler_list[now_saler].sale_id(0));
                what_state = 2; //轉換到和商人對話
            }
        }
        function which_question()
        {
            temp = randl(120);
            now_questin = temp-1;
        }
        function play_sound(i,l) {
            var temp = document.getElementById("sound");
            if (i == "3") {
                if (now_chapter % 3 == 1)
                    temp.src = "sound/walking1.mp3";
                else if (now_chapter % 3 == 2)
                    temp.src = "sound/walking2.mp3";
                else
                    temp.src = "sound/" + i + ".mp3";
                temp.autoplay = "true";
                temp.loop = "loop";
            }
            else if(i == "battle") {
                if(now_mon_kind==2)//boss
                    temp.src = "sound/battle3.mp3";
                else
                    temp.src = "sound/battle.mp3";
                temp.autoplay = "true";
                temp.loop = "loop";
            }
            else {
                if (l == 0) {
                    temp = document.getElementById("sound_unloop");
                    temp.loop = 0;
                }
                else
                    temp.loop = "loop";

                temp.src = "sound/" + i + ".mp3";
                temp.autoplay = "true";
            }
        }
        function talk_to_npc() {
            npc_show = 1;
            if (now_npc != -1 && npc_list[now_npc].kind() != 2 && npc_list[now_npc].kind() != 4) {
                if (npc_list[now_npc].now() == 0)//先判斷是否達成前置事件讓該NPC可被對話
                {
                    if (event_list[npc_list[now_npc].event_key(0)] == 0)//還沒完成前置事件 該NPC無法對話
                    {
                        npc_show = 0;//NPC不認識你
                    }
                }
            }
            if (now_npc == -1)//沒有該NPC資料
            { }
            else if (npc_show == 0)
            {
                draw_npc_name(); //畫出npc名字
                draw_talk_to_npc(); //畫背景
                if (now_chapter % 3 == 1)
                    draw_npc_dialog("我不認識你‧‧‧");
                else if (now_chapter % 3 == 2)
                    draw_npc_dialog("今天天氣真好！");
                else if (now_chapter % 3 == 0)
                    draw_npc_dialog("相逢何必曾相識。");
            }
            else {
                draw_npc_name(); //畫出npc名字
                if (npc_list[now_npc].kind() == 3) {//會改變章節的NPC
                    //檢查是否進入下一步對話
                    if (npc_list[now_npc].now() < 3)//確定還沒完成全部對話
                    {
                        if (event_list[npc_list[now_npc].event_key((npc_list[now_npc].now() + 1))] == 1 && npc_list[now_npc].event_key((npc_list[now_npc].now() + 1)) != null)//前置事件完成
                            npc_list[now_npc].set_now();
                        draw_talk_to_npc(); //畫背景
                        draw_npc_dialog(npc_list[now_npc].dialog(npc_list[now_npc].now()));
                        //對話完之後開啟事件
                        if (npc_list[now_npc].turnon_event(npc_list[now_npc].now()) != 0)//確定有設定開啟事件
                        {
                            event_list[npc_list[now_npc].turnon_event(npc_list[now_npc].now())] = 1; //開啟事件
                        }
                    }
                    else {//完成該章節
                        release_draw_npc_name();
                        pass_record[now_chapter] = 1;//該關通過
                        now_chapter++;
                        now_section = section_record[now_chapter];
                        var temp = 0;
                        for (var i = 0; i < 5; i++)
                        {
                            temp += pass_record[i];
                        }
                        if (temp == 5)//全數過關
                            draw_game_end();
                        else
                        {
                            draw_chapter();
                            draw_chapter_intr(chapter_list[now_chapter].intr(now_section));
                            path = "下";
                        }
                    }
                }
                else if (npc_list[now_npc].kind() == 7) {//會影響章節(節)的NPC
                    //檢查是否進入下一步對話
                    if (event_list[npc_list[now_npc].event_key((npc_list[now_npc].now() + 1))] == 1 && npc_list[now_npc].event_key((npc_list[now_npc].now() + 1)) != null)//前置事件完成
                        npc_list[now_npc].set_now();

                    draw_talk_to_npc(); //畫背景
                    draw_npc_dialog(npc_list[now_npc].dialog(npc_list[now_npc].now()));
                    //對話完之後開啟事件
                    if (npc_list[now_npc].turnon_event(npc_list[now_npc].now()) != 0)//確定有設定開啟事件
                    {
                        event_list[npc_list[now_npc].turnon_event(npc_list[now_npc].now())] = 1; //開啟事件
                    }
                }
                else if (npc_list[now_npc].kind() == 1) {//會改變事件的NPC
                    //檢查是否進入下一步對話
                    if (npc_list[now_npc].now() < 4)//確定還沒完成全部對話
                    {
                        if (event_list[npc_list[now_npc].event_key((npc_list[now_npc].now() + 1))] == 1 && npc_list[now_npc].event_key((npc_list[now_npc].now() + 1)) != null)//前置事件完成
                            npc_list[now_npc].set_now();
                    }
                    draw_talk_to_npc(); //畫背景
                    draw_npc_dialog(npc_list[now_npc].dialog(npc_list[now_npc].now()));
                    //對話完之後開啟事件
                    if (npc_list[now_npc].turnon_event(npc_list[now_npc].now()) != 0)//確定有設定開啟事件
                    {
                        event_list[npc_list[now_npc].turnon_event(npc_list[now_npc].now())] = 1; //開啟事件
                    }
                }
                else if (npc_list[now_npc].kind() == 2) {//純粹對話
                    draw_talk_to_npc(); //畫背景
                    draw_npc_dialog(npc_list[now_npc].dialog(npc_list[now_npc].now()));
                    if (npc_list[now_npc].now() < 4)//確定還沒完成全部對話
                    {
                        if (npc_list[now_npc].dialog((npc_list[now_npc].now() + 1)) != null)//有設定該事件
                            npc_list[now_npc].set_now();
                        else
                            npc_list[now_npc].set_init_now();
                    }
                    else {
                        npc_list[now_npc].set_init_now();
                    }
                }
                else if (npc_list[now_npc].kind() == 4) {//販賣神秘道具的NPC
                    npc_list[now_npc].set_sex(3);
                    if (npc_list[now_npc].now() == 0)//確定還沒賣出道具
                    {
                        if (event_list[npc_list[now_npc].event_key(1)] == 1)//可以被觸發
                        {
                            draw_talk_to_npc(); //畫背景
                            draw_npc_dialog(npc_list[now_npc].dialog(npc_list[now_npc].now()));
                            draw_yes_no(); //YES/NO
                            draw_yes_no_check_botton(); //之後進入what_state==15的判斷
                        }
                        else {
                            draw_talk_to_npc(); //畫背景
                            if (now_chapter % 3 == 1)
                                draw_npc_dialog("我不認識你‧‧‧");
                            else if (now_chapter % 3 == 2)
                                draw_npc_dialog("今天天氣真好！");
                            else if (now_chapter % 3 == 0)
                                draw_npc_dialog("相逢何必曾相識。");
                        }
                    }
                    else {
                        draw_talk_to_npc(); //畫背景
                        if (event_list[npc_list[now_npc].event_key(0)] == 1)//解開該系列謎題
                            draw_npc_dialog(npc_list[now_npc].dialog(3));
                        else
                            draw_npc_dialog(npc_list[now_npc].dialog(1));
                    }
                }
                else if (npc_list[now_npc].kind() == 5) {//會改變事件並給予道具的NPC
                    //檢查是否進入下一步對話
                    if (npc_list[now_npc].now() < 4)//確定還沒完成全部對話
                    {
                        if (event_list[npc_list[now_npc].event_key((npc_list[now_npc].now() + 1))] == 1 && npc_list[now_npc].event_key((npc_list[now_npc].now() + 1)) != null)//前置事件完成
                            npc_list[now_npc].set_now();
                    }
                    draw_talk_to_npc(); //畫背景
                    draw_npc_dialog(npc_list[now_npc].dialog(npc_list[now_npc].now()));
                    //對話完之後開啟事件
                    if (npc_list[now_npc].turnon_event(npc_list[now_npc].now()) != null)//確定有設定開啟事件
                    {
                        event_list[npc_list[now_npc].turnon_event(npc_list[now_npc].now())] = 1; //開啟事件
                    }
                    if (npc_list[now_npc].now() == npc_list[now_npc].turnon_event(3))//確定此事件會給予道具
                    {
                        itembox[npc_list[now_npc].turnon_event(0)] = 1;
                    }
                }
                else if (npc_list[now_npc].kind() == 6) {//會載入故事的NPC
                    //檢查是否進入下一步對話
                    if (npc_list[now_npc].now() < 4)//確定還沒完成全部對話
                    {
                        if (event_list[npc_list[now_npc].event_key((npc_list[now_npc].now() + 1))] == 1 && npc_list[now_npc].event_key((npc_list[now_npc].now() + 1)) != null)//前置事件完成
                            npc_list[now_npc].set_now();
                    }
                    if (npc_list[now_npc].now() != 2) {//不用載入故事
                        draw_talk_to_npc(); //畫背景
                        draw_npc_dialog(npc_list[now_npc].dialog(npc_list[now_npc].now()));
                    }
                    else {
                        //對話完之後開啟事件
                        if (npc_list[now_npc].turnon_event(npc_list[now_npc].now()) != 0)//確定有設定開啟事件
                        {
                            event_list[npc_list[now_npc].turnon_event(npc_list[now_npc].now())] = 1; //開啟事件
                        }
                        now_story = npc_list[now_npc].turnon_event(3);
                        now_npc = story_list[now_story].npc_id(0);
                        draw_npc_name();
                        draw_talk_to_npc(); //畫背景
                        draw_npc_dialog(story_list[now_story].intr(0));
                        what_state = 18; //故事
                    }

                    //對話完之後開啟事件
                    if (npc_list[now_npc].turnon_event(npc_list[now_npc].now()) != 0)//確定有設定開啟事件
                    {
                        event_list[npc_list[now_npc].turnon_event(npc_list[now_npc].now())] = 1; //開啟事件
                    }
                }
            }
        }
        function boss_ai() {
            var temp = 0;
            temp = randl(100);
            if (temp <= boss_list[now_mon].sk_op(0))//第一招
                return 0;
            else if (temp <= boss_list[now_mon].sk_op(1))//第二招
                return 1;
            else if (temp <= boss_list[now_mon].sk_op(2))//第三招
                return 2;
            else if (temp <= boss_list[now_mon].sk_op(3))//第四招
                return 3;
            else if (temp <= boss_list[now_mon].sk_op(4))//逃跑
                return 4;
        }
        function monster_attack(m_kind) {
            var atp = 0, dep = 0, endatp = 0, temp_ai = 0; //攻擊點atp 防禦點dep 最終攻擊點 ai
            var s = ""; //紀錄戰鬥報告的字串        
            if (m_kind == 1)//小怪
            {
                //dep = player_list[who_is_play].dept();//不需要計算防禦力
                temp_ai = mon_ai();
                if (temp_ai != 4)//怪物不是逃跑
                {
                    endatp = Math.floor(mon_list[who_is_play].at_po() * mon_list[who_is_play].sk_po(temp_ai) / 100);
                    if (temp_ai == 0)//普通攻擊
                    {
                        s += mon_list[now_mon].name() + "使出了" + mon_list[now_mon].sk_name(temp_ai);
                    }
                    else if (temp_ai == 1)//特殊攻擊
                    {
                        s += mon_list[now_mon].name() + "猛然一個迴旋，捨命般的" + mon_list[now_mon].sk_name(temp_ai);
                    }
                    player_list[who_is_play].set_hp(-endatp);
                    if (player_list[who_is_play].hp() <= 0) {
                        player_list[who_is_play].set_hp(0);
                        battle_end = 2;
                    }
                    s += "，造成了" + endatp + "點傷害。";
                    }
                else if (temp_ai == 4) {
                    s += "「咻」的一聲，膽小的" + mon_list[now_mon].name() + "逃跑了！";
                }
            }
            else if (m_kind == 2)//BOSS
            {
                temp_ai = boss_ai();
                if (temp_ai != 4)//怪物不是逃跑
                {
                    endatp = Math.floor(boss_list[who_is_play].at_po() * boss_list[who_is_play].sk_po(temp_ai) / 100);
                    if (temp_ai == 0)//普通攻擊
                    {
                        s += boss_list[now_mon].name() + "使出了" + boss_list[now_mon].sk_name(temp_ai);
                    }
                    else if (temp_ai == 1)//第二招
                    {
                        s += boss_list[now_mon].name() + "猛然一個迴旋，捨命般的" + boss_list[now_mon].sk_name(temp_ai);
                    }
                    else if (temp_ai == 2)//第三招
                    {
                        s += boss_list[now_mon].name() + "一個側身，使勁使出" + boss_list[now_mon].sk_name(temp_ai);
                    }
                    else if (temp_ai == 3)//第四招
                    {
                        s += boss_list[now_mon].name() + "絕世無雙的" + boss_list[now_mon].sk_name(temp_ai);
                    }
                    player_list[who_is_play].set_hp(-endatp);
                    if (player_list[who_is_play].hp() <= 0) {
                        if (player_list[who_is_play].lv() > 1) {
                            player_list[who_is_play].set_lv(player_list[who_is_play].lv() - 1);
                            player_list[who_is_play].set_exp(-(player_list[who_is_play].exp())); //將經驗值歸零
                        }
                        else {
                            player_list[who_is_play].set_lv(1);
                            player_list[who_is_play].set_exp(-(player_list[who_is_play].exp())); //將經驗值歸零
                        }
                        battle_end = 2;
                    }
                    s += "，造成了" + endatp + "點傷害。";
                    }
                else if (temp_ai == 4) {
                    s += "「咻」的一聲，膽小的" + boss_list[now_mon].name() + "逃跑了！";
                }
            }
            draw_battle_dialog(s);
            draw_ab_battle(player_list[who_is_play].hp(), player_list[who_is_play].mp(), player_list[who_is_play].maxhp(), player_list[who_is_play].maxmp(), player_list[who_is_play].name(), player_list[who_is_play].lv());
            what_state = 11; //戰鬥對話
            if (temp_ai == 4) {
                battle_end = 3; //逃走了
            }
        }
        function player_attack(sk_id) {
            var atp = 0, dep = 0, endatp = 0 ; //攻擊點atp 防禦點dep 最終攻擊點
            var s = ""; //紀錄戰鬥報告的字串
            endatp = pro_sk_po[player_list[who_is_play].pro()][player_list[who_is_play].sk_know(sk_id)];
            /*戰鬥公式不套用
            if (now_mon_kind == 1)
                dep = mon_list[now_mon].de_po();
            else if (now_mon_kind == 2)
                dep = boss_list[now_mon].de_po();
            endatp = atp - dep;
            */
            s += player_list[who_is_play].name();
            s += "消耗了" + pro_sk_mp[player_list[who_is_play].pro()][player_list[who_is_play].sk_know(sk_id)] + "點mp，使出了" + pro_sk_name[player_list[who_is_play].pro()][player_list[who_is_play].sk_know(sk_id)] + "，造成了";
            s += endatp + "點傷害。";
            now_mon_temphp -= endatp;
            if (now_mon_temphp <= 0) {
                now_mon_temphp = 0;
                battle_end = 1; //我贏
            }
            draw_battle_dialog(s);
            if (now_mon_kind == 1) {
                draw_mon_ab(now_mon_temphp, now_mon_tempmp, mon_list[now_mon].hp(), mon_list[now_mon].mp(), mon_list[now_mon].name(), mon_list[now_mon].lv());
            }
            else if (now_mon_kind == 2) {
                draw_mon_ab(now_mon_temphp, now_mon_tempmp, boss_list[now_mon].hp(), boss_list[now_mon].mp(), boss_list[now_mon].name(), boss_list[now_mon].lv());
            }
            what_state = 11; //戰鬥對話
        }
        function show_run_away() {
            var s = "";
            if (run_away == 1)//逃跑成功
            {
                s += "只見" + player_list[who_is_play].name() + "一個斗轉星移，從容的逃走了。";
            }
            else if (run_away == 0)//逃跑失敗
            {
                if (now_mon_kind == 1)
                    s += "只見" + player_list[who_is_play].name() + "本想逃走，卻被" + mon_list[now_mon].name() + "一聲怒吼給嚇得跌倒了！";
                else if (now_mon_kind == 2)
                    s += "只見" + player_list[who_is_play].name() + "本想逃走，卻被" + boss_list[now_mon].name() + "一聲怒吼給嚇得跌倒了！";
            }
            draw_battle_dialog(s);
        }

        function show_level_up() {
            var s = "";
            s += player_list[who_is_play].name() + "升級了！";
            draw_battle_dialog(s);
        }
        function which_mon(m) {
            var temp = 0; //紀錄亂數
            temp = randl(100);
            if (mon_ap_op[m][0] >= temp)
                return mon_ap_map[m][0];
            else if (mon_ap_op[m][1] >= temp)
                return mon_ap_map[m][1];
            else if (mon_ap_op[m][2] >= temp)
                return mon_ap_map[m][2];
            else
                return 0; //出現錯誤 顯示最低等級怪物
        }
        function randl(i) {
            var rand = 0;
            rand = Math.floor(Math.random() * (i))+ 1;
            return rand;
        }
        function combo_ai(num) {
            var temp = 0;
            for (var i = 1; i <= num; i++) {
                temp += i;
            }
            return temp;
        }
        function bat_hap() {
            var temp = randl(100);
            if (temp <= 15)
                return 1; //遇見小兵
            else if (temp <= 30)
                return 2; //遇見BOSS
        }
        function release_bat_load() {
            what_state = 0;
        }
        function release_bat_map() {
            document.getElementById('battle_map').style.left = -1000 + "px";
            document.getElementById('battle_map').style.top = -1000 + "px";
            document.getElementById('battle_map_boss').style.left = -1000 + "px";
            document.getElementById('battle_map_boss').style.top = -1000 + "px";
            play_sound("3");
            what_state = 0;
        }
        function draw_index_img() {
            document.getElementById('index_img').src = "image/menu" + (chk_y + 1) + ".png";
        }
        function release_draw_index_img() {
            document.getElementById('index_img').style.left = -1000 + "px";
            document.getElementById('index_img').style.top = -1000 + "px";
        }
        function release_draw_buying() {
            document.getElementById('buying').style.left = -1000 + "px";
            document.getElementById('buying').style.top = -1000 + "px";
            play_sound("3");
            release_draw_money();
            what_state = 0;
        }
        function release_draw_talk_to_npc() {
            document.getElementById('talk_to_npc').style.left = -1000 + "px";
            document.getElementById('talk_to_npc').style.top = -1000 + "px";
            what_state = 0;
            release_draw_npc_img();
            now_npc = -1;
        }
        function draw_game_end() {
            release_draw_map_name();
            release_draw_loading_map();
            document.getElementById('chapter').src = "image/game_end.png";
            document.getElementById('chapter').style.left = 0 + "px";
            document.getElementById('chapter').style.top = 0 + "px";
            what_state = 28;
        }
        function draw_chapter() {
            document.getElementById('chapter').style.left = 0 + "px";
            document.getElementById('chapter').style.top = 0 + "px";
            release_draw_map_name();
            release_draw_loading_map();
            play_sound("chapter");
            what_state = 16;
        }
        function release_draw_chapter() {
            document.getElementById('chapter').style.left = -1000 + "px";
            document.getElementById('chapter').style.top = -1000 + "px";
            draw_map_name();
            draw_loading_map();
            play_sound("3");
        }
        function draw_talk_to_npc() {
            document.getElementById('talk_to_npc').style.left = 120 + "px";
            document.getElementById('talk_to_npc').style.top = 300 + "px";
            draw_npc_img();
            what_state = 14;
        }
        function draw_ability() {
            document.getElementById('ability').style.left = 0 + "px";
            document.getElementById('ability').style.top = 0 + "px";
            if (player_sex.charAt(0) == '女')
                document.getElementById('player_img').src = "image/icon_girl.png";
            document.getElementById('player_img').style.left = 56 + "px";
            document.getElementById('player_img').style.top = 130 + "px";
            draw_ability_string();
            draw_player_info();
            what_state = 31;
        }
        function release_draw_ability() {
            document.getElementById('ability').style.left = -1000 + "px";
            document.getElementById('ability').style.top = -1000 + "px";
            document.getElementById('player_img').style.left = -1000 + "px";
            document.getElementById('player_img').style.top = -1000 + "px";
            release_draw_ability_string();
            release_draw_player_info();
            what_state = 0;
        }
        function draw_record_bg() {
            document.getElementById('record_bg').style.left = 0 + "px";
            document.getElementById('record_bg').style.top = 0 + "px";
            draw_all_record();
            what_state = 21;
        }
        function release_draw_record_bg() {
            document.getElementById('record_bg').style.left = -1000 + "px";
            document.getElementById('record_bg').style.top = -1000 + "px";
            release_draw_all_record();
            release_check_botton();
            draw_loading_map();
            draw_map_name();
            chk_y = 0;
            what_state = 0;
        }
        function release_draw_yes_no() {
            document.getElementById('yes_no').style.left = -100 + "px";
            document.getElementById('yes_no').style.top = -100 + "px";
        }
        function draw_yes_no() {
            document.getElementById('yes_no').style.left = 490 + "px";
            document.getElementById('yes_no').style.top = 270 + "px";
            what_state = 15;
        }
        function draw_buying() {
            document.getElementById('buying').style.left = 0 + "px";
            document.getElementById('buying').style.top = 0 + "px";
            release_draw_map_name();
            release_draw_loading_map();
            play_sound("saler");
            draw_money();
            what_state = 2;
        }
        function draw_bag() {
            document.getElementById('bag').style.left = 0 + "px";
            document.getElementById('bag').style.top = 0 + "px";
            release_draw_map_name();
            release_draw_loading_map();
            what_state = 4;
            draw_bag_check_botton();
        }
        function release_draw_bag() {
            document.getElementById('bag').style.left = -1000 + "px";
            document.getElementById('bag').style.top = -1000 + "px";
            what_state = 0;
            draw_map_name();
            draw_loading_map();
        }
        function run_away_ai() {
            var temp = 80, temp_randl = 0;
            if (now_mon_kind == 1)
                temp += player_list[who_is_play].dex() - mon_list[now_mon].dex();
            else if (now_mon_kind == 1)
                temp += player_list[who_is_play].dex() - boss_list[now_mon].dex();

            if (temp > 100)
                temp = 100;
            else if (temp < 0)
                temp = 0;
            temp_randl = randl(100);
            if (temp > temp_randl)//成功逃跑
            {
                run_away = 1;
            }
            else {
                run_away = 0;
            }
        }
        function draw_loading_map() {
            document.getElementById('loading_map').style.left = 0 + "px";
            document.getElementById('loading_map').style.top = 0 + "px";
        }
        function draw_control_intr() {
            document.getElementById('index_img').src = "image/control_intr.jpg";
            what_state = 29;
        }
        function draw_game_intr() {
            document.getElementById('index_img').src = "image/game_intr.png";
            what_state = 29;
        }
        function draw_helper() {
            document.getElementById('helper').style.left = 0 + "px";
            document.getElementById('helper').style.top = 0 + "px";
            what_state = 30;
        }
        function release_draw_helper() {
            document.getElementById('helper').style.left = -1000 + "px";
            document.getElementById('helper').style.top = -1000 + "px";
            what_state = 0;
        }
        function draw_loading_hint() {
            document.getElementById('loading_hint').style.left = 340 + "px";
            document.getElementById('loading_hint').style.top = 460 + "px";
        }
        function release_draw_loading_hint() {
            document.getElementById('loading_hint').style.left = -500 + "px";
            document.getElementById('loading_hint').style.top = -500 + "px";
        }
        function draw_select_girl() {
            document.getElementById('select_girl').style.left = 0 + "px";
            document.getElementById('select_girl').style.top = 0 + "px";
        }
        function draw_select_boy() {
            document.getElementById('select_boy').style.left = 0 + "px";
            document.getElementById('select_boy').style.top = 0 + "px";
        }
        function release_draw_select_girl() {
            document.getElementById('select_girl').style.left = -1000 + "px";
            document.getElementById('select_girl').style.top = -1000 + "px";
        }
        function release_draw_select_boy() {
            document.getElementById('select_boy').style.left = -1000 + "px";
            document.getElementById('select_boy').style.top = -1000 + "px";
        }
        function release_draw_loading_map() {
            document.getElementById('loading_map').style.left = -1000 + "px";
            document.getElementById('loading_map').style.top = -1000 + "px";
        }
        function draw_chapter_trans() {
            document.getElementById('chapter_trans').style.left = 140 + "px";
            document.getElementById('chapter_trans').style.top = 80 + "px";
            draw_chapter_trans_check_botton();
        }
        function release_draw_chapter_trans() {
            document.getElementById('chapter_trans').style.left = -1000 + "px";
            document.getElementById('chapter_trans').style.top = -1000 + "px";
        }
        function draw_bat_load() {
            if (now_mon_kind == 1)//小兵
                now_mon = which_mon(map_id);
            else if (now_mon_kind == 2)//BOSS
                now_mon = boss_ap_map[map_id];
            draw_battle_check_botton(select_skill);
            draw_bat_map(); //進入戰鬥選單
        }
        function draw_mon_img(i) {
            if(now_mon_kind==1)
                document.getElementById('mon_img').src = "image/mon" + i + ".png";
            else
                document.getElementById('mon_img').src = "image/boss" + i + ".png";
            document.getElementById('mon_img').style.left = 460+ "px";
            document.getElementById('mon_img').style.top = 70 + "px";
        }
        function draw_player_img() {
            if (player_sex.charAt(0) == '女')
                document.getElementById('player_img').src = "image/icon_girl.png";
            document.getElementById('player_img').style.left = 45 + "px";
            document.getElementById('player_img').style.top = 70 + "px";
        }
        function draw_npc_img() {
            document.getElementById('npc_img').src = "image/NPC_" + npc_list[now_npc].sex() + ".png";
            document.getElementById('npc_img').style.left = 0 + "px";
            document.getElementById('npc_img').style.top = 320 + "px";
        }
        function release_draw_npc_img() {
            document.getElementById('npc_img').style.left = -1000 + "px";
            document.getElementById('npc_img').style.top = -1000 + "px";
        }
        function release_draw_player_img() {
            document.getElementById('player_img').style.left = -1000 + "px";
            document.getElementById('player_img').style.top = -1000 + "px";
        }
        function release_draw_mon_img() {
            document.getElementById('mon_img').style.left = -1000 + "px";
            document.getElementById('mon_img').style.top = -1000 + "px";
        }
        function draw_bat_map() {
            release_draw_map_name();
            release_draw_loading_map();
            play_sound("battle");
            if (now_mon_kind == 1) {
                document.getElementById('battle_map').style.left = 0 + "px";
                document.getElementById('battle_map').style.top = 0 + "px";
            }
            else if (now_mon_kind == 2) {
                document.getElementById('battle_map_boss').style.left = 0 + "px";
                document.getElementById('battle_map_boss').style.top = 0 + "px";
            }
            draw_ab_battle(player_list[who_is_play].hp(), player_list[who_is_play].mp(), player_list[who_is_play].maxhp(), player_list[who_is_play].maxmp(), player_list[who_is_play].name(), player_list[who_is_play].lv());
            //最初載入怪物參數
            who_round = 1; //一開始玩家先攻
            if (now_mon_kind == 1) {
                now_mon_temphp = mon_list[now_mon].hp();
                now_mon_tempmp = mon_list[now_mon].mp();
                draw_mon_ab(now_mon_temphp, now_mon_tempmp, mon_list[now_mon].hp(), mon_list[now_mon].mp(), mon_list[now_mon].name(), mon_list[now_mon].lv());
            }
            else if (now_mon_kind == 2) {
                now_mon_temphp = boss_list[now_mon].hp();
                now_mon_tempmp = boss_list[now_mon].mp();
                draw_mon_ab(now_mon_temphp, now_mon_tempmp, boss_list[now_mon].hp(), boss_list[now_mon].mp(), boss_list[now_mon].name(), boss_list[now_mon].lv());
            }
            draw_mon_img(now_mon);
            draw_player_img();
            which_question();//載入問題
            draw_question_string();
            draw_question_check_botton();
            what_state = 20;
            battle_end = 0;
        }
        for (var i = 0; i < 12; i++) {
            map_state[i] = new Array(10);
        }
        function release_player() {
            document.getElementById('player').style.left = -100 + "px";
            document.getElementById('player').style.top = -100 + "px";
        }
        function draw_player() {
            document.getElementById('player').style.left = myx * 50 + "px";
            document.getElementById('player').style.top = myy * 50 + "px";
        }
        function player_moving(keycode) {
            {
                if (what_state == 0)//做走路運算
                {
                    if (keycode == 37)//左
                    {
                        if (path.charAt(0) != '左') {
                            path = "左";
                            if(player_sex.charAt(0)=='男')
                                document.getElementById('player').src = "image/boy1_left.png";
                            else
                                document.getElementById('player').src = "image/girl1_left.png";
                        }
                        else {
                            if (myx > 0)//確認不超出範圍
                            {
                                if (map_state[myx - 1][myy] == 1)//草地 作戰鬥運算
                                {
                                    myx--;
                                    draw_player();
                                    if (bat_hap() == 1)//遇見小兵
                                    {
                                        now_mon_kind = 1;
                                        draw_bat_load();
                                    }
                                    else if (bat_hap() == 2)//遇見BOSS
                                    {
                                        if (boss_ap_map[map_id] != -1)//有建立此BOSS
                                        {
                                            if (event_list[boss_list[boss_ap_map[map_id]].event_key()] == 1)//前置事件完成
                                            {
                                                now_mon_kind = 2;
                                                draw_bat_load();
                                            }
                                        }
                                    }

                                }
                                else if (map_state[myx - 1][myy] == 3)//NPC
                                {
                                    which_npc(myx - 1, myy);
                                    talk_to_npc();
                                }
                                else if (map_state[myx - 1][myy] == 4)//傳送門
                                {
                                    draw_chapter_trans();
                                    what_state = 22;
                                }
                                else if (map_state[myx - 1][myy] == 5)//傳送點 移動過去之後轉換地圖
                                {
                                    myx--;
                                    draw_player();
                                    change_map_id();
                                }
                                else if (map_state[myx - 1][myy] == 6)//陸地可移動
                                {
                                    myx--;
                                    draw_player();
                                }
                                else if (map_state[myx - 1][myy] == 7)//商店
                                {
                                    which_saler(myx - 1, myy);
                                    if (now_saler != -1)//該商人有建立
                                    {
                                        draw_buying();
                                        talk_to_saler();
                                    }

                                }
                                else if (map_state[myx - 1][myy] == 8)//維修中心
                                {
                                    //hp_helper();
                                }
                            }
                        }
                    }
                    else if (keycode == 38)//上
                    {
                        if (path.charAt(0) != '上') {
                            path = "上";
                            if (player_sex.charAt(0) == '男')
                                document.getElementById('player').src = "image/boy1_back.png";
                            else
                                document.getElementById('player').src = "image/girl1_back.png";
                        }
                        else {
                            if (myy > 0) {
                                if (map_state[myx][myy - 1] == 1)//草地 作戰鬥運算
                                {
                                    myy--;
                                    draw_player();
                                    if (bat_hap() == 1)//遇見小兵
                                    {
                                        now_mon_kind = 1;
                                        draw_bat_load();
                                    }
                                    else if (bat_hap() == 2)//遇見BOSS
                                    {
                                        if (boss_ap_map[map_id] != -1)//有建立此BOSS
                                        {
                                            if (event_list[boss_list[boss_ap_map[map_id]].event_key()] == 1)//前置事件完成
                                            {
                                                now_mon_kind = 2;
                                                draw_bat_load();
                                            }
                                        }
                                    }

                                }
                                else if (map_state[myx][myy - 1] == 3)//NPC
                                {
                                    which_npc(myx, myy - 1);
                                    talk_to_npc();
                                }
                                else if (map_state[myx][myy - 1] == 4)//傳送門
                                {
                                    draw_chapter_trans();
                                    what_state = 22;
                                }
                                else if (map_state[myx][myy - 1] == 5)//傳送點 移動過去之後轉換地圖
                                {
                                    myy -= 1;
                                    draw_player();
                                    change_map_id();
                                }
                                else if (map_state[myx][myy - 1] == 6)//陸地可移動
                                {
                                    myy--;
                                    draw_player();
                                }
                                else if (map_state[myx][myy - 1] == 7)//商店
                                {
                                    which_saler(myx, myy - 1);
                                    if (now_saler != -1)//該商人有建立
                                    {
                                        draw_buying();
                                        talk_to_saler();
                                    }
                                }
                                else if (map_state[myx][myy - 1] == 8)//維修中心
                                {
                                    //hp_helper();
                                }
                            }
                        }
                    }
                    else if (keycode == 39)//右
                    {
                        if (path.charAt(0) != '右') {
                            path = "右";
                            if (player_sex.charAt(0) == '男')
                                document.getElementById('player').src = "image/boy1_right.png";
                            else
                                document.getElementById('player').src = "image/girl1_right.png";
                        }
                        else {
                            if (myx < 11) //確認沒超出範圍
                            {
                                if (map_state[myx + 1][myy] == 1)//草地 作戰鬥運算
                                {
                                    myx++;
                                    draw_player();
                                    if (bat_hap() == 1)//遇見小兵
                                    {
                                        now_mon_kind = 1;
                                        draw_bat_load();
                                    }
                                    else if (bat_hap() == 2)//遇見BOSS
                                    {
                                        if (boss_ap_map[map_id] != -1)//有建立此BOSS
                                        {
                                            if (event_list[boss_list[boss_ap_map[map_id]].event_key()] == 1)//前置事件完成
                                            {
                                                now_mon_kind = 2;
                                                draw_bat_load();
                                            }
                                        }
                                    }

                                }
                                else if (map_state[myx + 1][myy] == 3)//NPC
                                {
                                    which_npc(myx + 1, myy);
                                    talk_to_npc();
                                }
                                else if (map_state[myx + 1][myy] == 4)//傳送門
                                {
                                    draw_chapter_trans();
                                    what_state = 22;
                                }
                                else if (map_state[myx + 1][myy] == 5)//傳送點 移動過去之後轉換地圖
                                {
                                    myx++;
                                    draw_player();
                                    change_map_id();
                                }
                                else if (map_state[myx + 1][myy] == 6)//陸地可移動
                                {
                                    myx++;
                                    draw_player();
                                }
                                else if (map_state[myx + 1][myy] == 7)//商店
                                {
                                    which_saler(myx + 1, myy);
                                    if (now_saler != -1)//該商人有建立
                                    {
                                        draw_buying();
                                        talk_to_saler();
                                    }
                                }
                                else if (map_state[myx + 1][myy] == 8)//維修中心
                                {
                                    //hp_helper();
                                }
                            }
                        }
                    }
                    else if (keycode == 40)//下
                    {
                        if (path.charAt(0) != '下') {
                            path = "下";
                            if (player_sex.charAt(0) == '男')
                                document.getElementById('player').src = "image/boy1_front.png";
                            else
                                document.getElementById('player').src = "image/girl1_front.png";
                        }
                        else {
                            if (myy < 9) {
                                if (map_state[myx][myy + 1] == 1)//草地 作戰鬥運算
                                {
                                    myy++;
                                    draw_player();
                                    if (bat_hap() == 1)//遇見小兵
                                    {
                                        now_mon_kind = 1;
                                        draw_bat_load();
                                    }
                                    else if (bat_hap() == 2)//遇見BOSS
                                    {
                                        if (boss_ap_map[map_id] != -1)//有建立此BOSS
                                        {
                                            if (event_list[boss_list[boss_ap_map[map_id]].event_key()] == 1)//前置事件完成
                                            {
                                                now_mon_kind = 2;
                                                draw_bat_load();
                                            }
                                        }
                                    }

                                }
                                else if (map_state[myx][myy + 1] == 3)//NPC
                                {
                                    which_npc(myx, myy + 1);
                                    talk_to_npc();
                                }
                                else if (map_state[myx][myy + 1] == 4)//傳送門
                                {
                                    draw_chapter_trans();
                                    what_state = 22;
                                }
                                else if (map_state[myx][myy + 1] == 5)//傳送點 移動過去之後轉換地圖
                                {
                                    myy++;
                                    draw_player();
                                    change_map_id();
                                }
                                else if (map_state[myx][myy + 1] == 6)//陸地可移動
                                {
                                    myy++;
                                    draw_player();
                                }
                                else if (map_state[myx][myy + 1] == 7)//商店
                                {
                                    which_saler(myx, myy + 1);
                                    if (now_saler != -1)//該商人有建立
                                    {
                                        draw_buying();
                                        talk_to_saler();
                                    }
                                }
                                else if (map_state[myx][myy + 1] == 8)//維修中心
                                {
                                    //hp_helper();
                                }
                            }
                        }
                    }
                    else if (keycode == 73)//背包快捷鍵
                    {
                        set_item_count();
                        draw_bag();
                        draw_bag_info();
                        if (now_have_item > 0)
                            draw_bag_item_inform(temp_box[chk_x * 5 + chk_y + now_page * 15]);
                    }
                    else if (keycode == 82)//紀錄
                    {
                        draw_question_record_string();
                        draw_question_record();
                        draw_record_bg();
                        draw_record_check_botton();
                        release_draw_loading_map();
                        release_draw_map_name();
                        what_state = 21;
                    }
                    else if (keycode == 65)//能力值
                    {
                        draw_ability();
                        release_draw_loading_map();
                        release_draw_map_name();
                    }
                    else if (keycode == 72)//操作說明
                    {
                        draw_helper();
                        release_draw_loading_map();
                        release_draw_map_name();
                    }
                }
                else if (what_state == 1)//戰鬥運算
                {

                }
                else if (what_state == 31)//能力值
                {
                    if (keycode == 13) {
                        release_draw_ability();
                        draw_loading_map();
                        draw_map_name();
                    }
                    else if (keycode == 27) {
                        release_draw_ability();
                        draw_loading_map();
                        draw_map_name();
                    }
                }
                else if (what_state == 30)//操作說明(遊戲中)
                {
                    if (keycode == 13)
                    {
                        release_draw_helper();
                        draw_loading_map();
                        draw_map_name();
                    }
                    else if (keycode == 27)
                    {
                        release_draw_helper();
                        draw_loading_map();
                        draw_map_name();
                    }
                }
                else if (what_state == 26)//購買
                {
                    if (keycode == 13)
                    {
                        release_draw_buying_success();
                    }
                }
                else if (what_state == 25)//使用道具
                {
                    if (keycode == 13)
                    {
                        release_draw_using_success();
                        set_item_count();
                        chk_x = 0;
                        chk_y = 0;
                        now_page = 0;
                        release_check_botton();
                        draw_bag_info();
                        if (bat_bag == 1) {
                            release_draw_bag();
                            release_draw_bag_info();
                            release_check_botton();
                            release_draw_bag_item_inform();
                            draw_mon_img(now_mon_kind);
                            draw_player_img();
                            chk_y = 0;
                            if (now_mon_kind == 1) {
                                draw_mon_ab(now_mon_temphp, now_mon_tempmp, mon_list[now_mon].hp(), mon_list[now_mon].mp(), mon_list[now_mon].name(), mon_list[now_mon].lv());
                            }
                            else if (now_mon_kind == 2) {
                                draw_mon_ab(now_mon_temphp, now_mon_tempmp, boss_list[now_mon].hp(), boss_list[now_mon].mp(), boss_list[now_mon].name(), boss_list[now_mon].lv());
                            }
                            draw_ab_battle(player_list[who_is_play].hp(), player_list[who_is_play].mp(), player_list[who_is_play].maxhp(), player_list[who_is_play].maxmp(), player_list[who_is_play].name(), player_list[who_is_play].lv());
                            bat_bag = 0;
                            which_question(); //載入問題
                            draw_question_string();
                            draw_question_check_botton();
                            what_state = 20; //載入新題目
                        }
                        if (what_state == 4) {
                            if (now_have_item > 0) {
                                draw_bag_check_botton();
                                draw_bag_item_inform(temp_box[chk_x * 5 + chk_y + now_page * 15]);
                            }
                            else
                                release_draw_bag_item_inform();
                        }
                    }
                }
                else if (what_state == 4)//開啟背包了
                {
                    if (keycode == 27)//ESC
                    {
                        release_draw_bag();
                        release_draw_bag_info();
                        release_check_botton();
                        release_draw_bag_item_inform();
                        if (bat_bag == 1) {
                            bat_bag = 0;
                            what_state = 9;
                            chk_y = 1;
                            draw_battle_check_botton();
                            draw_battle_player_event();
                            draw_mon_img(now_mon_kind);
                            draw_player_img();
                            if (now_mon_kind == 1) {
                                draw_mon_ab(now_mon_temphp, now_mon_tempmp, mon_list[now_mon].hp(), mon_list[now_mon].mp(), mon_list[now_mon].name(), mon_list[now_mon].lv());
                            }
                            else if (now_mon_kind == 2) {
                                draw_mon_ab(now_mon_temphp, now_mon_tempmp, boss_list[now_mon].hp(), boss_list[now_mon].mp(), boss_list[now_mon].name(), boss_list[now_mon].lv());
                            }
                            draw_ab_battle(player_list[who_is_play].hp(), player_list[who_is_play].mp(), player_list[who_is_play].maxhp(), player_list[who_is_play].maxmp(), player_list[who_is_play].name(), player_list[who_is_play].lv());
                        }
                    }
                    else if (keycode == 37)//左
                    {
                        if (chk_x > 0)
                            chk_x--;
                        else if (chk_x == 0) {
                            if (now_page > 0) {
                                now_page--;
                                chk_x = 2;
                                draw_bag_info();
                            }
                        }
                    }
                    else if (keycode == 38)//上
                    {
                        if (chk_y > 0)
                            chk_y--;
                    }
                    else if (keycode == 39)//右
                    {
                        if (chk_x < 2 && (now_have_item - now_page * 15) > (chk_x * 5 + chk_y + 5))
                            chk_x++;
                        else if (chk_x == 2 && (now_have_item - now_page * 15) > (chk_x * 5 + chk_y + 5)) {
                            chk_x = 0;
                            now_page++;
                            draw_bag_info();
                            
                        }
                    }
                    else if (keycode == 40)//下
                    {
                        if (chk_y < 4 && (now_have_item - now_page * 15) > (chk_y + chk_x * 5 + 1))
                            chk_y++;
                    }
                    else if (keycode == 13)//ENTER
                    {
                        if (item_list[temp_box[chk_x * 5 + chk_y + now_page * 15]].kind() == 3)//恢復HP
                        {
                            if (itembox[temp_box[chk_x * 5 + chk_y + now_page * 15]] > 0)//還有道具
                            {
                                player_list[who_is_play].set_hp(item_list[temp_box[chk_x * 5 + chk_y + now_page * 15]].eff());
                                if (player_list[who_is_play].hp() > player_list[who_is_play].maxhp())//超過最大值
                                {
                                    player_list[who_is_play].set_maxhp();
                                }
                                draw_using_success();
                                itembox[temp_box[chk_x * 5 + chk_y + now_page * 15]] -= 1;
                                draw_bag_item_inform(temp_box[chk_x * 5 + chk_y + now_page * 15]);
                            }
                        }
                        else if (item_list[temp_box[chk_x * 5 + chk_y + now_page * 15]].kind() == 4)//恢復MP
                        {
                            if (itembox[temp_box[chk_x * 5 + chk_y + now_page * 15]] > 0)//還有道具
                            {
                                player_list[who_is_play].set_mp(item_list[temp_box[chk_x * 5 + chk_y + now_page * 15]].eff());
                                if (player_list[who_is_play].mp() > player_list[who_is_play].maxmp())//超過最大值
                                {
                                    player_list[who_is_play].set_maxmp();
                                }
                                draw_using_success();
                                itembox[temp_box[chk_x * 5 + chk_y + now_page * 15]] -= 1;
                                draw_bag_item_inform(temp_box[chk_x * 5 + chk_y + now_page * 15]);
                            }
                        }
                    }
                    if (what_state == 4) {
                        if (now_have_item > 0) {
                            draw_bag_check_botton();
                            draw_bag_item_inform(temp_box[chk_x * 5 + chk_y + now_page * 15]);
                        }
                        else
                            release_draw_bag_item_inform();
                    }

                }
                else if (what_state == 2)//和商人對話
                {
                    if (keycode == 37)//左
                    {
                        if (chk_x == 1)
                            chk_x--;
                    }
                    else if (keycode == 38)//上
                    {
                        if (chk_y > 0)
                            chk_y--;
                    }
                    else if (keycode == 39)//右
                    {
                        if (chk_x == 0 && (now_saler_sale_count - chk_y) > 5)//會到隔壁的販賣
                            chk_x++;
                    }
                    else if (keycode == 40)//下
                    {
                        if (chk_y < 4 && now_saler_sale_count > (chk_x * 5 + chk_y + 1))//會到隔壁的販賣
                            chk_y++;
                    }
                    else if (keycode == 13)//enter
                    {
                        if (item_list[saler_list[now_saler].sale_id(chk_x * 5 + chk_y)].price() <= my_money)//有足夠的錢買
                        {
                            set_money(-(item_list[saler_list[now_saler].sale_id(chk_x * 5 + chk_y)].price())); //減少錢
                            itembox[saler_list[now_saler].sale_id(chk_x * 5 + chk_y)] += 1; //增加物品
                            draw_buying_success("購買完成！");
                        }
                        else {
                            draw_buying_success("錢不夠唷>///<");
                        }
                    }
                    else if (keycode == 27)//ESC
                    {
                        release_draw_buying();
                        release_draw_saler_dialog();
                        release_check_botton();
                        release_draw_item_inform();
                        draw_map_name();
                        draw_loading_map();
                        now_saler = -1;
                    }
                    if (now_saler != -1) {
                        draw_saler_check_botton();
                        draw_item_inform(saler_list[now_saler].sale_id(chk_x * 5 + chk_y));
                        draw_money();
                    }
                }
                else if (what_state == 15)//YES/NO
                {
                    if (keycode == 13) {
                        if (chk_y == 0)//選擇YES
                        {
                            if (npc_list[now_npc].turnon_event(2) > my_money)//錢不夠
                            {
                                draw_npc_dialog("錢不夠唷>///<");
                            }
                            else//錢夠
                            {
                                set_money(-(npc_list[now_npc].turnon_event(2)));
                                itembox[npc_list[now_npc].turnon_event(0)] = 1; //給予道具
                                event_list[npc_list[now_npc].turnon_event(1)] = 1; //開啟事件
                                npc_list[now_npc].set_now(); //鎖定購買
                                draw_npc_dialog(npc_list[now_npc].dialog(1));
                            }
                        }
                        else//選擇NO
                        {
                            draw_npc_dialog(npc_list[now_npc].dialog(2));
                        }
                        what_state = 14;
                        release_check_botton();
                        release_draw_yes_no();
                    }
                    else {
                        if (keycode == 38) {//上
                            if (chk_y > 0)
                                chk_y--;
                        }
                        else if (keycode == 40) {//下
                            if (chk_y < 1)
                                chk_y++;
                        }
                        draw_yes_no_check_botton();
                    }
                }
                else if (what_state == 18)//故事
                {
                    if (keycode == 13) {
                        if (story_id < story_list[now_story].long())//還未完成故事
                        {
                            story_id++;
                            now_npc = story_list[now_story].npc_id(story_id);
                            draw_npc_name();
                            draw_talk_to_npc(); //畫背景
                            draw_npc_dialog(story_list[now_story].intr(story_id));
                            what_state = 18;
                        }
                        else {
                            release_draw_npc_dialog();
                            release_draw_npc_name();
                            release_draw_talk_to_npc();
                            story_id = 0;
                            now_story = 0;
                            what_state = 0;
                        }
                    }
                }
                else if (what_state == 13) {
                    if (keycode == 13) {
                        if (battle_end == 1)//我贏 顯示獲得經驗 金幣 道具
                        {
                            show_player_get_at_battle();
                        }
                        else if (battle_end == 2)//敵贏 顯示重生提示($減半，等級減一，若為一則一)
                        {
                            close_battle();
                        }
                    }
                }
                else if (what_state == 14)//和NPC對話
                {
                    if (keycode == 13) {
                        if (npc_list[now_npc].now() == npc_list[now_npc].turnon_event(3) && npc_list[now_npc].kind() == 7)//載入故事
                        {
                            now_section++;
                            if (npc_list[now_npc].turnon_event(npc_list[now_npc].now()) != 0)//確定有設定開啟事件
                            {
                                event_list[npc_list[now_npc].turnon_event(npc_list[now_npc].now())] = 1; //開啟事件
                            }
                            release_draw_npc_name();
                            release_draw_talk_to_npc();
                            release_draw_npc_dialog();
                            draw_chapter();
                            draw_chapter_intr(chapter_list[now_chapter].intr(now_section));
                            what_state = 19;
                        }
                        else {
                            release_draw_talk_to_npc();
                        }
                        release_draw_npc_dialog();
                        release_draw_npc_name();
                    }
                }
                else if (what_state == 16)//Chapter
                {
                    release_draw_chapter();
                    release_draw_chapter_intr();
                    myx = 0;
                    myy = 0;
                    map_id = chapter_map[now_chapter]; //載入下一章節地圖
                    what_state = 0;
                    load_map_string();
                }
                else if (what_state == 29)//遊戲控制
                {
                    if (keycode == 13)
                    {
                        what_state = 23;
                        draw_index_img();
                    }
                    else if (keycode == 27)
                    {
                        what_state = 23;
                        draw_index_img();
                    }
                }
                else if (what_state == 23)//主選單
                {
                    if (keycode == 13) {
                        if (chk_y == 0)//新遊戲
                        {
                            release_draw_index_img();
                            draw_select_boy();
                            what_state = 24;
                            chk_y = 0;
                        }
                        else if (chk_y == 1)//遊戲介紹
                        {
                            draw_game_intr();
                        }
                        else if (chk_y == 2)//遊戲控制
                        {
                            draw_control_intr();
                        }
                    }
                    else if (keycode == 38) {
                        if (chk_y > 0) {
                            chk_y--;
                            draw_index_img()
                        }
                    }
                    else if (keycode == 40) {
                        if (chk_y < 2) {
                            chk_y++;
                            draw_index_img()
                        }
                    }
                }
                else if (what_state == 27)//combo
                {
                    if (keycode == 13) {
                        if (who_round == 1)//玩家回合
                        {
                            what_state = 9;//給玩家攻擊
                            release_draw_question_string();
                            chk_y = 0;
                            release_draw_battle_dialog();
                            draw_battle_check_botton(select_skill);
                            draw_battle_player_event();
                            draw_ab_battle(player_list[who_is_play].hp(), player_list[who_is_play].mp(), player_list[who_is_play].maxhp(), player_list[who_is_play].maxmp(), player_list[who_is_play].name(), player_list[who_is_play].lv());
                        }
                        else {
                            what_state = 1;//鎖定按鍵
                            monster_attack(now_mon_kind);
                        }
                    }
                }
                else if (what_state == 24)//選擇男女
                {
                    if (keycode == 13) {
                        if (chk_x == 0)//男角色
                        {
                            release_draw_select_boy();
                            player_sex = "男";
                            player_list[who_is_play].set_name("羅傑");
                            draw_chapter();
                            draw_chapter_intr(chapter_list[now_chapter].intr(now_section));
                        }
                        else if (chk_x == 1)//女角色
                        {
                            release_draw_select_girl();
                            player_sex = "女";
                            player_list[who_is_play].set_name("艾琳");
                            document.getElementById('player').src = "image/girl1_front.png";//改變圖片
                            chk_x = 0;
                            draw_chapter();
                            draw_chapter_intr(chapter_list[now_chapter].intr(now_section));
                        }
                    }
                    else if (keycode == 37) {
                        if (chk_x > 0) {
                            draw_select_boy();
                            release_draw_select_girl();
                            chk_x--;
                        }
                    }
                    else if (keycode == 39) {
                        if (chk_x < 1) {
                            chk_x++;
                            draw_select_girl();
                            release_draw_select_boy();
                        }
                    }
                }
                else if (what_state == 22)//傳送陣
                {
                    if (keycode == 13) {
                        section_record[now_chapter] = now_section;
                        now_chapter = chk_y;
                        now_section = section_record[now_chapter];
                        release_draw_chapter_trans();
                        release_check_botton();
                        draw_chapter();
                        draw_chapter_intr(chapter_list[now_chapter].intr(now_section));
                        chk_y = 0;
                    }
                    else if (keycode == 38)//上
                    {
                        if (chk_y > 0) {
                            chk_y--;
                        }
                        draw_chapter_trans_check_botton();
                    }
                    else if (keycode == 40)//上
                    {
                        if (chk_y < 4) {
                            chk_y++;
                        }
                        draw_chapter_trans_check_botton();
                    }
                    else if (keycode == 27)//ESC
                    {
                        release_draw_chapter_trans();
                        release_check_botton();
                        what_state = 0;
                    }
                }
                else if (what_state == 28)//結束故事
                {
                    if (keycode == 13) {
                        window.opener = null;
                        window.close();
                    }
                }
                else if (what_state == 19)//Section 節故事
                {
                    if (keycode == 13) {
                        release_draw_talk_to_npc();
                        release_draw_chapter();
                        release_draw_chapter_intr();
                        what_state = 0;
                    }
                }
                else if (what_state == 21)//Question 統計
                {
                    if (keycode == 38) {//上
                        if (chk_y > 0) {
                            chk_y--;
                        }
                        else if (now_page > 0) {
                            if (chk_y == 0) {
                                chk_y = 0;
                                now_page--;
                                draw_question_record();
                            }
                        }
                        draw_record_check_botton();
                        draw_question_record_string();
                    }
                    else if (keycode == 40) {//下
                        if ((chk_y + now_page * 10 + 1) < 120) {
                            chk_y++;
                            if (chk_y == 10) {
                                chk_y = 0;
                                now_page++;
                                draw_question_record();
                            }
                        }
                        draw_record_check_botton();
                        draw_question_record_string();
                    }
                    else if (keycode == 27) {//ESC
                        release_draw_record_bg();
                        release_draw_question_record();
                        release_draw_question_record_string();
                        what_state = 0;
                    }
                }
                else if (what_state == 20)//問題
                {
                    if (keycode == 13) {
                        if ((chk_y + 1) == question_list[now_questin].ans())//正確
                        {
                            who_round = 1;//玩家回合
                            release_check_botton();
                            release_draw_question_string();
                            question_correct[now_questin]++;//多一次答對
                            question_record[now_questin]++;//多一次答題
                            question_correct[120]++;//總答對數多一
                            question_record[120]++; //總答題數
                            combo++; //連續答對
                            draw_battle_dialog("答對了！連續答對:" + combo + "題，可以回復mp" + combo_ai(combo) + "點。");
                            what_state = 27;
                            player_list[who_is_play].set_mp(combo_ai(combo));
                            if (player_list[who_is_play].mp() > player_list[who_is_play].maxmp())//MP超出最大值
                            {
                                player_list[who_is_play].set_maxmp();
                            }
                        }
                        else//不正確
                        {
                            who_round = 2;//怪物回合
                            release_check_botton();
                            release_draw_question_string();
                            draw_battle_dialog("答錯了...");
                            what_state = 27;
                            question_record[now_questin]++;//多一次答題
                            question_record[120]++; //總答題數
                            if (combo > combo_record)//連續答對紀錄
                            {
                                combo_record = combo;
                            }
                            combo = 0;
                        }
                    }
                    else {
                        if (keycode == 38)//上
                        {
                            if (chk_y > 0)
                                chk_y--;
                        }
                        else if (keycode == 40)//下
                        {
                            if (chk_y < 2)
                                chk_y++;
                        }
                        draw_question_check_botton();
                    }
                }
                else if (what_state == 11) {
                    if (keycode == 13) {
                        //先判斷是否分出勝負
                        if (run_away == 1)//逃跑成功
                        {
                            close_battle();
                            what_state = 0;
                        }
                        else if (run_away == 0)//逃跑失敗
                        {
                            run_away = -1;
                            release_draw_battle_dialog();
                            which_question();//載入問題
                            draw_question_string();
                            draw_question_check_botton();
                            what_state = 20;
                        }
                        else if (who_round == 1)//玩家攻擊報告中
                        {
                            if (now_mon_temphp <= 0) {
                                battle_end_dialog();
                            }
                            else {
                                release_draw_battle_dialog();
                                which_question(); //載入問題
                                draw_question_string();
                                draw_question_check_botton();
                                what_state = 20; //載入新題目
                            }
                        }
                        else if (who_round == 2)//AI攻擊報告中
                        {
                            if (battle_end == 3) {
                                close_battle();
                            }
                            else if (battle_end == 2) {//主角身隕
                                battle_end_dialog();
                            }
                            else {//戰鬥繼續
                                release_draw_battle_dialog();
                                which_question();//載入問題
                                draw_question_string();
                                draw_question_check_botton();
                                what_state = 20;
                            }
                        }
                    }
                }
                else if (what_state == 10)//升級按鍵解鎖
                {
                    if (keycode == 13) {
                        if (player_list[who_is_play].exp() >= level_up_exp[player_list[who_is_play].lv()])//升級了
                        {
                            player_list[who_is_play].set_exp(-level_up_exp[player_list[who_is_play].lv()]);
                            player_list[who_is_play].set_lv(player_list[who_is_play].lv() + 1);
                            show_level_up();
                            lv_turnon_event(player_list[who_is_play].lv());
                            play_sound("level_up", 0);
                            draw_ab_battle(player_list[who_is_play].hp(), player_list[who_is_play].mp(), player_list[who_is_play].maxhp(), player_list[who_is_play].maxmp(), player_list[who_is_play].name(), player_list[who_is_play].lv());
                        }
                        else {
                            close_battle();
                        }
                    }
                }
                else if (what_state == 9)//戰鬥中玩家選擇
                {
                    if (select_skill == 0)//一般選單
                    {
                        if (keycode == 38)//上
                        {
                            if (chk_y > 0) {
                                chk_y--;
                            }
                        }
                        else if (keycode == 40)//下
                        {
                            if (chk_y < 2) {
                                chk_y++;
                            }
                        }
                        else if (keycode == 13)//ENTER
                        {
                            if (chk_y == 0)//按下戰鬥選項
                            {
                                select_skill = 1; //轉移到選擇技能
                                draw_player_skill();
                                release_draw_battle_player_event();
                                draw_battle_dialog("消耗" + pro_sk_mp[player_list[who_is_play].pro()][player_list[who_is_play].sk_know(chk_y)] + "點MP，造成" + pro_sk_po[player_list[who_is_play].pro()][player_list[who_is_play].sk_know(chk_y)] + "點傷害。");
                            }
                            else if (chk_y == 2)//按下逃跑選項
                            {
                                chk_y = 0;
                                what_state = 11;
                                run_away_ai();
                                show_run_away();
                                release_check_botton();
                            }
                            else if (chk_y == 1)//按下背包選項
                            {
                                bat_bag = 1; //戰鬥中使用道具
                                set_item_count();
                                draw_bag();
                                draw_bag_info();
                                release_draw_ab_battle();
                                release_draw_mon_ab();
                                release_draw_battle_dialog();
                                release_draw_battle_player_event();
                                release_draw_player_img();
                                release_check_botton();
                                release_draw_mon_img();
                                chk_y = 0;
                                if (now_have_item > 0) {
                                    draw_bag_item_inform(temp_box[chk_x * 5 + chk_y + now_page * 15]);
                                    draw_bag_check_botton();
                                }
                            }
                        }
                        if (what_state == 9)
                            draw_battle_check_botton(select_skill);
                    }
                    else if (select_skill == 1)//技能選擇
                    {
                        if (keycode == 13)//ENTER
                        {
                            var do_attack = 0; //紀錄是否完成攻擊 可能MP不足
                            what_state = 1; //先鎖定按鍵
                            if (chk_y == 0)//按下技能1
                            {
                                if (player_list[who_is_play].mp() >= pro_sk_mp[0][0])//MP足夠
                                {
                                    player_list[who_is_play].set_mp(-pro_sk_mp[0][0]);//減少MP
                                    player_attack(0);
                                    do_attack = 1;
                                }
                            }
                            else if (chk_y == 1)//按下技能2
                            {
                                if (player_list[who_is_play].mp() >= pro_sk_mp[0][1])//MP足夠
                                {
                                    player_list[who_is_play].set_mp(-pro_sk_mp[0][1]); //減少MP
                                    player_attack(1);
                                    do_attack = 1;
                                }
                            }
                            else if (chk_y == 2)//按下技能3
                            {
                                if (player_list[who_is_play].mp() >= pro_sk_mp[0][2])//MP足夠
                                {
                                    player_list[who_is_play].set_mp(-pro_sk_mp[0][2]); //減少MP
                                    player_attack(2);
                                    do_attack = 1;
                                }
                            }
                            else if (chk_y == 3)//按下技能4
                            {
                                if (player_list[who_is_play].mp() >= pro_sk_mp[0][3])//MP足夠
                                {
                                    player_list[who_is_play].set_mp(-pro_sk_mp[0][3]); //減少MP
                                    player_attack(3);
                                    do_attack = 1;
                                }
                            }
                            else if (chk_y == 4)//按下技能5
                            {
                                if (player_list[who_is_play].mp() >= pro_sk_mp[0][4])//MP足夠
                                {
                                    player_list[who_is_play].set_mp(-pro_sk_mp[0][4]); //減少MP
                                    player_attack(4);
                                    do_attack = 1;
                                }
                            }
                            else if (chk_y == 5)//按下技能5
                            {
                                if (player_list[who_is_play].mp() >= pro_sk_mp[0][5])//MP足夠
                                {
                                    player_list[who_is_play].set_mp(-pro_sk_mp[0][5]); //減少MP
                                    player_attack(5);
                                    do_attack = 1;
                                }
                            }
                            if (do_attack == 0) {
                                what_state = 9; //蟲新攻擊
                            }
                            else {
                                draw_ab_battle(player_list[who_is_play].hp(), player_list[who_is_play].mp(), player_list[who_is_play].maxhp(), player_list[who_is_play].maxmp(), player_list[who_is_play].name(), player_list[who_is_play].lv());
                                release_check_botton();
                                release_draw_player_skill();
                                select_skill = 0;
                                chk_x = 0;
                                chk_y = 0;
                            }
                        }
                        else {
                            if (keycode == 38)//上
                            {
                                if (chk_y > 0) {
                                    chk_y--;
                                }
                            }
                            else if (keycode == 40)//下
                            {
                                if (chk_y < 5) {
                                    chk_y++;
                                }
                            }
                            else if (keycode == 27)//ESC
                            {
                                chk_y = 0;
                                select_skill = 0;
                                release_draw_player_skill();
                                release_draw_battle_dialog();
                                draw_battle_player_event();
                            }
                            draw_battle_check_botton(select_skill);
                            if (select_skill == 1)
                                draw_battle_dialog("消耗" + pro_sk_mp[player_list[who_is_play].pro()][player_list[who_is_play].sk_know(chk_y)] + "點MP，造成" + pro_sk_po[player_list[who_is_play].pro()][player_list[who_is_play].sk_know(chk_y)] + "點傷害。");
                        }
                    }
                }
            }
        }
        function mon_ai() {
            var temp = 0;
            temp = randl(100);
            if (temp <= 70)//第一招
                return 0;
            else if (temp <= 95)//第二招
                return 1;
            else
                return 4; //逃跑
        }
        function item()//建立道具類別
        {
            var s_kind; //物品種類
            /*1:武器 2:防具 3:藥水(+HP) 4:藥水(+MP) 5:藥水(+HP&+MP) 6:藥水(+HP&+MP)(%) 7:復活藥水 8:任務道具or紀念物品 ...待建立*/
            var s_eff; //物品效果
            var s_price;
            var s_name;
            var s_intr; //物品介紹
            this.set_name = function (name) { s_name = name; }
            this.set_eff = function (eff) { s_eff = eff; }
            this.set_kind = function (kind) { s_kind = kind; }
            this.set_price = function (price) { s_price = price; }
            this.set_intr = function (s) { s_intr = s; }
            this.name = function () { return s_name; }
            this.eff = function () { return s_eff; }
            this.price = function () { return s_price; }
            this.intr = function () { return s_intr; }
            this.kind = function () { return s_kind; }
        }
        function npc()//建立NPC類別
        {
            var s_name;
            var s_sex;
            var s_at_map, s_at_x, s_at_y;
            var s_kind; //npc的種類 1:任務導向 2:純粹對話 3:影響章節(一樣以事件控制對話，差別在於會讓章節改變)
            // 4:販賣神秘道具(會開啟隱藏事件) 5:事件給予道具 6:會載入故事 7:會影響章節(節)
            var s_now = 0; //紀錄目前的count
            var s_event_key = new Array(4);
            var s_turnon_event = new Array(4);
            var s_dialog = new Array(4);
            this.set_sex = function (s) { s_sex = s; }
            this.set_now = function () { if (s_now < 4) s_now++; }
            this.set_name = function (name) { s_name = name; s_sex = 1;}//預設男生
            this.set_at_map = function (m_id) { s_at_map = m_id; }
            this.set_at_x = function (m_x) { s_at_x = m_x; }
            this.set_at_y = function (m_y) { s_at_y = m_y; }
            this.set_kind = function (kind) { s_kind = kind; }
            this.set_event_key = function (e_id, count) { s_event_key[count] = e_id; }
            this.set_turnon_event = function (e_id, count) { s_turnon_event[count] = e_id; }
            this.set_dialog = function (s, count) { s_dialog[count] = s; }
            this.set_init_now = function () { s_now = 0; }
            this.name = function () { return s_name; }
            this.sex = function () { return s_sex; }
            this.at_map = function () { return s_at_map; }
            this.now = function () { return s_now; }
            this.at_x = function () { return s_at_x; }
            this.at_y = function () { return s_at_y; }
            this.kind = function () { return s_kind; }
            this.event_key = function (count) { return s_event_key[count]; }
            this.turnon_event = function (count) { return s_turnon_event[count]; }
            this.dialog = function (count) { return s_dialog[count]; }
        }
        function map() {//建立map類別
            var s_map_array = "";
            var s_map_to = new Array(5); //紀錄傳送點會到的地圖ID
            var s_map_to_atx = new Array(5); //紀錄傳送點的X座標
            var s_map_to_aty = new Array(5); //紀錄傳送點的y座標
            var s_map_name = ""; //地圖名稱
            //以下是設定
            this.set_map_array = function (temp) {
                s_map_array += temp;
            }
            this.set_map_to_atx = function (x, count) {
                s_map_to_atx[count] = x;
            }
            this.set_map_to_aty = function (y, count) {
                s_map_to_aty[count] = y;
            }
            this.set_map_to = function (m_id, count) {
                s_map_to[count] = m_id;
            }
            this.set_map_name = function (temp) {
                s_map_name = temp;
            }
            //以下是顯示
            this.map_name = function () {
                return s_map_name;
            }
            this.map_to = function (count) {
                return s_map_to[count];
            }
            this.map_to_atx = function (count) {
                return s_map_to_atx[count];
            }
            this.map_to_aty = function (count) {
                return s_map_to_aty[count];
            }
            this.map_array = function () {
                return s_map_array;
            }
        }
        function change_map_id() {
            var tomap_id = -1; //紀錄地圖物件中的陣列索引值
            for (var i = 0; i < 5; i++) {
                if (map_list[map_id].map_to(i) == 0)
                    continue; //還未建立 i++ 
                if (map_list[map_id].map_to_atx(i) == myx)//X座標值相符
                {
                    if (map_list[map_id].map_to_aty(i) == myy)//Y座標值相符 確定是該傳送點 
                    {
                        tomap_id = map_list[map_id].map_to(i); //紀錄該目標地圖ID
                        break; //完成搜尋 跳出迴圈 
                    }
                }
            }
            if (tomap_id != -1)//有找到傳送點
            {
                for (var i = 0; i < 5; i++) {
                    if (map_list[tomap_id].map_to(i) == 0)
                        continue;
                    if (map_list[tomap_id].map_to(i) == map_id)//為該傳送點對應陣列索引值
                    {
                        myx = map_list[tomap_id].map_to_atx(i);
                        myy = map_list[tomap_id].map_to_aty(i);
                        map_id = tomap_id;
                        break; //完成 跳出迴圈 
                    }
                }
                load_map_string();
            }
        }
        function player() {
            var s_lv, s_hp, s_mp, s_atpt, s_dept, s_str, s_luk, s_int, s_dex, s_pro, s_maxhp, s_maxmp;
            var s_exp = 0;
            var s_name = "";
            var s_sk_know = new Array(4); //會的技能ID
            function set_ab() {
                s_hp = (s_lv - 1) * 20 + 50;
                s_mp = (s_lv - 1) * 10 + 50;//MP改成mp
                s_str = (s_lv - 1) * 3 + 4;
                s_dex = (s_lv - 1) * 1 + 5;
                s_luk = 4;
                s_int = 4;
                s_maxhp = s_hp;
                s_maxmp = s_mp;
                s_atpt = (s_lv - 1) * 5 + s_str * 3 + 5000;//攻擊力暫不使用
                s_dept = (s_lv - 1);
            }
            this.set_hp = function (num) { s_hp += num; }
            this.set_maxhp = function () { s_hp = s_maxhp; }
            this.set_maxmp = function () { s_mp = s_maxmp; }
            this.set_mp = function (num) { s_mp += num; }
            this.set_pro = function (pro) { s_pro = pro; }
            this.set_lv = function (lv) {
                s_lv = lv;
                set_ab();
            }
            this.set_exp = function (exp) {
                s_exp += exp;
            }
            this.set_name = function (name) { s_name = name; }
            this.set_sk_know = function (skid, count) {
                s_sk_know[count] = skid;
            }
            //以下為公開方法
            this.lv = function () { return s_lv; }
            this.hp = function () { return s_hp; }
            this.mp = function () { return s_mp; }
            this.pro = function () { return s_pro; }
            this.maxhp = function () { return s_maxhp; }
            this.maxmp = function () { return s_maxmp; }
            this.exp = function () { return s_exp; }
            this.dex = function () { return s_dex; }
            this.atpt = function () { return s_atpt; }
            this.dept = function () { return s_dept; }
            this.name = function () { return s_name; }
            this.at_po = function () { return s_at_po; }
            this.de_po = function () { return s_de_po; }
            this.sk_know = function (count) { return s_sk_know[count]; }
        }
        function saler()//建立商人類別
        {
            var s_sale_id = new Array(10); //最多販賣10種不同類型的道具
            var s_at_map; //記錄NPC所在的地圖 ID(地圖ID從1開始)
            var s_at_x; //NPC位於那張地圖的x座標 
            var s_at_y; //NPC位於那張地圖的y座標
            var s_greet; //商人的招呼用語 
            var s_name;
            this.set_name = function (name) { s_name = name; }
            this.set_at_map = function (m_id) { s_at_map = m_id; }
            this.set_at_x = function (m_x) { s_at_x = m_x; }
            this.set_at_y = function (m_y) { s_at_y = m_y; }
            this.set_greet = function (s) { s_greet = s; }
            this.set_basic_sale_id = function () {
                for (var i = 0; i < 10; i++) {
                    s_sale_id[i] = 0;
                }
            }
            this.set_sale_id = function (id, count) { s_sale_id[count] = id; }

            this.name = function () { return s_name; }
            this.at_map = function () { return s_at_map; }
            this.greet = function () { return s_greet; }
            this.at_x = function () { return s_at_x; }
            this.at_y = function () { return s_at_y; }
            this.sale_id = function (count) { return s_sale_id[count]; }
        }
        function question() {
            var s_q_string = new Array(4);
            var s_ans;
            this.set_q_string = function (s, count) { s_q_string[count] = s; }
            this.set_ans = function (a) { s_ans = a; }
            this.ans = function () { return s_ans; }
            this.q_string = function (count) { return s_q_string[count];}
        }
        function boss() {
            var s_lv, s_hp, s_mp, s_exp, s_at_po, s_de_po, s_dex, s_open_event;
            var s_name = "";
            var s_sk_name = new Array(4); //技能名
            var s_ap_map; //出現地圖
            var s_sk_po = new Array(4); //該技能加成倍數
            var s_sk_op = new Array(5); //該技能機率 (含逃跑)
            var s_event_key; //紀錄完成某事件才會開啟BOSS
            var s_drop_item;
            var s_drop_money; //掉落金錢
            this.set_basic = function (lv, hp, mp, exp, at_po, de_po, dex, dropmoney) {
                s_lv = lv;
                s_hp = hp;
                s_mp = mp;
                s_exp = exp;
                s_at_po = at_po;
                s_de_po = de_po;
                s_dex = dex;
                s_drop_money = dropmoney;
            }
            this.set_drop_item = function (id) { s_drop_item = id; }
            this.set_event_key = function (id) { s_event_key = id; }
            this.set_name = function (name) { s_name = name; }
            this.set_ap_map = function (m_id) {
                s_ap_map = m_id;
            }
            this.set_open_event = function (e) { s_open_event = e; }
            this.set_sk_op = function (op, count) {
                s_sk_op[count] = op;
            }
            this.set_sk_name = function (skname, count) {
                s_sk_name[count] = skname;
            }
            this.set_sk_po = function (skpoint, count) {
                s_sk_po[count] = skpoint;
            }
            //以下為公開方法
            this.event_key = function () { return s_event_key; }
            this.drop_item = function () { return s_drop_item; }
            this.lv = function () { return s_lv; }
            this.hp = function () { return s_hp; }
            this.mp = function () { return s_mp; }
            this.open_event = function () { return s_open_event; }
            this.exp = function () { return s_exp; }
            this.dex = function () { return s_dex; }
            this.drop_money = function () { return s_drop_money; }
            this.name = function () { return s_name; }
            this.at_po = function () { return s_at_po; }
            this.de_po = function () { return s_de_po; }
            this.ap_map = function () { return s_ap_map; }
            this.sk_op = function (count) { return s_sk_op[count]; }
            this.sk_name = function (count) { return s_sk_name[count]; }
            this.sk_po = function (count) { return s_sk_po[count]; }
        }

        function chapter() {
            var s_intr = new Array(4);
            this.set_intr = function (s, count) { s_intr[count] = s; }
            this.intr = function (count) { return s_intr[count]; }
        }
        function story() {
            var s_intr = new Array(20);
            var s_npc_id = new Array(20);
            var s_turnon_event;
            var s_long;
            this.set_turnon_event = function (e) { s_turnon_event = e; }
            this.set = function (s, npc_id, count) {
                s_intr[count] = s;
                s_npc_id[count] = npc_id;
            }
            this.set_long = function (i) { s_long = i; }
            this.npc_id = function (count) { return s_npc_id[count]; }
            this.intr = function (count) { return s_intr[count]; }
            this.long = function () { return s_long; }
            this.turnon_event = function () { return s_turnon_event; }
        }
        function monster() {
            var s_lv, s_hp, s_mp, s_exp, s_at_po, s_de_po, s_dex;
            var s_name = "";
            var s_sk_name = new Array(2); //技能名
            var s_ap_map = new Array(2); //出現地圖
            var s_ap_op = new Array(2); //該地圖出現機率
            var s_sk_po = new Array(2); //該技能加成倍數
            var s_drop_money; //掉落金錢
            this.set_basic = function (lv, hp, mp, exp, at_po, de_po, dex, dropmoney) {
                s_lv = lv;
                s_hp = hp;
                s_mp = mp;
                s_exp = exp;
                s_at_po = at_po;
                s_de_po = de_po;
                s_dex = dex;
                s_drop_money = dropmoney;
            }
            this.set_name = function (name) { s_name = name; }
            this.set_ap_map = function (m_id, count) {
                s_ap_map[count] = m_id;
            }
            this.set_ap_op = function (op, count) {
                s_ap_op[count] = op;
            }
            this.set_sk_name = function (skname, count) {
                s_sk_name[count] = skname;
            }
            this.set_sk_po = function (skpoint, count) {
                s_sk_po[count] = skpoint;
            }
            //以下為公開方法
            this.lv = function () { return s_lv; }
            this.hp = function () { return s_hp; }
            this.mp = function () { return s_mp; }
            this.exp = function () { return s_exp; }
            this.dex = function () { return s_dex; }
            this.drop_money = function () { return s_drop_money; }
            this.name = function () { return s_name; }
            this.at_po = function () { return s_at_po; }
            this.de_po = function () { return s_de_po; }
            this.ap_map = function (count) { return s_ap_map[count]; }
            this.ap_op = function (count) { return s_ap_op[count]; }
            this.sk_name = function (count) { return s_sk_name[count]; }
            this.sk_po = function (count) { return s_sk_po[count]; }
        }
        var mon_list = new Array(100); //預設100隻怪物
        var map_list = new Array(100);  //預設100張地圖
        var npc_list = new Array(100); //預設100隻NPC
        var item_list = new Array(100); //預設100種道具
        var question_list = new Array(120);//預設100題目
        var saler_list = new Array(20); //預設20個商人
        var boss_list = new Array(20); //預設20隻BOSS
        var player_list = new Array(6);
        var chapter_list = new Array(10);
        var story_list = new Array(10);
        for (var i = 0; i < 100; i++) {
            mon_list[i] = new monster();
            map_list[i] = new map();
            npc_list[i] = new npc();
            item_list[i] = new item();
        }
        for (var i = 0; i < 120; i++)
        {
            question_list[i] = new question();
        }
        for (var i = 0; i < 20; i++) {
            saler_list[i] = new saler();
            boss_list[i] = new boss();
        }

        //問題初始
        //早先有的題目
        question_list[0].set_q_string("以下何者是正確防範電腦病毒的作法：", 0);
        question_list[0].set_q_string("1.上色情網站下載軟體", 1);
        question_list[0].set_q_string("2.使用防毒軟體", 2);
        question_list[0].set_q_string("3.用牙膏抹在主機上", 3);
        question_list[0].set_ans(2);//正確答案為2

        question_list[1].set_q_string("以下何者是正確防範首頁綁架的作法：", 0);
        question_list[1].set_q_string("1.點擊不明的超連結", 1);
        question_list[1].set_q_string("2.下載盜版軟體", 2);
        question_list[1].set_q_string("3.使用防毒軟體", 3);
        question_list[1].set_ans(3);//正確答案為3

        question_list[2].set_q_string("以下何者是正確保護帳號安全的作法：", 0);
        question_list[2].set_q_string("1.定時更換密碼", 1);
        question_list[2].set_q_string("2.定時使用防毒軟體進行掃毒", 2);
        question_list[2].set_q_string("3.以上皆是", 3);
        question_list[2].set_ans(3);//正確答案為3

        question_list[3].set_q_string("以下何者是正確的資訊觀念：", 0);
        question_list[3].set_q_string("1.定期備份重要資料", 1);
        question_list[3].set_q_string("2.帳號密碼用便利貼貼在電腦螢幕下", 2);
        question_list[3].set_q_string("3.隨意上社群網站罵人，反正警察抓不到我", 3);
        question_list[3].set_ans(1);//正確答案為1

        question_list[4].set_q_string("以下何者是對硬碟的正確認知：", 0);
        question_list[4].set_q_string("1.硬碟可以水洗", 1);
        question_list[4].set_q_string("2.硬碟壞軌可能導致系統無法開啟", 2);
        question_list[4].set_q_string("3.目前硬碟的容量以KB為單位", 3);
        question_list[4].set_ans(2);//正確答案為2

        question_list[5].set_q_string("史上最難題目：(提示：原始碼)", 0);
        question_list[5].set_q_string("1.", 1);
        question_list[5].set_q_string("2.", 2);
        question_list[5].set_q_string("3.", 3);
        question_list[5].set_ans(2);//正確答案為2

        question_list[6].set_q_string("以下何者為徹底清除儲存資料的最佳方法：", 0);
        question_list[6].set_q_string("1.刪除丟入資源回收桶", 1);
        question_list[6].set_q_string("2.格式化磁碟後使用亂數隨機複寫", 2);
        question_list[6].set_q_string("3.把磁碟打爛", 3);
        question_list[6].set_ans(2);

        question_list[7].set_q_string("未了防止網路威脅，以下何者為非：", 0);
        question_list[7].set_q_string("1.安裝防毒軟體", 1);
        question_list[7].set_q_string("2.開啟防火牆", 2);
        question_list[7].set_q_string("3.點擊來路不明的廣告連結", 3);
        question_list[7].set_ans(3);

        question_list[8].set_q_string("以下何者不是電腦主機的必要配備：", 0);
        question_list[8].set_q_string("1.中央處理器", 1);
        question_list[8].set_q_string("2.獨立顯示卡", 2);
        question_list[8].set_q_string("3.主機板", 3);
        question_list[8].set_ans(2);

        question_list[9].set_q_string("以下何者不能讓電腦運行的更順暢：", 0);
        question_list[9].set_q_string("1.定期檢查並刪除不再使用的檔案", 1);
        question_list[9].set_q_string("2.定期清空應用程式快取", 2);
        question_list[9].set_q_string("3.定期安裝系統安全性更新", 3);
        question_list[9].set_ans(3);

        question_list[10].set_q_string("以下何者是硬碟使用的正確方法：", 0);
        question_list[10].set_q_string("1.避免劇烈撞擊以及震動", 1);
        question_list[10].set_q_string("2.沒事就用水把它衝乾淨", 2);
        question_list[10].set_q_string("3.維持容量近乎全滿的狀態", 3);
        question_list[10].set_ans(1);

        question_list[11].set_q_string("以下何者是SSD固態硬碟需注意與傳統硬碟不同的使用方式：", 0);
        question_list[11].set_q_string("1.避免劇烈撞擊以及震動", 1);
        question_list[11].set_q_string("2.無需定期重組磁碟", 2);
        question_list[11].set_q_string("3.保持良好的通風和散熱", 3);
        question_list[11].set_ans(2);

        question_list[12].set_q_string("以下何者是選購電腦零組件的正確方式：", 0);
        question_list[12].set_q_string("1.反正有錢就買最貴的", 1);
        question_list[12].set_q_string("2.直接選構性能價格比最高的", 2);
        question_list[12].set_q_string("3.先審視自己需求，再根據需求選購合適產品", 3);
        question_list[12].set_ans(3);
        //新增
        question_list[13].set_q_string("以下何者是電腦的正確保養方式：", 0);
        question_list[13].set_q_string("1.用酒精消毒內部零件", 1);
        question_list[13].set_q_string("2.無聊就拆裝硬體", 2);
        question_list[13].set_q_string("3.定期清除內部堆積的灰塵，改善散熱效率", 3);
        question_list[13].set_ans(3);

        //後面移植
        question_list[14].set_q_string("網路系統中資料的第一道保護措施為", 0); //"問題"
        question_list[14].set_q_string("1.目錄名稱", 1); //"選項1"
        question_list[14].set_q_string("2.使用者密碼", 2); //"選項2"
        question_list[14].set_q_string("3.檔案屬性", 3); //"選項3"
        question_list[14].set_ans(2); //答案請填數字1~3

        question_list[15].set_q_string("下列何者是保護重要的檔案文件或資料的方法", 0); //"問題"
        question_list[15].set_q_string("1.重要資料不隨意放置桌面暫時離開電腦旁時，應用密碼鎖定或登出系統", 1); //"選項1"
        question_list[15].set_q_string("2.重要的檔案應有備份並加密", 2); //"選項2"
        question_list[15].set_q_string("3.以上皆是", 3); //"選項3"
        question_list[15].set_ans(3); //答案請填數字1~3

        question_list[16].set_q_string("為了降低電腦中毒與個人資料被竊的機會，下列哪一個系統或軟體應該經常更新", 0); //"問題"
        question_list[16].set_q_string("1.作業系統", 1); //"選項1"
        question_list[16].set_q_string("2.瀏覽器軟體", 2); //"選項2"
        question_list[16].set_q_string("3.以上皆是", 3); //"選項3"
        question_list[16].set_ans(3); //答案請填數字1~3

        question_list[17].set_q_string("資料備份的時候要注意", 0); //"問題"
        question_list[17].set_q_string("1.檢查儲存媒體是否為新品", 1); //"選項1"
        question_list[17].set_q_string("2.檢查備份資料能不能正確還原", 2); //"選項2"
        question_list[17].set_q_string("3.儲存媒體必須是光碟片", 3); //"選項3"
        question_list[17].set_ans(2); //答案請填數字1~3

        question_list[18].set_q_string("何者是錯誤的「系統安全」措施", 0); //"問題"
        question_list[18].set_q_string("1.網路公用檔案設定成「唯讀」", 1); //"選項1"
        question_list[18].set_q_string("2.加密保護機密資料", 2); //"選項2"
        question_list[18].set_q_string("3.系統管理者統一保管使用者密碼", 3); //"選項3"
        question_list[18].set_ans(3); //答案請填數字1~3

        question_list[19].set_q_string("寄發重要電子郵件時，如何避免檔案被竄改或偽造", 0); //"問題"
        question_list[19].set_q_string("1.插入特製圖片", 1); //"選項1"
        question_list[19].set_q_string("2.將檔案壓縮", 2); //"選項2"
        question_list[19].set_q_string("3.使用數位簽章簽署郵件", 3); //"選項3"
        question_list[19].set_ans(3); //答案請填數字1~3


        //電腦常識
        question_list[20].set_q_string("要離開Window系統並關機，下列何種方式才為正確操作方式？", 0);
        question_list[20].set_q_string("1.拔掉電源插頭", 1);
        question_list[20].set_q_string("2.關閉PC上的電源", 2);
        question_list[20].set_q_string("3.使用開始功能表的「電腦關機」", 3);
        question_list[20].set_ans(3);

        question_list[21].set_q_string("要移除原來在Windows系統中的一套電腦遊戲，應該要如何做？", 0);
        question_list[21].set_q_string("1.利用控制台的「新增/移除程式」或該遊戲的反安裝程式", 1);
        question_list[21].set_q_string("2.刪除程式集中的選項", 2);
        question_list[21].set_q_string("3.直接刪除該遊戲的資料夾", 3);
        question_list[21].set_ans(1);

        question_list[22].set_q_string("Windows系統中安裝軟體後開機不太正常，排除障礙方式為何？", 0);
        question_list[22].set_q_string("1.參觀的來賓", 1);
        question_list[22].set_q_string("2.電腦及附屬設備", 2);
        question_list[22].set_q_string("3.避免空氣污染", 3);
        question_list[22].set_ans(2);

        question_list[23].set_q_string("Windows系統中安裝軟體後開機不太正常，排除障礙方式為何？", 0);
        question_list[23].set_q_string("1.使用安全模式開機可處理一些簡單錯誤", 1);
        question_list[23].set_q_string("2.直接移除造成問題的程式", 2);
        question_list[23].set_q_string("3.不管他繼續用", 3);
        question_list[23].set_ans(1);

        question_list[24].set_q_string("電腦畫面顯示總是比朋友的慢，可能的原因為：", 0);
        question_list[24].set_q_string("1.微處理器正常", 1);
        question_list[24].set_q_string("2.記憶體較少", 2);
        question_list[24].set_q_string("3.顯示卡太好", 3);
        question_list[24].set_ans(2);

        question_list[25].set_q_string("要讓電腦穩定運作，不應該如何？", 0);
        question_list[25].set_q_string("1.良好散熱環境", 1);
        question_list[25].set_q_string("2.軟硬體搭配恰當", 2);
        question_list[25].set_q_string("3.當電源不穩定時，不管他", 3);
        question_list[25].set_ans(3);

        question_list[26].set_q_string("下列對於電腦軟體的描述，何者正確？", 0);
        question_list[26].set_q_string("1.可以處理電腦文書工作的軟體有好多種", 1);
        question_list[26].set_q_string("2.電腦軟體的價值依售價來決定", 2);
        question_list[26].set_q_string("3.因電腦程式的BUG，造成資料流失，軟體公司一定會負責", 3);
        question_list[26].set_ans(1);

        question_list[27].set_q_string("Windows系統開機狀況下，若需重新啟動，可按哪些鍵來進行暖開機，較不傷害電腦？", 0);
        question_list[27].set_q_string("1.Ctrl-Alt-Ins", 1);
        question_list[27].set_q_string("2.Ctrl-Alt-Del", 2);
        question_list[27].set_q_string("3.Ctrl-End", 3);
        question_list[27].set_ans(2);

        question_list[28].set_q_string("有關「電腦安全防護的措施」的敘述中，下列那一項是同時針對「實體」及「資料」：", 0);
        question_list[28].set_q_string("1.不斷電系統", 1);
        question_list[28].set_q_string("2.人員定期輪調", 2);
        question_list[28].set_q_string("3.管制上機次數與時間", 3);
        question_list[28].set_ans(2);

        question_list[29].set_q_string("下列何者不是系統軟體（System Software）？", 0);
        question_list[29].set_q_string("1.作業系統（Operating System）", 1);
        question_list[29].set_q_string("2.編譯器（Compiler）", 2);
        question_list[29].set_q_string("3.電腦會計管理系統", 3);
        question_list[29].set_ans(3);

        question_list[30].set_q_string("電腦系統中，負責資源調配與作業管理的軟體是：", 0);
        question_list[30].set_q_string("1.作業程式", 1);
        question_list[30].set_q_string("2.公用程式", 2);
        question_list[30].set_q_string("3.服務程式", 3);
        question_list[30].set_ans(1);

        question_list[31].set_q_string("下面那一項不是作業系統中記孰體管理的責任？", 0);
        question_list[31].set_q_string("1.記憶體的刷新", 1);
        question_list[31].set_q_string("2.記憶體的配置策略", 2);
        question_list[31].set_q_string("3.記憶體的回收策略", 3);
        question_list[31].set_ans(1);

        question_list[32].set_q_string("構成電腦系統的機器設備稱為：", 0);
        question_list[32].set_q_string("1.硬體", 1);
        question_list[32].set_q_string("2.軟體", 2);
        question_list[32].set_q_string("3.電晶體", 3);
        question_list[32].set_ans(1);

        question_list[33].set_q_string("下列何者不屬於硬體？", 0);
        question_list[33].set_q_string("1.主記憶體", 1);
        question_list[33].set_q_string("2.磁碟", 2);
        question_list[33].set_q_string("3.作業系統", 3);
        question_list[33].set_ans(3);

        question_list[34].set_q_string("下列那一項因素並不會影響微處理機（microprocessor）系統的功能？", 0);
        question_list[34].set_q_string("1.微處理機晶片體積的大小", 1);
        question_list[34].set_q_string("2.可用的主記憶體容量大小", 2);
        question_list[34].set_q_string("3.微處理機所使用的指令集", 3);
        question_list[34].set_ans(1);

        question_list[35].set_q_string("電腦的主記憶體，它的主要用途有那二項？", 0);
        question_list[35].set_q_string("1.儲存印表，儲存顯示", 1);
        question_list[35].set_q_string("2.儲存程式指令，儲存位址", 2);
        question_list[35].set_q_string("3.儲存資料，儲存程式指令", 3);
        question_list[35].set_ans(3);

        question_list[36].set_q_string("下列那一種裝置，資料存取速度較快？", 0);
        question_list[36].set_q_string("1.SRAM", 1);
        question_list[36].set_q_string("2.HDD", 2);
        question_list[36].set_q_string("3.DRAM", 3);
        question_list[36].set_ans(1);

        question_list[37].set_q_string("下列那一項動作較可能會感染電腦病毒？", 0);
        question_list[37].set_q_string("1.使用從 Web下載的軟體", 1);
        question_list[37].set_q_string("2.使用掃毒過的USB", 2);
        question_list[37].set_q_string("3.使用合法軟體", 3);
        question_list[37].set_ans(1);

        question_list[38].set_q_string("下列何者不是電腦的輸出裝置？", 0);
        question_list[38].set_q_string("1.螢幕", 1);
        question_list[38].set_q_string("2.鍵盤", 2);
        question_list[38].set_q_string("3.印表機", 3);
        question_list[38].set_ans(2);

        question_list[39].set_q_string("面對日益嚴重的「電腦犯罪」，下列何項預防措施不正確？", 0);
        question_list[39].set_q_string("1.警衛、門禁", 1);
        question_list[39].set_q_string("2.技術性管制", 2);
        question_list[39].set_q_string("3.絕對不使用網路", 3);
        question_list[39].set_ans(3);

        question_list[40].set_q_string("下列何者不是資訊安全的防護措施？", 0);
        question_list[40].set_q_string("1.備份軟體", 1);
        question_list[40].set_q_string("2.採用合法軟體", 2);
        question_list[40].set_q_string("3.小問題組合成大問題", 3);
        question_list[40].set_ans(3);

        question_list[41].set_q_string("一台硬式磁碟機的邏輯磁碟最多可設：", 0);
        question_list[41].set_q_string("1.1台", 1);
        question_list[41].set_q_string("2.2台", 2);
        question_list[41].set_q_string("3.3台以上", 3);
        question_list[41].set_ans(3);

        question_list[42].set_q_string("資料儲存的功能是由下列那一單元來執行？", 0);
        question_list[42].set_q_string("1.算術邏輯單元", 1);
        question_list[42].set_q_string("2.記憶單元", 2);
        question_list[42].set_q_string("3.控制單元", 3);
        question_list[42].set_ans(3);

        question_list[43].set_q_string("重要資料欄的更新作業，為保留其過程的相關資料，以供核驗防範不法行為，可以利用下列什麼檔案？", 0);
        question_list[43].set_q_string("1.密碼檔", 1);
        question_list[43].set_q_string("2.日誌擋", 2);
        question_list[43].set_q_string("3.備份檔", 3);
        question_list[43].set_ans(2);

        question_list[44].set_q_string("所有電腦系統最弱的環節為？", 0);
        question_list[44].set_q_string("1.人", 1);
        question_list[44].set_q_string("2.密碼", 2);
        question_list[44].set_q_string("3.硬體", 3);
        question_list[44].set_ans(1);

        question_list[45].set_q_string("拆裝電腦時應先：", 0);
        question_list[45].set_q_string("1.進入測試軟體後再拆裝", 1);
        question_list[45].set_q_string("2.關閉電腦電源後再拆裝", 2);
        question_list[45].set_q_string("3.按Reset 鍵後再拆裝", 3);
        question_list[45].set_ans(2);

        question_list[46].set_q_string("當電腦當機時，下列何種動作無效？", 0);
        question_list[46].set_q_string("1.按 Reset 鍵", 1);
        question_list[46].set_q_string("2.螢幕關機後再開機", 2);
        question_list[46].set_q_string("3.按 Ctrl+Break 鍵", 3);
        question_list[46].set_ans(2);

        question_list[47].set_q_string("記憶體中最小的單位為：", 0);
        question_list[47].set_q_string("1.Bit", 1);
        question_list[47].set_q_string("2.Byte", 2);
        question_list[47].set_q_string("3.Word", 3);
        question_list[47].set_ans(1);

        question_list[48].set_q_string("一般而言電腦鍵盤的電源由下列何者供應？", 0);
        question_list[48].set_q_string("1.鍵盤本身", 1);
        question_list[48].set_q_string("2.主機板", 2);
        question_list[48].set_q_string("3.不須電源", 3);
        question_list[48].set_ans(2);

        question_list[49].set_q_string("下列設備何者通常作為輸入裝置？", 0);
        question_list[49].set_q_string("1.Printer", 1);
        question_list[49].set_q_string("2.Speaker", 2);
        question_list[49].set_q_string("3.Mouse", 3);
        question_list[49].set_ans(3);

        //網路及電腦安全
        question_list[50].set_q_string("下列何者不屬於網路安全的威脅?", 0);
        question_list[50].set_q_string("1.駭客入侵網站篡改資料", 1);
        question_list[50].set_q_string("2.電腦遭惡意軟體入侵", 2);
        question_list[50].set_q_string("3.淹水導致電腦損壞", 3);
        question_list[50].set_ans(3);

        question_list[51].set_q_string("為了要保護資料的安全，防止資料被人竊取或誤用，使用下列哪一種方式最佳?", 0);
        question_list[51].set_q_string("1.將資料編成密碼（Encryption）", 1);
        question_list[51].set_q_string("2.將資料隱藏（Hiding）", 2);
        question_list[51].set_q_string("3.將資料備份（Backup）", 3);
        question_list[51].set_ans(1);

        question_list[52].set_q_string("下列何者不是防火牆主要過濾的對象?", 0);
        question_list[52].set_q_string("1.網卡位址", 1);
        question_list[52].set_q_string("2.網站內容", 2);
        question_list[52].set_q_string("3.Port號碼", 3);
        question_list[52].set_ans(2);

        question_list[53].set_q_string("張老闆很注重網路安全，他希望公司內部網路一旦出現異常的狀況，系統能立即回報。請問他應該購買下列哪一種軟硬體設備最合適?", 0);
        question_list[53].set_q_string("1.防火牆", 1);
        question_list[53].set_q_string("2.入侵偵測系統", 2);
        question_list[53].set_q_string("3.UPS ", 3);
        question_list[53].set_ans(2);

        question_list[54].set_q_string("伺服器瞬間遭受大量網路封包攻擊，癱瘓服務。此電腦可能中了何種類型病毒?", 0);
        question_list[54].set_q_string("1.巨集病毒", 1);
        question_list[54].set_q_string("2.代理木馬", 2);
        question_list[54].set_q_string("3.阻斷式服務攻擊", 3);
        question_list[54].set_ans(3);

        question_list[55].set_q_string("阻擋垃圾郵件最有效的防範方法是要安裝何種軟體?", 0);
        question_list[55].set_q_string("1.防毒軟體", 1);
        question_list[55].set_q_string("2.防火牆", 2);
        question_list[55].set_q_string("3.過濾軟體", 3);
        question_list[55].set_ans(3);

        question_list[56].set_q_string("阻擋垃圾郵件最有效的防範方法是要安裝何種軟體?", 0)
        question_list[56].set_q_string("1.防毒軟體", 1);
        question_list[56].set_q_string("2.防火牆", 2);
        question_list[56].set_q_string("3.過濾軟體", 3);
        question_list[56].set_ans(3);

        question_list[57].set_q_string("下列有關防毒軟體的敘述，何者不正確?", 0);
        question_list[57].set_q_string("1.具有監控、識別、病毒掃瞄和清除的功能", 1);
        question_list[57].set_q_string("2.能保證電腦百分之百不受電腦病毒入侵", 2);
        question_list[57].set_q_string("3.通常具有自動升級和下載病毒碼等功能", 3);
        question_list[57].set_ans(2);

        question_list[58].set_q_string("下列何者不是網路防火牆的管理功能?", 0);
        question_list[58].set_q_string("1.支援遠端管理", 1);
        question_list[58].set_q_string("2.價格管理", 2);
        question_list[58].set_q_string("3.日誌記錄", 3);
        question_list[58].set_ans(2);

        question_list[59].set_q_string("下列哪一種附件檔案類型是安全、可開啟的?", 0);
        question_list[59].set_q_string("1.doc", 1);
        question_list[59].set_q_string("2.zip", 2);
        question_list[59].set_q_string("3.exe", 3);
        question_list[59].set_ans(1);

        question_list[60].set_q_string("如何設置密碼較能避免帳號被他人盜用?", 0);
        question_list[60].set_q_string("1.將密碼與帳號設為相同，較為方便", 1);
        question_list[60].set_q_string("2.將密碼與生日設為相同，以免忘記", 2);
        question_list[60].set_q_string("3.將密碼設置為複雜的英文數字組合", 3);
        question_list[60].set_ans(3);

        question_list[61].set_q_string("關於電子郵件的安全使用方式何者為非?", 0);
        question_list[61].set_q_string("1.使用防毒信箱為電子郵件作過濾", 1);
        question_list[61].set_q_string("2.不假思索地打開朋友寄來的信件附件", 2);
        question_list[61].set_q_string("3.不隨便執行不明來源郵件的附加執行檔", 3);
        question_list[61].set_ans(2);

        question_list[62].set_q_string("下列何者無法保護自身隱私權?", 0);
        question_list[62].set_q_string("1.經常清除電腦暫存區的記憶", 1);
        question_list[62].set_q_string("2.隨意註冊來路不明的論壇", 2);
        question_list[62].set_q_string("3.確認線上表單傳輸具有安全加密機制", 3);
        question_list[62].set_ans(2);

        question_list[63].set_q_string("下列協定何者較為安全?", 0);
        question_list[63].set_q_string("1.http", 1);
        question_list[63].set_q_string("2.html", 2);
        question_list[63].set_q_string("3.https", 3);
        question_list[63].set_ans(3);

        question_list[64].set_q_string("下列網路安全軟體與防毒軟體的差異何者為是?", 0);
        question_list[64].set_q_string("1.網路安全軟體才有雙向個人防火牆", 1);
        question_list[64].set_q_string("2.網路安全軟體才有隱私控管", 2);
        question_list[64].set_q_string("3.防毒軟體才有沙盒防護", 3);
        question_list[64].set_ans(1);

        question_list[65].set_q_string("無線網路的未加密認證方式是以何者方式進行?", 0);
        question_list[65].set_q_string("1.SSID", 1);
        question_list[65].set_q_string("2.MAC Address", 2);
        question_list[65].set_q_string("3.IP Address", 3);
        question_list[65].set_ans(1);

        question_list[66].set_q_string("可透過以下那個作業判斷網路或作業系統安全與否?", 0);
        question_list[66].set_q_string("1.資料加密", 1);
        question_list[66].set_q_string("2.防火牆架設", 2);
        question_list[66].set_q_string("3.執行弱點掃描", 3);
        question_list[66].set_ans(3);

        question_list[67].set_q_string("傳統的防火牆可達成以下那項作業?", 0);
        question_list[67].set_q_string("1.防止病毒入侵", 1);
        question_list[67].set_q_string("2.封包過濾", 2);
        question_list[67].set_q_string("3.阻止後門程式", 3);
        question_list[67].set_ans(2);

        question_list[68].set_q_string("以下那個項目不適於描述網路的資料安全攻擊趨勢?", 0);
        question_list[68].set_q_string("1.散佈的速度加快", 1);
        question_list[68].set_q_string("2.無線網路的安全無虞", 2);
        question_list[68].set_q_string("3.攻擊目標轉向個人電腦", 3);
        question_list[68].set_ans(2);

        question_list[69].set_q_string("下列有關防火牆的敘述，何者錯誤?", 0);
        question_list[69].set_q_string("1.能將一些未經允許的封包阻擋於受保護的網路之外", 1);
        question_list[69].set_q_string("2. 防火牆功能可以藉由路由器、主機或伺服器等軟硬體來實現", 2);
        question_list[69].set_q_string("3.防火牆無法依據IP位址來過濾封包", 3);
        question_list[69].set_ans(2);

        question_list[70].set_q_string("不定期做硬碟中資料的備份工作是為", 0);
        question_list[70].set_q_string("1.資料安全", 1);
        question_list[70].set_q_string("2.實體安全", 2);
        question_list[70].set_q_string("3.系統安全", 3);
        question_list[70].set_ans(1);

        question_list[71].set_q_string("下列何者是保護通訊資料安全較有效的方法?", 0);
        question_list[71].set_q_string("1.資料加密", 1);
        question_list[71].set_q_string("2.資料備份", 2);
        question_list[71].set_q_string("3.資料壓縮", 3);
        question_list[71].set_ans(1);

        question_list[72].set_q_string("下列何項不是從資訊安全的角度來看WLAN安全?", 0);
        question_list[72].set_q_string("1.資料內容之加密", 1);
        question_list[72].set_q_string("2.AP涵蓋之範圍", 2);
        question_list[72].set_q_string("3.防止偽裝置可存取WLAN ", 3);
        question_list[72].set_ans(2);

        question_list[73].set_q_string("防止偽裝置可存取WLAN?", 0);
        question_list[73].set_q_string("1.WLAN資料攔截", 1);
        question_list[73].set_q_string("2.連上偽WLAN裝置", 2);
        question_list[73].set_q_string("3.以上皆是", 3);
        question_list[73].set_ans(3);

        question_list[74].set_q_string("針對AP之安全，您建議最適當的措施是下列何項?", 0);
        question_list[74].set_q_string("1.管理者連線到AP時應使用HTTPS方式", 1);
        question_list[74].set_q_string("2.SSID儘可能地使用組織名稱以方便識別", 2);
        question_list[74].set_q_string("3.既然都無法保證WEP金鑰不會被破解，乾脆不要使用", 3);
        question_list[74].set_ans(1);

        question_list[75].set_q_string("下列WEP金鑰之敘述何者為真?", 0);
        question_list[75].set_q_string("1.驗證機制不足", 1);
        question_list[75].set_q_string("2.良好加密能力", 2);
        question_list[75].set_q_string("3.具授權機制", 3);
        question_list[75].set_ans(1);

        question_list[76].set_q_string("以下何者最可能大幅降低入侵者獲取內部系統存取權的風險?", 0);
        question_list[76].set_q_string("1.防火牆", 1);
        question_list[76].set_q_string("2.VPN", 2);
        question_list[76].set_q_string("3.IDS/IPS", 3);
        question_list[76].set_ans(2);

        question_list[77].set_q_string("某個網站的URL開始為https://，這代表該網站使用何種安全機制?", 0);
        question_list[77].set_q_string("1.SAT", 1);
        question_list[77].set_q_string("2.SSL", 2);
        question_list[77].set_q_string("3.SAP", 3);
        question_list[77].set_ans(3);

        question_list[78].set_q_string("下列何者具有可以有效管制進入內部網路的封包，將內部網路和外部網路、或網際網路互相隔離，以保護內部網路或主機?", 0);
        question_list[78].set_q_string("1.防火牆", 1);
        question_list[78].set_q_string("2.隔離軟體", 2);
        question_list[78].set_q_string("3.防毒軟體", 3);
        question_list[78].set_ans(1);

        question_list[79].set_q_string("含有安全性資料內容的正常網頁，如網路銀行的網頁等，瀏覽器右下角會標示那一個圖示?", 0);
        question_list[79].set_q_string("1.鎖頭", 1);
        question_list[79].set_q_string("2.鑰匙", 2);
        question_list[79].set_q_string("3.旗幟", 3);
        question_list[79].set_ans(1);

        question_list[80].set_q_string("資安專家建議民眾使用電腦後應刪除cookie，請問cookie是指?", 0);
        question_list[80].set_q_string("1.瀏覽網頁的暫存檔", 1);
        question_list[80].set_q_string("2.記錄有帳號及瀏覽記錄的檔案", 2);
        question_list[80].set_q_string("3.防毒軟體的病毒碼", 3);
        question_list[80].set_ans(2);

        question_list[81].set_q_string("下列何者最容易受到網路攻擊?", 0);
        question_list[81].set_q_string("1.安裝最新防毒軟體的電腦", 1);
        question_list[81].set_q_string("2.安裝防毒軟體後從未更新的電腦", 2);
        question_list[81].set_q_string("3.安裝防毒軟體但將其關閉的電腦", 3);
        question_list[81].set_ans(3);

        question_list[82].set_q_string("如何避免遭受釣魚攻擊?", 0);
        question_list[82].set_q_string("1.不要在索取您個人資訊的電子郵件中填寫其自帶的表格或洩露任何個人資訊", 1);
        question_list[82].set_q_string("2.瀏覽網站時，使用電子郵件中附帶的連結", 2);
        question_list[82].set_q_string("3.瀏覽器版本與是否遭受攻擊無關", 3);
        question_list[82].set_ans(1);

        question_list[83].set_q_string("有些無線網路為何設有網路金鑰?", 0);
        question_list[83].set_q_string("1.減少上網費用", 1);
        question_list[83].set_q_string("2.讓上網速度變快", 2);
        question_list[83].set_q_string("3.防止電腦裡的資料遭他人竊取", 3);
        question_list[83].set_ans(3);

        question_list[84].set_q_string("家裡的無線網路要進行安全設定嗎?", 0);
        question_list[84].set_q_string("1.是的，這樣可以保護家用電腦裡資料的安全", 1);
        question_list[84].set_q_string("2.是的，這樣就不用在安裝防毒軟體", 2);
        question_list[84].set_q_string("3.否，家裡無線網路應該開放給大家使用", 3);
        question_list[84].set_ans(1);

        question_list[85].set_q_string("防止用戶被冒名所欺騙的方法是?", 0);
        question_list[85].set_q_string("1.對資訊源發方進行身份驗證", 1);
        question_list[85].set_q_string("2.進行資料加密", 2);
        question_list[85].set_q_string("3.採用防火牆", 3);
        question_list[85].set_ans(1);

        question_list[86].set_q_string("以下哪一項不屬於電腦病毒的防治策略?", 0);
        question_list[86].set_q_string("1.防毒能力", 1);
        question_list[86].set_q_string("2.掃毒能力", 2);
        question_list[86].set_q_string("3.禁毒能力", 3);
        question_list[86].set_ans(3);

        question_list[87].set_q_string("以下關於數位簽章說法正確的是?", 0);
        question_list[87].set_q_string("1.數位簽章能夠解決資料的加密傳輸，即安全傳輸問題", 1);
        question_list[87].set_q_string("2.數位簽章一般採用對稱加密機制", 2);
        question_list[87].set_q_string("3.數位簽章能夠解決篡改、偽造等安全性問題", 3);
        question_list[87].set_ans(3);

        question_list[88].set_q_string("網路的安全複雜因素，由低到高是? 1. 使用E-mail 2. 瀏覽網頁(Web)3. 架設網站4. 電子商務網站", 0);
        question_list[88].set_q_string("1.1234", 1);
        question_list[88].set_q_string("2.4321", 2);
        question_list[88].set_q_string("3.1243", 3);
        question_list[88].set_ans(3);

        question_list[89].set_q_string("一項協助確保資訊安全的裝置，其會依照特定的規則，允許或是限制資料通過?", 0);
        question_list[89].set_q_string("1.Ghost ", 1);
        question_list[89].set_q_string("2.防毒軟體", 2);
        question_list[89].set_q_string("3.防火牆", 3);
        question_list[89].set_ans(3);

        //資料檔案儲存保護&安全
        question_list[90].set_q_string("在個人部落格上撰寫文章，如果要引用別人的資料，應該如何處理", 0); //"問題"
        question_list[90].set_q_string("1.複製後可微幅修改", 1); //"選項1"
        question_list[90].set_q_string("2.徵求原作者的同意", 2); //"選項2"
        question_list[90].set_q_string("3.儘量修改，不要與原資料相同", 3); //"選項3"
        question_list[90].set_ans(2); //答案請填數字1~3

        question_list[91].set_q_string("下列那一項動作進行時，重新開機會造成檔案被破壞的可能", 0); //"問題"
        question_list[91].set_q_string("1.程式正在計算", 1); //"選項1"
        question_list[91].set_q_string("2.程式等待使用者輸入資料", 2); //"選項2"
        question_list[91].set_q_string("3.程式正在對磁碟寫資料", 3); //"選項3"
        question_list[91].set_ans(3); //答案請填數字1~3

        question_list[92].set_q_string("瀏覽器上方的網址列出現https時，代表這個網站具有哪一項功能", 0); //"問題"
        question_list[92].set_q_string("1.資料是加密傳輸", 1); //"選項1"
        question_list[92].set_q_string("2.具有網路信賴付款機制", 2); //"選項2"
        question_list[92].set_q_string("3.以上皆是", 3); //"選項3"
        question_list[92].set_ans(1); //答案請填數字1~3

        question_list[93].set_q_string("家裡的無線網路應該進行哪些設定，以加強連線安全", 0); //"問題"
        question_list[93].set_q_string("1.網路連線設定驗證密碼", 1); //"選項1"
        question_list[93].set_q_string("2.設定特定的電腦才能連線", 2); //"選項2"
        question_list[93].set_q_string("3.以上皆是", 3); //"選項3"
        question_list[93].set_ans(3); //答案請填數字1~3

        question_list[94].set_q_string("在圖書館、網咖等地方使用公共電腦上網時，下列哪一個不是必須注意的安全事項", 0); //"問題"
        question_list[94].set_q_string("1.使用時，應注意電腦有沒有安裝SKYPE等即時通訊軟體", 1); //"選項1"
        question_list[94].set_q_string("2.使用時，應注意有沒有不明的程式正在執行", 2); //"選項2"
        question_list[94].set_q_string("3.使用完，應清除網際網路瀏覽器的 Cookies", 3); //"選項3"
        question_list[94].set_ans(1); //答案請填數字1~3

        question_list[95].set_q_string("寄發重要電子郵件時，如何避免檔案被竄改或偽造", 0); //"問題"
        question_list[95].set_q_string("1.插入特製圖片", 1); //"選項1"
        question_list[95].set_q_string("2.將檔案壓縮", 2); //"選項2"
        question_list[95].set_q_string("3.使用數位簽章簽署郵件", 3); //"選項3"
        question_list[95].set_ans(3); //答案請填數字1~3

        question_list[96].set_q_string("使用咖啡店的無線網路可以安全地進行下列哪項網路使用行為", 0); //"問題"
        question_list[96].set_q_string("1.收發電子郵件", 1); //"選項1"
        question_list[96].set_q_string("2.查詢資料，不要登入任何帳號密碼", 2); //"選項2"
        question_list[96].set_q_string("3.以上皆是", 3); //"選項3"
        question_list[96].set_ans(2); //答案請填數字1~3

        question_list[97].set_q_string("下列何者不屬於資訊安全的威脅", 0); //"問題"
        question_list[97].set_q_string("1.資料存取控制", 1); //"選項1"
        question_list[97].set_q_string("2.人為過失", 2); //"選項2"
        question_list[97].set_q_string("3.天然災害", 3); //"選項3"
        question_list[97].set_ans(1); //答案請填數字1~3

        question_list[98].set_q_string("訂定災害防治標準作業程序及重要資料的備份，是屬何種時期所做的工作", 0); //"問題"
        question_list[98].set_q_string("1.過渡時期", 1); //"選項1"
        question_list[98].set_q_string("2.災變前", 2); //"選項2"
        question_list[98].set_q_string("3.災變復原時期", 3); //"選項3"
        question_list[98].set_ans(2); //答案請填數字1~3

        question_list[99].set_q_string("預防電腦犯罪最應做之事項", 0); //"問題"
        question_list[99].set_q_string("1.資料備份", 1); //"選項1"
        question_list[99].set_q_string("2.建立資訊安全管制系統", 2); //"選項2"
        question_list[99].set_q_string("3.和警局連線", 3); //"選項3"
        question_list[99].set_ans(1); //答案請填數字1~3        

        question_list[100].set_q_string("一名大學副教授存放升等論文的筆記型電腦竟然遭竊。請問如果他事前有進行哪一項措施，就可以降低受損情況", 0); //"問題"
        question_list[100].set_q_string("1.安裝防火牆", 1); //"選項1"
        question_list[100].set_q_string("2.經常備份資料，並把儲存媒體放在不同地點", 2); //"選項2"
        question_list[100].set_q_string("3.把資料備份在同一顆硬碟", 3); //"選項3"
        question_list[100].set_ans(2); //答案請填數字1~3

        question_list[101].set_q_string("網路私密照片、私人部落格內容等外流事件，時有所聞。下列哪一種行為可能讓您的隱私資料，有外洩危險", 0); //"問題"
        question_list[101].set_q_string("1. 未將資料另外存放於私密資料夾", 1); //"選項1"
        question_list[101].set_q_string("2.私密資料夾未設定存取密碼", 2); //"選項2"
        question_list[101].set_q_string("3.以上皆是", 3); //"選項3"
        question_list[101].set_ans(3); //答案請填數字1~3

        question_list[102].set_q_string(" 美國警方破獲一個專門竊取無線上網者個人資料的駭客集團。這些受害者的電腦可能缺少哪一項防護措施", 0); //"問題"
        question_list[102].set_q_string("1.防火牆", 1); //"選項1"
        question_list[102].set_q_string("2.無線網路基地台的安全管理功能", 2); //"選項2"
        question_list[102].set_q_string("3.以上皆是", 3); //"選項3"
        question_list[102].set_ans(3); //答案請填數字1~3

        question_list[103].set_q_string("使用無線上網可能會有哪種風險", 0); //"問題"
        question_list[103].set_q_string("1.影響網路的穩定性", 1); //"選項1"
        question_list[103].set_q_string("2.若連線沒有加密，資料可能遭竊", 2); //"選項2"
        question_list[103].set_q_string("3.導致某些即時通訊軟體不能使用", 3); //"選項3"
        question_list[103].set_ans(2); //答案請填數字1~3

        question_list[104].set_q_string("使用無線網路時，如果發現有其他不明的無線連線可供使用，應該如何處理", 0); //"問題"
        question_list[104].set_q_string("1.可以放心使用免費的連線", 1); //"選項1"
        question_list[104].set_q_string("2.可以使用，以便偷看別人的資料", 2); //"選項2"
        question_list[104].set_q_string("3.不要使用，以免資料被竊取", 3); //"選項3"
        question_list[104].set_ans(3); //答案請填數字1~3

        question_list[105].set_q_string("在學校或網咖等地方使用公共電腦，應該注意哪一種可能的風險", 0); //"問題"
        question_list[105].set_q_string("1.若有存取檔案，可能感染病毒", 1); //"選項1"
        question_list[105].set_q_string("2.若有輸入個人資料，可能遭外洩或盜用", 2); //"選項2"
        question_list[105].set_q_string("3.以上皆是", 3); //"選項3"
        question_list[105].set_ans(3); //答案請填數字1~3

        question_list[106].set_q_string("如果用來上網的電腦沒有儲存重要資料，是否還需要設定密碼", 0); //"問題"
        question_list[106].set_q_string("1.需要，因為電腦駭客可能會利用我的電腦作為攻擊其他電腦的跳板", 1); //"選項1"
        question_list[106].set_q_string("2.需要，不然大家都會跟我借電腦", 2); //"選項2"
        question_list[106].set_q_string("3.不需要，不會有重要資料外流的風險", 3); //"選項3"
        question_list[106].set_ans(1); //答案請填數字1~3

        question_list[107].set_q_string("平常進行電腦檔案備份時，下列哪一種是錯誤的作法", 0); //"問題"
        question_list[107].set_q_string("1.將資料燒錄至光碟", 1); //"選項1"
        question_list[107].set_q_string("2.將資料上傳至檔案伺服器", 2); //"選項2"
        question_list[107].set_q_string("3.將資料複製在同一顆硬碟", 3); //"選項3"
        question_list[107].set_ans(3); //答案請填數字1~3

        question_list[108].set_q_string("即使您已經在某個網站留下個人資料，但是網站的哪一項作法，仍屬侵犯隱私權", 0); //"問題"
        question_list[108].set_q_string("1.未經同意將您的個人資料提供給關係企業", 1); //"選項1"
        question_list[108].set_q_string("2.網站管理人員偷窺您的個人資料", 2); //"選項2"
        question_list[108].set_q_string("3.以上皆是", 3); //"選項3"
        question_list[108].set_ans(3); //答案請填數字1~3

        question_list[109].set_q_string("使用電腦處理重要資料，如果要暫時離開座位，應該怎麼做比較安全", 0); //"問題"
        question_list[109].set_q_string("1.貼上「暫離，勿動電腦」的字條", 1); //"選項1"
        question_list[109].set_q_string("2.關掉螢幕電源", 2); //"選項2"
        question_list[109].set_q_string("3.將電腦鎖定，設定保護密碼", 3); //"選項3"
        question_list[109].set_ans(3); //答案請填數字1~3

        question_list[110].set_q_string("電腦送修前，應該如何保護重要或私密檔案", 0); //"問題"
        question_list[110].set_q_string("1.將電子郵件備份後，暫時移除", 1); //"選項1"
        question_list[110].set_q_string("2.最好使用檔案碎紙機軟體，徹底將已刪除檔案從硬碟移除", 2); //"選項2"
        question_list[110].set_q_string("3.以上皆是", 3); //"選項3"
        question_list[110].set_ans(3); //答案請填數字1~3

        question_list[111].set_q_string("在網咖上網，結束使用時，應該作好哪一項防護動作", 0); //"問題"
        question_list[111].set_q_string("1.將暫存在電腦的資料全部刪除，並清空資源回收筒", 1); //"選項1"
        question_list[111].set_q_string("2.刪除網路紀錄(cookie和自動記錄的資料）", 2); //"選項2"
        question_list[111].set_q_string("3.以上皆是", 3); //"選項3"
        question_list[111].set_ans(3); //答案請填數字1~3

        question_list[112].set_q_string("請問下列那一項無法有效避免電腦災害發生後的資料安全防護", 0); //"問題"
        question_list[112].set_q_string("1.經常對磁碟作格式化動作(FORMAT) ", 1); //"選項1"
        question_list[112].set_q_string("2.經常備份磁碟資料 ", 2); //"選項2"
        question_list[112].set_q_string("3.備份磁片存放於不同地點", 3); //"選項3"
        question_list[112].set_ans(1); //答案請填數字1~3

        question_list[113].set_q_string("下列那一個關於檔案型病毒的敘述是正確的", 0); //"問題"
        question_list[113].set_q_string("1.檔案型病毒只會感染COM檔及EXE檔", 1); //"選項1"
        question_list[113].set_q_string("2.檔案型病毒只會感染EXE檔", 2); //"選項2"
        question_list[113].set_q_string("3.檔案型病毒會感染COM檔、EXE檔及OVERLAY檔", 3); //"選項3"
        question_list[113].set_ans(3); //答案請填數字1~3

        question_list[114].set_q_string("程式具有自行複製繁殖能力、破壞資料檔案、干擾PC系統的運作，稱為", 0); //"問題"
        question_list[114].set_q_string("1.電腦病毒", 1); //"選項1"
        question_list[114].set_q_string("2.電腦細菌", 2); //"選項2"
        question_list[114].set_q_string("3.電腦複製程式", 3); //"選項3"
        question_list[114].set_ans(1); //答案請填數字1~3

        question_list[115].set_q_string("為避免電腦中重要資料意外刪除，我們應該", 0); //"問題"
        question_list[115].set_q_string("1.安裝保全系統", 1); //"選項1"
        question_list[115].set_q_string("2.將資料內容全部列印為報表", 2); //"選項2"
        question_list[115].set_q_string("3.定期備份", 3); //"選項3"
        question_list[115].set_ans(3); //答案請填數字1~3

        question_list[116].set_q_string("有關電腦安全防護的措施中，下列那一項是同時針對「實體」及「資料」的防護措施", 0); //"問題"
        question_list[116].set_q_string("1.不斷電系統 ", 1); //"選項1"
        question_list[116].set_q_string("2.保留日誌檔", 2); //"選項2"
        question_list[116].set_q_string("3.管制上機次數與時間", 3); //"選項3"
        question_list[116].set_ans(1); //答案請填數字1~3

        question_list[117].set_q_string("為了防止資料庫遭破壞後無法回復，除了定期備份外，尚須做下列那一件事", 0); //"問題"
        question_list[117].set_q_string("1.人工記錄", 1); //"選項1"
        question_list[117].set_q_string("2.隨時記錄變動日誌(LOG)檔", 2); //"選項2"
        question_list[117].set_q_string("3.程式修改", 3); //"選項3"
        question_list[117].set_ans(2); //答案請填數字1~3

        question_list[118].set_q_string("資料備份的常見做法為尋找第二安全儲存空間，下列作法中較不適宜的作法為", 0); //"問題"
        question_list[118].set_q_string("1.儲存在同機房的另一部電腦上", 1); //"選項1"
        question_list[118].set_q_string("2.尋求專業儲存公司合作", 2); //"選項2"
        question_list[118].set_q_string("3.使用防火保險櫃", 3); //"選項3"
        question_list[118].set_ans(1); //答案請填數字1~3

        question_list[119].set_q_string("對於以下工具何者不能檢查出檔案遭受竄改", 0); //"問題"
        question_list[119].set_q_string("1.AIDE", 1); //"選項1"
        question_list[119].set_q_string("2.chkrootkit", 2); //"選項2"
        question_list[119].set_q_string("3.nmap", 3); //"選項3"
        question_list[119].set_ans(3); //答案請填數字1~3

        //技能初始

        chapter_map[0] = 1; //章節一的初始地圖為MAP:1
        chapter_map[1] = 51; //章節二的初始地圖為MAP:10
        chapter_map[2] = 11;
        chapter_map[3] = 29;
        chapter_map[4] = 61;//章節五

        pro_sk_name[0][0] = "新手充電";
        pro_sk_name[0][1] = "谷哥搜尋";
        pro_sk_name[0][2] = "維基百科";
        pro_sk_name[0][3] = "漏洞攻擊";
        pro_sk_name[0][4] = "DDoS";
        pro_sk_name[0][5] = "EMP";
        pro_sk_po[0][0] = 100; //1點攻擊力
        pro_sk_po[0][1] = 400;
        pro_sk_po[0][2] = 700;
        pro_sk_po[0][3] = 1200;
        pro_sk_po[0][4] = 2000;
        pro_sk_po[0][5] = 3500;
        pro_sk_mp[0][0] = 0; //消耗0mp
        pro_sk_mp[0][1] = 10;
        pro_sk_mp[0][2] = 30;
        pro_sk_mp[0][3] = 50;
        pro_sk_mp[0][4] = 90;
        pro_sk_mp[0][5] = 150;
 
        //第一章
        event_list[1] = 1; //先開啟事件1

        npc_list[0].set_name("新手指導");
        npc_list[0].set_at_map(1);
        npc_list[0].set_at_x(3);
        npc_list[0].set_at_y(4);
        npc_list[0].set_kind(3);
        npc_list[0].set_event_key(1, 0);
        npc_list[0].set_dialog("歡迎來到JavaScript的世界！", 0);
        npc_list[0].set_turnon_event(2, 0);
        npc_list[0].set_event_key(2, 1);
        npc_list[0].set_dialog("右手邊有一位教官，去找她吧！", 1);
        npc_list[0].set_turnon_event(3, 1);
        npc_list[0].set_event_key(12, 2);
        npc_list[0].set_dialog("資訊安全受到一隻電腦病毒的侵害了！請幫忙我解決她！", 2);
        npc_list[0].set_turnon_event(13, 2);
        npc_list[0].set_event_key(17, 3);
        npc_list[0].set_dialog("感謝你打倒電腦病毒，對抗電腦病毒最好的方法就是安裝防毒軟體！恭喜你已經完成本章節的任務，請再次和我對話以傳送到下一章節！", 3);

        npc_list[1].set_name("新手教官");
        npc_list[1].set_at_map(1);
        npc_list[1].set_at_x(10);
        npc_list[1].set_at_y(5);
        npc_list[1].set_kind(1);
        npc_list[1].set_event_key(3, 0);
        npc_list[1].set_dialog("找我有甚麼事情嗎！", 0);
        npc_list[1].set_turnon_event(4, 0);
        npc_list[1].set_event_key(4, 1);
        npc_list[1].set_dialog("練到四等再來找我吧！", 1);
        npc_list[1].set_event_key(5, 2);
        npc_list[1].set_dialog("你四等了!?請去打敗附近的強大怪物獲得我最後的認同吧!", 2);
        npc_list[1].set_turnon_event(6, 2);
        npc_list[1].set_event_key(7, 3);
        npc_list[1].set_dialog("我已經沒有什麼可以教你的了...聽說前面有人在哭泣，麻煩你去看看吧！", 3);
        npc_list[1].set_turnon_event(8, 3);

        npc_list[2].set_name("陸仁舺");
        npc_list[2].set_at_map(2);
        npc_list[2].set_at_x(3);
        npc_list[2].set_at_y(4);
        npc_list[2].set_kind(2); //該類別只是純粹對話
        npc_list[2].set_dialog("聽說資訊安全非常重要......", 0);
        npc_list[2].set_dialog("連教育部也有相關網站在推動！", 1);
        npc_list[2].set_dialog("這個網站有分門別類的相關資安資訊：https://isafe.moe.edu.tw/", 2);
        npc_list[2].set_dialog("資訊安全由你我做起！", 3);

        npc_list[3].set_name("神秘的人");
        npc_list[3].set_at_map(3);
        npc_list[3].set_at_x(10);
        npc_list[3].set_at_y(8);
        npc_list[3].set_kind(4); //賣神密道具的NPC
        npc_list[3].set_dialog("我這裡有一東西只要$2000，你要買嗎?", 0);
        npc_list[3].set_dialog("嘿嘿，聽說這附近有盜賊想要偷走這個東西！", 1);
        npc_list[3].set_dialog("太可惜了你竟然不買！", 2);
        npc_list[3].set_dialog("沒想到妳竟然解開謎題了！", 3);
        npc_list[3].set_turnon_event(12, 0); //紀錄會給予的道具ID
        npc_list[3].set_turnon_event(14, 1); //獲得物品之後會開啟的事件
        npc_list[3].set_turnon_event(2000, 2); //紀錄物品的價格
        npc_list[3].set_event_key(15, 0); //查看是否完成此支線的事件
        npc_list[3].set_event_key(1, 1); //看NPC可否被觸發

        npc_list[4].set_name("哭泣的瑪雅");
        npc_list[4].set_at_map(2);
        npc_list[4].set_at_x(6);
        npc_list[4].set_at_y(6);
        npc_list[4].set_kind(1);
        npc_list[4].set_event_key(8, 0);
        npc_list[4].set_dialog("嗚嗚嗚嗚", 0);
        npc_list[4].set_turnon_event(9, 0);
        npc_list[4].set_event_key(9, 1);
        npc_list[4].set_dialog("我的手機剛剛不小心被一條色瞇瞇的喵咪偷走了！嗚嗚...裡面有我很重要的圖片阿嗚嗚...請問你可以幫我把東西拿回來嗎？", 1);
        npc_list[4].set_turnon_event(10, 1);
        npc_list[4].set_event_key(10, 2);
        npc_list[4].set_dialog("聽說那隻怪物很狡猾，請鍛練到一擊秒殺他的等級吧！", 2);
        npc_list[4].set_event_key(22, 3);
        npc_list[4].set_dialog("謝謝你幫我把東西拿回來！", 3);
        npc_list[4].set_turnon_event(12, 3);
        npc_list[4].set_sex(2);//女生

        npc_list[5].set_name("傷心的軟體工程師");
        npc_list[5].set_at_map(3);
        npc_list[5].set_at_x(1);
        npc_list[5].set_at_y(1);
        npc_list[5].set_kind(1);
        npc_list[5].set_event_key(1, 0);
        npc_list[5].set_dialog("嗚嗚嗚嗚", 0);
        npc_list[5].set_turnon_event(18, 0);
        npc_list[5].set_event_key(18, 1);
        npc_list[5].set_dialog("我把公司重要的光碟搞丟了...天啊我完蛋了！", 1);
        npc_list[5].set_event_key(15, 2);
        npc_list[5].set_dialog("這...這不是我丟掉的光碟嗎？謝謝你幫我找回來！", 2);
        npc_list[5].set_event_key(15, 3);
        npc_list[5].set_dialog("哈哈！我不會被公司開除了！", 3);


        npc_list[6].set_name("博學多聞的路人");
        npc_list[6].set_at_map(1);
        npc_list[6].set_at_x(1);
        npc_list[6].set_at_y(5);
        npc_list[6].set_kind(1);
        npc_list[6].set_event_key(6, 0);
        npc_list[6].set_dialog("聽說教官要球打倒的怪物就在此地圖...", 0);
        npc_list[6].set_event_key(10, 1);
        npc_list[6].set_dialog("聽說偷走瑪雅手機的色瞇瞇的喵咪就出現在瑪雅所在的地圖...", 1);
        npc_list[6].set_event_key(13, 2);
        npc_list[6].set_dialog("除了主線任務之外似乎還有隱藏的支線任務...電腦病毒聽說很狡猾，不喜歡有人出沒的地圖！", 2);
        npc_list[6].set_event_key(15, 3);
        npc_list[6].set_dialog("您已經徹底完成本章節的隱藏任務了^^", 3);

        npc_list[7].set_name("手機維修師");
        npc_list[7].set_at_map(3);
        npc_list[7].set_at_x(9);
        npc_list[7].set_at_y(3);
        npc_list[7].set_kind(5);
        npc_list[7].set_event_key(1, 0);
        npc_list[7].set_dialog("我可以幫忙修復損壞的手機！", 0);
        npc_list[7].set_turnon_event(18, 0); //紀錄給予道具的ID
        npc_list[7].set_turnon_event(2, 3); //記錄在何階段給予道具
        npc_list[7].set_event_key(11, 1);
        npc_list[7].set_dialog("你要修復這個手機嗎？我需要免費的Android系統！", 1);
        npc_list[7].set_event_key(21, 2);
        npc_list[7].set_dialog("你已經拿到我需要的軟體了嗎？稍等我一下...好了！我已經幫你修好手機了！", 2);
        npc_list[7].set_turnon_event(22, 2);
        npc_list[7].set_event_key(22, 3);
        npc_list[7].set_dialog("使用任何軟體請愛用正版！", 3);

        npc_list[8].set_name("Andriod工程師");
        npc_list[8].set_at_map(3);
        npc_list[8].set_at_x(1);
        npc_list[8].set_at_y(3);
        npc_list[8].set_kind(4); //賣神密道具的NPC
        npc_list[8].set_dialog("我這裡有手機軟體Andriod，只要$20000，你要買嗎?", 0);
        npc_list[8].set_dialog("嘿嘿，沒想到竟然有這種冤大頭！", 1);
        npc_list[8].set_dialog("你再考慮看看吧！", 2);
        npc_list[8].set_dialog("沒有必要千萬不要使用任何非官方的軟體，電腦病毒無所不在！", 3);
        npc_list[8].set_turnon_event(16, 0); //紀錄會給予的道具ID
        npc_list[8].set_turnon_event(1, 1); //獲得物品之後會開啟的事件(不會開啟事件就設定事件1)
        npc_list[8].set_turnon_event(20000, 2); //紀錄物品的價格
        npc_list[8].set_event_key(22, 0); //查看是否完成此支線的事件
        npc_list[8].set_event_key(1, 1); //查看該NPC是否可以被觸發

        npc_list[9].set_name("Andriod工程師");
        npc_list[9].set_at_map(3);
        npc_list[9].set_at_x(2);
        npc_list[9].set_at_y(3);
        npc_list[9].set_kind(4); //賣神密道具的NPC
        npc_list[9].set_dialog("我這裡有正版手機軟體Andriod，你需要嗎？", 0);
        npc_list[9].set_dialog("如果對手機作業系統歷史有興趣的話可以上網查詢唷！！", 1);
        npc_list[9].set_dialog("你再考慮看看吧！", 2);
        npc_list[9].set_dialog("沒有必要千萬不要使用任何非官方的軟體，電腦病毒無所不在！", 3);
        npc_list[9].set_turnon_event(17, 0); //紀錄會給予的道具ID
        npc_list[9].set_turnon_event(21, 1); //獲得物品之後會開啟的事件(不會開啟事件就設定事件1)
        npc_list[9].set_turnon_event(0, 2); //紀錄物品的價格
        npc_list[9].set_event_key(22, 0); //查看是否完成此支線的事件
        npc_list[9].set_event_key(1, 1); //查看該NPC是否可以被觸發

        //第四章
        npc_list[50].set_name("爸爸");
        npc_list[50].set_at_map(50);
        npc_list[50].set_at_x(1);
        npc_list[50].set_at_y(1);
        npc_list[50].set_kind(6); //會載入故事
        npc_list[50].set_event_key(1, 0);
        npc_list[50].set_dialog("爸爸也不懂電腦啊...必須找會電腦的人來看看才行。", 0);
        npc_list[50].set_turnon_event(300, 0);
        npc_list[50].set_event_key(308, 1);
        npc_list[50].set_dialog("AP分享器嗎！？我找一下...請再次和我對話！", 1);
        npc_list[50].set_turnon_event(309, 1);
        npc_list[50].set_event_key(309, 2); //此時會直接載入故事
        npc_list[50].set_dialog("你四等了!?請去打敗附近的強大怪物獲得我最後的認同吧!", 2);
        npc_list[50].set_turnon_event(310, 2);
        npc_list[50].set_event_key(310, 3);
        npc_list[50].set_dialog("原來網際網路隱藏這麼多危險！", 3);
        npc_list[50].set_turnon_event(1, 3); //記錄載入何種故事

        npc_list[51].set_name("姊姊");
        npc_list[51].set_at_map(50);
        npc_list[51].set_at_x(1);
        npc_list[51].set_at_y(8);
        npc_list[51].set_kind(1);
        npc_list[51].set_event_key(1, 0);
        npc_list[51].set_dialog("到底為什麼呢？明明一開始速度都很快的啊！", 0);
        npc_list[51].set_event_key(306, 1);
        npc_list[51].set_dialog("你已經找到幫手了嗎！不過AP分享器不在我這裡...你去問問媽媽吧！", 1);
        npc_list[51].set_turnon_event(307, 1);
        npc_list[51].set_event_key(310, 2);
        npc_list[51].set_dialog("沒想到網路這麼複雜...", 2);
        npc_list[51].set_event_key(7, 3);
        npc_list[51].set_dialog("我已經沒有什麼可以教你的了...聽說前面有人在哭泣，麻煩你去看看吧！", 3);
        npc_list[51].set_turnon_event(8, 3);
        npc_list[51].set_sex(2);//女生

        npc_list[52].set_name("媽媽");
        npc_list[52].set_at_map(50);
        npc_list[52].set_at_x(8);
        npc_list[52].set_at_y(2);
        npc_list[52].set_kind(1);
        npc_list[52].set_event_key(300, 0);
        npc_list[52].set_dialog("聽說村長家的女兒電腦很強呢，前幾天那天才(麻將)少女又幫鄰居修好電腦了。", 0);
        npc_list[52].set_turnon_event(301, 0);
        npc_list[52].set_event_key(307, 1);
        npc_list[52].set_dialog("AP分享器！？那是什麼東西啊...應該是在爸爸那裡吧！", 1);
        npc_list[52].set_turnon_event(308, 1);
        npc_list[52].set_event_key(310, 2);
        npc_list[52].set_dialog("村長家的女兒果然是天才(麻將)少女！", 2);
        npc_list[52].set_event_key(7, 3);
        npc_list[52].set_dialog("我已經沒有什麼可以教你的了...聽說前面有人在哭泣，麻煩你去看看吧！", 3);
        npc_list[52].set_turnon_event(8, 3);
        npc_list[52].set_sex(2);//女生

        npc_list[53].set_name("村長");
        npc_list[53].set_at_map(52);
        npc_list[53].set_at_x(9);
        npc_list[53].set_at_y(5);
        npc_list[53].set_kind(1);
        npc_list[53].set_event_key(1, 0);
        npc_list[53].set_dialog("服務村民是我的榮幸！", 0);
        npc_list[53].set_event_key(305, 1);
        npc_list[53].set_dialog("有問題都歡迎來詢問，服務大家是我的榮幸。", 1);
        npc_list[53].set_event_key(5, 2);
        npc_list[53].set_dialog("你四等了!?請去打敗附近的強大怪物獲得我最後的認同吧!", 2);
        npc_list[53].set_turnon_event(6, 2);
        npc_list[53].set_event_key(7, 3);
        npc_list[53].set_dialog("我已經沒有什麼可以教你的了...聽說前面有人在哭泣，麻煩你去看看吧！", 3);
        npc_list[53].set_turnon_event(8, 3);

        npc_list[54].set_name("天才(麻將)少女");
        npc_list[54].set_at_map(52);
        npc_list[54].set_at_x(2);
        npc_list[54].set_at_y(7);
        npc_list[54].set_kind(3);
        npc_list[54].set_event_key(301, 0);
        npc_list[54].set_dialog("電腦方面有問題？可是我現在正忙著準備學校考試呢...這樣好了，如果可以幫我去咖啡館拿回被阿卡借走的的隨身碟，我就先幫幫你吧！", 0);
        npc_list[54].set_turnon_event(302, 0);
        npc_list[54].set_event_key(305, 1);
        npc_list[54].set_dialog("噢是我的隨身碟！真是太感謝你了，麻煩你帶我去看你們家的AP分享器吧！", 1);
        npc_list[54].set_turnon_event(306, 1);
        npc_list[54].set_event_key(310, 2);
        npc_list[54].set_dialog("int i=0;i<100;i++......(請再次和我對話)", 2);
        npc_list[54].set_turnon_event(311, 2);
        npc_list[54].set_event_key(311, 3);
        npc_list[54].set_dialog("原來是你啊！我剛正在寫程式...經過了這個章節的遊戲，你是不是更了解資訊安全了呢？恭喜你完成本章節，請再次和我對話。", 3);
        npc_list[54].set_sex(2);//女生

        npc_list[55].set_name("阿卡");
        npc_list[55].set_at_map(53);
        npc_list[55].set_at_x(2);
        npc_list[55].set_at_y(7);
        npc_list[55].set_kind(1);
        npc_list[55].set_event_key(302, 0);
        npc_list[55].set_dialog("要拿回隨身碟...這......(面有難色)", 0);
        npc_list[55].set_turnon_event(303, 0);
        npc_list[55].set_event_key(303, 1);
        npc_list[55].set_dialog("可是...可是...隨身碟的主體已經被附近的小喵咪咬走了耶...嗚嗚...怎麼辦！", 1);
        npc_list[55].set_turnon_event(304, 1);
        npc_list[55].set_event_key(305, 2);
        npc_list[55].set_dialog("喔喔喔！可惡的臭喵咪被你打倒了嗎！幫我替小SAKI醬說聲抱歉唷~", 2);
        npc_list[55].set_turnon_event(1, 2);
        npc_list[55].set_event_key(7, 3);
        npc_list[55].set_dialog("我已經沒有什麼可以教你的了...聽說前面有人在哭泣，麻煩你去看看吧！", 3);
        npc_list[55].set_turnon_event(8, 3);
        npc_list[55].set_sex(2);//女生

        npc_list[56].set_name("咖啡館老闆娘");
        npc_list[56].set_at_map(53);
        npc_list[56].set_at_x(8);
        npc_list[56].set_at_y(2);
        npc_list[56].set_kind(1);
        npc_list[56].set_event_key(1, 0);
        npc_list[56].set_dialog("今天生意真好呢，要來杯咖啡休息一下嗎？", 0);
        npc_list[56].set_event_key(304, 1);
        npc_list[56].set_dialog("你問小喵咪在哪？你是說那隻每次都跑來店裡白吃白喝的黑豹喵仔6號嗎？她好像都出沒在村落內的草叢！", 1);
        npc_list[56].set_event_key(305, 2);
        npc_list[56].set_dialog("你把黑豹喵仔6號打倒摟？真厲害！", 2);
        npc_list[56].set_turnon_event(1, 2);
        npc_list[56].set_event_key(7, 3);
        npc_list[56].set_dialog("我已經沒有什麼可以教你的了...聽說前面有人在哭泣，麻煩你去看看吧！", 3);
        npc_list[56].set_turnon_event(8, 3);
        npc_list[56].set_sex(2);//女生

        saler_list[0].set_name("迷糊的蒙古大夫");
        saler_list[0].set_greet("我的眼鏡呢？");
        saler_list[0].set_at_map(3);
        saler_list[0].set_at_x(2);
        saler_list[0].set_at_y(1);
        saler_list[0].set_basic_sale_id(); //先讓全部id=0
        saler_list[0].set_sale_id(1, 0);
        saler_list[0].set_sale_id(2, 1);
        saler_list[0].set_sale_id(4, 2);
        saler_list[0].set_sale_id(5, 3);

        saler_list[1].set_name("便利商店店長");
        saler_list[1].set_greet("歡迎光臨！");
        saler_list[1].set_at_map(26);
        saler_list[1].set_at_x(9);
        saler_list[1].set_at_y(1);
        saler_list[1].set_basic_sale_id(); //先讓全部id=0
        saler_list[1].set_sale_id(1, 0);
        saler_list[1].set_sale_id(2, 1);
        saler_list[1].set_sale_id(3, 2);
        saler_list[1].set_sale_id(4, 3);
        saler_list[1].set_sale_id(5, 4);
        saler_list[1].set_sale_id(6, 5);
        saler_list[1].set_sale_id(7, 6);
        saler_list[1].set_sale_id(8, 7);
        
        saler_list[2].set_name("雜貨商人");
        saler_list[2].set_greet("快來看看唷，跳樓大拍賣！");
        saler_list[2].set_at_map(10);
        saler_list[2].set_at_x(5);
        saler_list[2].set_at_y(2);
        saler_list[2].set_basic_sale_id(); //先讓全部id=0
        saler_list[2].set_sale_id(1, 0);
        saler_list[2].set_sale_id(2, 1);
        saler_list[2].set_sale_id(3, 2);
        saler_list[2].set_sale_id(4, 3);
        saler_list[2].set_sale_id(5, 4);
        saler_list[2].set_sale_id(6, 5);

        item_list[1].set_name("紅藥丸");
        item_list[1].set_eff(50);
        item_list[1].set_kind(3);
        item_list[1].set_price(100);
        item_list[1].set_intr("恢復HP50點");

        item_list[2].set_name("超‧紅藥丸");
        item_list[2].set_eff(150);
        item_list[2].set_kind(3);
        item_list[2].set_price(400);
        item_list[2].set_intr("恢復HP150點");

        item_list[3].set_name("真‧紅藥丸");
        item_list[3].set_eff(300);
        item_list[3].set_kind(3);
        item_list[3].set_price(1000);
        item_list[3].set_intr("恢復HP300點");

        item_list[4].set_name("藍藥丸");
        item_list[4].set_eff(50);
        item_list[4].set_kind(4);
        item_list[4].set_price(1000);
        item_list[4].set_intr("恢復MP50點");

        item_list[5].set_name("超‧藍藥丸");
        item_list[5].set_eff(150);
        item_list[5].set_kind(4);
        item_list[5].set_price(4000);
        item_list[5].set_intr("恢復MP150點");

        item_list[6].set_name("真‧藍藥丸");
        item_list[6].set_eff(300);
        item_list[6].set_kind(4);
        item_list[6].set_price(10000);
        item_list[6].set_intr("恢復MP300點");

        item_list[7].set_name("補天藥");
        item_list[7].set_eff(2000);
        item_list[7].set_kind(3);
        item_list[7].set_price(5000);
        item_list[7].set_intr("恢復HP2000點");

        item_list[8].set_name("補魂藥");
        item_list[8].set_eff(1000);
        item_list[8].set_kind(4);
        item_list[8].set_price(50000);
        item_list[8].set_intr("恢復MP1000點");

        item_list[11].set_name("我是傳奇！");
        item_list[11].set_eff(800);
        item_list[11].set_kind(8);
        item_list[11].set_price(300);
        item_list[11].set_intr("我是傳奇的証明。");

        item_list[12].set_name("古老的隨身碟");
        item_list[12].set_eff(800);
        item_list[12].set_kind(8);
        item_list[12].set_price(300);
        item_list[12].set_intr("年代似乎有些久遠，容量只有64KB...似乎有盜賊對這個物品有興趣。")

        item_list[13].set_name("手機殘骸");
        item_list[13].set_eff(800);
        item_list[13].set_kind(8);
        item_list[13].set_price(300);
        item_list[13].set_intr("瑪雅被色瞇瞇的喵咪偷走的手機..不過似乎有些部分已經毀損了。")

        item_list[14].set_name("防毒軟體");
        item_list[14].set_eff(800);
        item_list[14].set_kind(8);
        item_list[14].set_price(300);
        item_list[14].set_intr("可以對抗電腦病毒的軟體。")

        item_list[15].set_name("UNIX安裝光碟");
        item_list[15].set_eff(800);
        item_list[15].set_kind(8);
        item_list[15].set_price(300);
        item_list[15].set_intr("似乎是某人遺失的重要光碟。")

        item_list[16].set_name("Andriod安裝光碟");
        item_list[16].set_eff(800);
        item_list[16].set_kind(8);
        item_list[16].set_price(300);
        item_list[16].set_intr("據說是Andriod系統的安裝光碟...不過似乎是盜版的！？")

        item_list[17].set_name("Android安裝光碟");
        item_list[17].set_eff(800);
        item_list[17].set_kind(8);
        item_list[17].set_price(300);
        item_list[17].set_intr("Android系統的安裝光碟。")

        item_list[18].set_name("瑪雅的手機");
        item_list[18].set_eff(800);
        item_list[18].set_kind(8);
        item_list[18].set_price(300);
        item_list[18].set_intr("瑪雅被色瞇瞇的喵咪偷走的手機。")

        item_list[40].set_name("64GB隨身碟");
        item_list[40].set_eff(800);
        item_list[40].set_kind(8);
        item_list[40].set_price(300);
        item_list[40].set_intr("天才(○將)少女的隨身碟。")

        item_list[41].set_name("旺○");
        item_list[41].set_eff(800);
        item_list[41].set_kind(8);
        item_list[41].set_price(300);
        item_list[41].set_intr("好吃的餅乾。")

        player_list[0] = new player();
        player_list[0].set_lv(1);
        player_list[0].set_exp(0);
        player_list[0].set_name("明月當空");
        player_list[0].set_pro(0);
        player_list[0].set_sk_know(0, 0);
        player_list[0].set_sk_know(1, 1);
        player_list[0].set_sk_know(2, 2);
        player_list[0].set_sk_know(3, 3);
        player_list[0].set_sk_know(4, 4);
        player_list[0].set_sk_know(5, 5);

        chapter_list[0] = new chapter();
        chapter_list[0].set_intr("隨著科技的日益進步，資訊安全的議題也逐漸受到重視，於是主角決定踏上學習資訊安全的旅程。", 0);

        chapter_list[1] = new chapter();
        chapter_list[1].set_intr("經歷了電腦病毒的攻防戰，主角邁向了人生的下一階段...這次他回到了許久不見得老家，因為姐姐今年成為大學新鮮人，為了求學方便，爸爸買給姐姐一台筆記型電腦，並在家中裝設了無線ＡＰ分享器。剛剛開始使用新的筆記型電腦時，上網的速度都相當流暢幾個月後，姐姐發現，上網的速度突然變得相當緩慢．．．", 0);

        chapter_list[2] = new chapter();
        chapter_list[2].set_intr("Ｃ是一個主角的同學，平時的興趣與兼職是外拍模特兒（有時也會拍一些較煽情的照片）。他總是用他的電腦整理他的照片。最近他的電腦壞了，畫面時不時會無法正常顯示。", 0);
        chapter_list[2].set_intr("雖然電腦暫時修好了，不過又有問題了ＷＷＷＷＷＷＷＷ...", 1);
        chapter_list[2].set_intr("雖然打倒了不肖電腦維修商，不過又產生了新的問題...到底要怎麼樣才能避免電腦維修時被人盜取私密資料呢？", 2);
        chapter_list[2].set_intr("1.有些私密資料能夠避免，就要避免放在系統碟裡面，最好另外保存。2.電腦送修前，切記要把個人的隱私資料另外備份後清除，可以的話，能把硬碟用隨機資料覆寫更好，可以有效防止有心人士竊取你的資料。3.電腦平時就要有定期備份重要資料的習慣，真的要送修可以省下備份的時間", 3);

        chapter_list[3] = new chapter();
        chapter_list[3].set_intr("第四章...網路詐騙很可怕！", 0);

        chapter_list[4] = new chapter();
        chapter_list[4].set_intr("經過了前面四個章節的遊戲，主角心中暗自下定了決心，他要以成為一名網路俠客為目標，但是他卻連駭客的基礎類別都分不清楚......", 0);
        story_list[1] = new story();
        story_list[1].set("你們家的訊號和裝置看起來都沒有問題，唯一的問題可能在於你們的無線網路沒有設置密碼，所以遭人盜用了占掉頻寬。", 54, 0);
        story_list[1].set("所以我們該怎麼辦呢？", 50, 1);
        story_list[1].set("設置密碼，並且定期更換密碼。", 54, 2);
        story_list[1].set("這樣就可以了嗎？", 52, 3);
        story_list[1].set("除此之外，還要注意密碼的內容，太容易破解的也會導致無線網路遭到盜用。", 54, 4);
        story_list[1].set("原來如此。", 50, 5);
        story_list[1].set("另外，在外面也要注意，不知名的無線網路AP千萬不可以隨便連上，以免遭到有心人士藉此做不法行為。", 54, 6);
        story_list[1].set("那在商店內使用店家提供的有無線網路呢？", 51, 7);
        story_list[1].set("仍然有其危險性存在，建議若連接公用網路，盡可能避免使用私人或需登入的功能，以瀏覽大眾網頁為主，如：Youtube和新聞等，以避免遭到他人透過劫取封包監聽你的行為。", 54, 8);
        story_list[1].set("聽起來真可怕，我明白了，真是謝謝你的幫忙！", 51, 9);
        story_list[1].set_long(9);

        story_list[2] = new story();
        story_list[2].set("是你的電腦被駭客入侵了嗎？", 61, 0);
        story_list[2].set("沒錯...我的社群網站被搞得一蹋糊塗...", 60, 1);
        story_list[2].set("我來看看...咦？為甚麼你的防火牆關閉了？", 61, 2);
        story_list[2].set("防火牆？！...我以為他沒什麼作用...", 60, 3);
        story_list[2].set("防火牆可以說是保護電腦安全的重要防線...一旦關閉很可能就會讓駭客有機會從後門登錄電腦，並進而更改或種植病毒進入你的電腦！", 61, 4);
        story_list[2].set("那我現在有甚麼可以亡羊補牢的辦法嗎？", 60, 5);
        story_list[2].set("立即打開防火牆，同時更新你的防毒軟體，以確保病毒資料庫是最新的！", 61, 6);
        story_list[2].set("感謝！", 60, 7);
        story_list[2].set_long(7);

        mon_list[0].set_basic(1, 40, 0, 50, 5, 2, 5, 1000);
        mon_list[0].set_name("開機按鍵");
        mon_list[0].set_ap_map(1, 0);
        mon_list[0].set_ap_map(2, 1);
        mon_list[0].set_ap_op(70, 0);
        mon_list[0].set_ap_op(30, 1);
        mon_list[0].set_sk_name("自動關機", 0);
        mon_list[0].set_sk_name("按鍵損壞", 1);
        mon_list[0].set_sk_po(100, 0);
        mon_list[0].set_sk_po(100, 1);

        mon_list[1].set_basic(5, 200, 0, 50, 20, 50, 5, 1000);
        mon_list[1].set_name("強大的ＳＳＤ");
        mon_list[1].set_ap_map(1, 0);
        mon_list[1].set_ap_op(30, 0);
        mon_list[1].set_ap_map(2, 1);
        mon_list[1].set_ap_op(70, 1);
        mon_list[1].set_sk_name("快速傳輸", 0);
        mon_list[1].set_sk_name("光速傳輸", 1);
        mon_list[1].set_sk_po(130, 0);
        mon_list[1].set_sk_po(150, 1);

        mon_list[2].set_basic(10, 400, 0, 60, 30, 5, 5, 1000);
        mon_list[2].set_name("特洛伊木馬");
        mon_list[2].set_ap_map(3, 0);
        mon_list[2].set_ap_op(100, 0);
        mon_list[2].set_sk_name("監控鍵盤", 0);
        mon_list[2].set_sk_name("道取帳號", 1);
        mon_list[2].set_sk_po(100, 0);
        mon_list[2].set_sk_po(150, 1);

        mon_list[3].set_basic(13, 800, 0, 600, 30, 80, 5, 1000);
        mon_list[3].set_name("漏洞的防火牆");
        mon_list[3].set_ap_map(4, 0);
        mon_list[3].set_ap_op(100, 0);
        mon_list[3].set_sk_name("後門進入", 0);
        mon_list[3].set_sk_name("無法可擋", 1);
        mon_list[3].set_sk_po(150, 0);
        mon_list[3].set_sk_po(170, 1);


        boss_list[0].set_basic(5, 150, 0, 200, 20, 50, 20, 300);
        boss_list[0].set_name("血腥的工作管理員");
        boss_list[0].set_ap_map(1); //出現在地圖ID:1
        boss_list[0].set_sk_op(40, 0);
        boss_list[0].set_sk_op(65, 1);
        boss_list[0].set_sk_op(85, 2);
        boss_list[0].set_sk_op(98, 3);
        boss_list[0].set_sk_op(100, 4);
        boss_list[0].set_sk_name("血腥的電腦當機", 0);
        boss_list[0].set_sk_name("血腥的重新啟動", 1);
        boss_list[0].set_sk_name("真無敵超級血腥‧電腦當機", 2);
        boss_list[0].set_sk_name("真血腥無雙‧重新啟動", 3);
        boss_list[0].set_sk_po(100, 0);
        boss_list[0].set_sk_po(110, 1);
        boss_list[0].set_sk_po(130, 2);
        boss_list[0].set_sk_po(150, 3);
        boss_list[0].set_drop_item(11);
        boss_list[0].set_event_key(6);
        boss_list[0].set_open_event(7); //紀錄擊敗此BOSS之後會開啟的事件

        boss_list[1].set_basic(7, 305, 0, 200, 20, 50, 20, 500);
        boss_list[1].set_name("狡猾的喵咪A");
        boss_list[1].set_ap_map(2); //出現在地圖ID:1
        boss_list[1].set_sk_op(0, 0);
        boss_list[1].set_sk_op(0, 1);
        boss_list[1].set_sk_op(0, 2);
        boss_list[1].set_sk_op(0, 3);
        boss_list[1].set_sk_op(100, 4); //逃跑機率100%
        boss_list[1].set_sk_name("血腥的電腦當機", 0);
        boss_list[1].set_sk_name("血腥的重新啟動", 1);
        boss_list[1].set_sk_name("真無敵超級血腥‧電腦當機", 2);
        boss_list[1].set_sk_name("真血腥無雙‧重新啟動", 3);
        boss_list[1].set_sk_po(100, 0);
        boss_list[1].set_sk_po(110, 1);
        boss_list[1].set_sk_po(130, 2);
        boss_list[1].set_sk_po(150, 3);
        boss_list[1].set_drop_item(13);
        boss_list[1].set_event_key(10);
        boss_list[1].set_open_event(11); //紀錄擊敗此BOSS之後會開啟的事件

        boss_list[2].set_basic(12, 500, 0, 500, 40, 80, 20, 1000);
        boss_list[2].set_name("狂亂的電腦病毒");
        boss_list[2].set_ap_map(4); //出現在地圖ID:1
        boss_list[2].set_sk_op(40, 0);
        boss_list[2].set_sk_op(65, 1);
        boss_list[2].set_sk_op(85, 2);
        boss_list[2].set_sk_op(98, 3);
        boss_list[2].set_sk_op(100, 4);
        boss_list[2].set_sk_name("藍屏", 0);
        boss_list[2].set_sk_name("首頁綁架", 1);
        boss_list[2].set_sk_name("硬碟壞軌", 2);
        boss_list[2].set_sk_name("資料竊取", 3);
        boss_list[2].set_sk_po(100, 0);
        boss_list[2].set_sk_po(120, 1);
        boss_list[2].set_sk_po(140, 2);
        boss_list[2].set_sk_po(180, 3);
        boss_list[2].set_drop_item(14);
        boss_list[2].set_event_key(13);
        boss_list[2].set_open_event(17); //紀錄擊敗此BOSS之後會開啟的事件

        boss_list[3].set_basic(10, 300, 0, 500, 40, 80, 20, 1200);
        boss_list[3].set_name("作業系統小偷");
        boss_list[3].set_ap_map(3); //出現在地圖ID:1
        boss_list[3].set_sk_op(40, 0);
        boss_list[3].set_sk_op(65, 1);
        boss_list[3].set_sk_op(85, 2);
        boss_list[3].set_sk_op(98, 3);
        boss_list[3].set_sk_op(100, 4);
        boss_list[3].set_sk_name("神偷爪", 0);
        boss_list[3].set_sk_name("系統當機", 1);
        boss_list[3].set_sk_name("去灌Linux免費作業軟體吧哇哈哈哈", 2);
        boss_list[3].set_sk_name("真‧UNIX", 3);
        boss_list[3].set_sk_po(150, 0);
        boss_list[3].set_sk_po(160, 1);
        boss_list[3].set_sk_po(180, 2);
        boss_list[3].set_sk_po(200, 3);
        boss_list[3].set_drop_item(15);
        boss_list[3].set_event_key(14);
        boss_list[3].set_open_event(15); //紀錄擊敗此BOSS之後會開啟的事件
        //第二章

        npc_list[10].set_name("同學A");
        npc_list[10].set_at_map(11);
        npc_list[10].set_at_x(4);
        npc_list[10].set_at_y(3);
        npc_list[10].set_kind(1);
        npc_list[10].set_event_key(1, 0); //進入第一段對話需要完成的事件
        npc_list[10].set_dialog("找旁邊的[老師]問看看吧！", 0); //第一階段對話
        npc_list[10].set_event_key(103, 1);
        npc_list[10].set_dialog("打倒[點數騙子]了啊，真厲害", 1);
        npc_list[10].set_event_key(105, 2);
        npc_list[10].set_dialog("[教務主任]在[地圖5]懸賞找人幫忙呦！", 2);
        npc_list[10].set_event_key(106, 3);
        npc_list[10].set_dialog("你說影印機？在[地圖6]啦，我好無聊喔！", 3);

        npc_list[11].set_name("同學B");
        npc_list[11].set_at_map(12);
        npc_list[11].set_at_x(11);
        npc_list[11].set_at_y(9);
        npc_list[11].set_kind(1);
        npc_list[11].set_event_key(1, 0);
        npc_list[11].set_dialog("你就是電腦出問題的[C]嗎？我的電玩點數卡被[點數騙子]搶走了，打倒他幫我搶回來就幫你這個忙。", 0);
        npc_list[11].set_turnon_event(102, 0);
        npc_list[11].set_event_key(102, 1);
        npc_list[11].set_dialog("打倒[點數騙子]了嗎？還沒啊，加油吧！", 1);
        npc_list[11].set_event_key(103, 2);
        npc_list[11].set_dialog("感謝你打倒[點數騙子]幫我搶回點數，依照約定，告訴你一個可以修電腦的地方，那個人就在旁邊喔", 2);
        npc_list[11].set_turnon_event(104, 2);
        npc_list[11].set_event_key(104, 3);
        npc_list[11].set_dialog("祝你送修電腦順利", 3);

        npc_list[12].set_name("老師");
        npc_list[12].set_at_map(11);
        npc_list[12].set_at_x(10);
        npc_list[12].set_at_y(8);
        npc_list[12].set_kind(3);
        npc_list[12].set_event_key(1, 0);
        npc_list[12].set_dialog("聽說在[地圖2]晃來晃去的[同學B]有這方面的經驗，不妨去請教他", 0);
        npc_list[12].set_event_key(102, 1);
        npc_list[12].set_dialog("剛剛有學生說在[地圖3]看到[點數騙子]", 1);
        npc_list[12].set_event_key(103, 2);
        npc_list[12].set_dialog("幫助他人是好事", 2);
        npc_list[12].set_event_key(116, 3);
        npc_list[12].set_dialog("沒想到你真的做到了，老師我以你為榮，請再次和我對話以傳送至下一章節", 3);

        npc_list[13].set_name("教務主任");
        npc_list[13].set_at_map(15);
        npc_list[13].set_at_x(9);
        npc_list[13].set_at_y(5);
        npc_list[13].set_kind(5);
        npc_list[13].set_event_key(1, 0);
        npc_list[13].set_dialog("我是教務主任！", 0);
        npc_list[13].set_event_key(105, 1);
        npc_list[13].set_dialog("麻煩去打倒[暴走的影印機]！我就給你獎勵...期待你的表現喔", 1);
        npc_list[13].set_turnon_event(106, 1);
        npc_list[13].set_event_key(107, 2);
        npc_list[13].set_dialog("打倒[暴走的影印機]了啊！表現的不錯，這是給你的獎勵：維修券", 2);
        npc_list[13].set_turnon_event(20, 0); //道具：維修券
        npc_list[13].set_turnon_event(108, 2);
        npc_list[13].set_event_key(108, 3);
        npc_list[13].set_dialog("感謝你幫了我一個大忙啊", 3);
        npc_list[13].set_turnon_event(2, 3); //第三階段給予

        npc_list[14].set_name("同學C");
        npc_list[14].set_at_map(13);
        npc_list[14].set_at_x(9);
        npc_list[14].set_at_y(3);
        npc_list[14].set_kind(1);
        npc_list[14].set_event_key(105, 0);
        npc_list[14].set_dialog("聽說[教務主任]在找人幫他的忙，達成可以有價值不斐的獎品", 0);
        npc_list[14].set_event_key(106, 1);
        npc_list[14].set_dialog("你說[暴走的影印機]嗎？似乎逃到[地圖6]了", 1);
        npc_list[14].set_event_key(107, 2);
        npc_list[14].set_dialog("快去找[教務主任]領賞喔！", 2);
        npc_list[14].set_event_key(107, 3);
        npc_list[14].set_dialog("天氣真好。", 3);

        npc_list[15].set_name("維修人員");
        npc_list[15].set_at_map(12);
        npc_list[15].set_at_x(2);
        npc_list[15].set_at_y(6);
        npc_list[15].set_kind(7);
        npc_list[15].set_event_key(104, 0);
        npc_list[15].set_dialog("你是來修電腦的嗎？要先取得維修券呦", 0);
        npc_list[15].set_turnon_event(105, 0);
        npc_list[15].set_event_key(108, 1);
        npc_list[15].set_dialog("看來你拿到維修券了，這就幫你修理。稍等喔......修好了，拿回去用吧", 1);
        npc_list[15].set_turnon_event(118, 1);
        npc_list[15].set_event_key(118, 2);
        npc_list[15].set_dialog("電腦已經修好了別煩我。甚麼？你說你的○照在網路上瘋狂流傳...老大他...這個...不對，我什麼都不知道......(似乎有難言之隱，再找人問看看吧！)", 2);
        npc_list[15].set_event_key(116, 3);
        npc_list[15].set_dialog("我以後絕對會當個誠實的小奸商QQ", 3);
        npc_list[15].set_turnon_event(1, 3); //紀錄何時載入劇情

        npc_list[16].set_name("同學D");
        npc_list[16].set_at_map(14);
        npc_list[16].set_at_x(5);
        npc_list[16].set_at_y(3);
        npc_list[16].set_kind(1);
        npc_list[16].set_event_key(104, 0);
        npc_list[16].set_dialog("維修人員在[地圖2]喔", 0);
        npc_list[16].set_event_key(118, 1);
        npc_list[16].set_dialog("聽說最近網路留出好幾組煽情的外拍寫真，長的很像你，那家維修電腦的廠商好像有個不良頭頭......", 1);
        npc_list[16].set_turnon_event(109, 1);
        npc_list[16].set_event_key(109, 2);
        npc_list[16].set_dialog("訓育組長似乎知道這件事情。", 2);
        npc_list[16].set_event_key(113, 3);
        npc_list[16].set_dialog("努力跟學長打好關係吧，加油", 3);

        npc_list[17].set_name("同學E");
        npc_list[17].set_at_map(15);
        npc_list[17].set_at_x(2);
        npc_list[17].set_at_y(5);
        npc_list[17].set_kind(1);
        npc_list[17].set_event_key(118, 0);
        npc_list[17].set_dialog("最近網路上瘋傳的外拍寫真應該是你的吧，該不是那個維修者幹的好事？", 0);
        npc_list[17].set_event_key(119, 1);
        npc_list[17].set_dialog("如果你肯幫我從[討人厭惡霸同學]那裏搶回我的[遊戲安裝光碟]，我可以介紹神人學長給你認識。", 1);
        npc_list[17].set_turnon_event(112, 1);
        npc_list[17].set_event_key(113, 2);
        npc_list[17].set_dialog("Yoooooooooo~~~我的安裝光碟啊！！！謝啦，我這就跟學長聯絡......，太好啦，學長答應幫忙了", 2);
        npc_list[17].set_turnon_event(114, 2);
        npc_list[17].set_event_key(114, 3);
        npc_list[17].set_dialog("學長在[地圖6]", 3);

        npc_list[18].set_name("訓育組長");
        npc_list[18].set_at_map(16);
        npc_list[18].set_at_x(2);
        npc_list[18].set_at_y(3);
        npc_list[18].set_kind(7);
        npc_list[18].set_event_key(118, 0);
        npc_list[18].set_dialog("聽說有學生的不雅照被散播啊", 0);
        npc_list[18].set_event_key(109, 1);
        npc_list[18].set_dialog("你是說那個不肖維修商嗎？他好像隱藏在[地圖8]的草叢。", 1);
        npc_list[18].set_turnon_event(110, 1);
        npc_list[18].set_event_key(111, 2);
        npc_list[18].set_dialog("你把不肖維修商打倒啦？恭喜你！", 2);
        npc_list[18].set_turnon_event(119, 2);
        npc_list[18].set_event_key(119, 3);
        npc_list[18].set_dialog("天若有情天亦老．．．（組長似乎有著很深沉的回憶）", 3);
        npc_list[18].set_turnon_event(2, 3);

        npc_list[19].set_name("同學Ｆ");
        npc_list[19].set_at_map(14);
        npc_list[19].set_at_x(6);
        npc_list[19].set_at_y(7);
        npc_list[19].set_kind(1);
        npc_list[19].set_event_key(119, 0);
        npc_list[19].set_dialog("你在問如何在維修電腦時保護自身安全嗎？聽說有個學長是這方面的老手，可是我不認識他...不過同學E似乎有線索...", 0);
        npc_list[19].set_event_key(112, 1);
        npc_list[19].set_dialog("剛剛有人看到惡霸在[地圖7]欺負別人", 1);
        npc_list[19].set_event_key(113, 2);
        npc_list[19].set_dialog("終於不怕再被惡霸欺負了，謝謝你", 2);

        npc_list[20].set_name("生教組長");
        npc_list[20].set_at_map(15);
        npc_list[20].set_at_x(11);
        npc_list[20].set_at_y(2);
        npc_list[20].set_kind(1);
        npc_list[20].set_event_key(1, 0);
        npc_list[20].set_dialog("我是生教組長。", 0);
        npc_list[20].set_event_key(112, 1);
        npc_list[20].set_dialog("什麼，我們學校有惡霸？！", 1);
        npc_list[20].set_event_key(113, 2);
        npc_list[20].set_dialog("以暴制暴不是好方法，以後記得連絡我來處理", 2);
        npc_list[20].set_event_key(116, 3);
        npc_list[20].set_dialog("沒想到你真的做到了，組長我以你為榮", 3);

        npc_list[21].set_name("學長");
        npc_list[21].set_at_map(16);
        npc_list[21].set_at_x(9);
        npc_list[21].set_at_y(7);
        npc_list[21].set_kind(7);
        npc_list[21].set_event_key(1, 0);
        npc_list[21].set_dialog("ｉｎｔ　ｘ＝０，ｘ＜１００；ｘ＋＋．．．(學長很認真地在寫程式)", 0);
        npc_list[21].set_event_key(114, 1);
        npc_list[21].set_dialog("你來問我有關電腦送修的問題嗎？", 1);
        npc_list[21].set_turnon_event(115, 1);
        npc_list[21].set_event_key(115, 2);
        npc_list[21].set_dialog("聽說你之前送修電腦時，照片被竊取散佈，這次機會教育，教你一些重要觀念與技巧。", 2);
        npc_list[21].set_turnon_event(116, 2);
        npc_list[21].set_event_key(116, 3);
        npc_list[21].set_dialog("防人之心不可無唷！(本章節已經達成，請去找老師傳送至下一張節)", 3);
        npc_list[21].set_turnon_event(2, 3); //紀錄何時載入劇情

        //閒話同學*3
        npc_list[22].set_name("同學G");
        npc_list[22].set_at_map(13);
        npc_list[22].set_at_x(2);
        npc_list[22].set_at_y(4);
        npc_list[22].set_kind(2); //該類別只是純粹對話
        npc_list[22].set_dialog("聽說要隨時小心保護自己的資料", 0);
        npc_list[22].set_dialog("稍不留意，就可能被竊取資料", 1);
        npc_list[22].set_dialog("隨時備份保護重要資料不怕遺失", 2);
        npc_list[22].set_dialog("個人資料安全由改變習慣開始！", 3);

        npc_list[23].set_name("同學H");
        npc_list[23].set_at_map(16);
        npc_list[23].set_at_x(11);
        npc_list[23].set_at_y(4);
        npc_list[23].set_kind(2); //該類別只是純粹對話
        npc_list[23].set_dialog("聽說要隨時小心保護自己的資料", 0);
        npc_list[23].set_dialog("稍不留意，就可能被竊取資料", 1);
        npc_list[23].set_dialog("隨時備份保護重要資料不怕遺失", 2);
        npc_list[23].set_dialog("個人資料安全由改變習慣開始！", 3);

        npc_list[24].set_name("同學I");
        npc_list[24].set_at_map(18);
        npc_list[24].set_at_x(10);
        npc_list[24].set_at_y(3);
        npc_list[24].set_kind(2); //該類別只是純粹對話
        npc_list[24].set_dialog("聽說要隨時小心保護自己的資料", 0);
        npc_list[24].set_dialog("稍不留意，就可能被竊取資料", 1);
        npc_list[24].set_dialog("隨時備份保護重要資料不怕遺失", 2);
        npc_list[24].set_dialog("個人資料安全由改變習慣開始！", 3);

        map_list[11].set_map_name("1");
        map_list[11].set_map_array("666666666666");
        map_list[11].set_map_array("666661166656");
        map_list[11].set_map_array("q56611166a6q");
        map_list[11].set_map_array(" 6663116666 ");
        map_list[11].set_map_array("w 66611666w ");
        map_list[11].set_map_array("  6w 11w 6  ");
        map_list[11].set_map_array("q66  11  66q");
        map_list[11].set_map_array(" 6611111166 ");
        map_list[11].set_map_array("q5611111163q");
        map_list[11].set_map_array(" 6666666666 ");
        map_list[11].set_map_to(13, 0);
        map_list[11].set_map_to_atx(10, 0);
        map_list[11].set_map_to_aty(1, 0);
        map_list[11].set_map_to(10, 1);
        map_list[11].set_map_to_atx(1, 1);
        map_list[11].set_map_to_aty(2, 1);
        map_list[11].set_map_to(12, 2);
        map_list[11].set_map_to_atx(1, 2);
        map_list[11].set_map_to_aty(8, 2);

        map_list[12].set_map_name("2");
        map_list[12].set_map_array("666666666666");
        map_list[12].set_map_array("656111111666");
        map_list[12].set_map_array("w q111111qw ");
        map_list[12].set_map_array("   666611   ");
        map_list[12].set_map_array("w 61111116w ");
        map_list[12].set_map_array("  61111116  ");
        map_list[12].set_map_array("663116666666");
        map_list[12].set_map_array("q6611111166q");
        map_list[12].set_map_array(" 6611111166 ");
        map_list[12].set_map_array("666666666663");
        map_list[12].set_map_to(11, 0);
        map_list[12].set_map_to_atx(1, 0);
        map_list[12].set_map_to_aty(1, 0);

        map_list[13].set_map_name("3");
        map_list[13].set_map_array("q6666666666q");
        map_list[13].set_map_array(" 5611111166 ");
        map_list[13].set_map_array("666111111666");
        map_list[13].set_map_array("666666611366");
        map_list[13].set_map_array("w 31111116w ");
        map_list[13].set_map_array("  61111116  ");
        map_list[13].set_map_array("666666611666");
        map_list[13].set_map_array("666111111666");
        map_list[13].set_map_array("66q111111q56");
        map_list[13].set_map_array("66 666666 66");
        map_list[13].set_map_to(14, 0);
        map_list[13].set_map_to_atx(1, 0);
        map_list[13].set_map_to_aty(1, 0);
        map_list[13].set_map_to(11, 1);
        map_list[13].set_map_to_atx(10, 1);
        map_list[13].set_map_to_aty(8, 1);

        map_list[14].set_map_name("4");
        map_list[14].set_map_array("w 666666666q");
        map_list[14].set_map_array("  611661165 ");
        map_list[14].set_map_array("w 611661166q");
        map_list[14].set_map_array("  611361166 ");
        map_list[14].set_map_array("w 611111166q");
        map_list[14].set_map_array("  611111166 ");
        map_list[14].set_map_array("w 666661166q");
        map_list[14].set_map_array("  666631166 ");
        map_list[14].set_map_array("q56qw q1165q");
        map_list[14].set_map_array(" 66    6666 ");
        map_list[14].set_map_to(15, 0);
        map_list[14].set_map_to_atx(10, 0);
        map_list[14].set_map_to_aty(1, 0);
        map_list[14].set_map_to(13, 1);
        map_list[14].set_map_to_atx(1, 1);
        map_list[14].set_map_to_aty(8, 1);
        map_list[14].set_map_to(16, 2);
        map_list[14].set_map_to_atx(10, 2);
        map_list[14].set_map_to_aty(8, 2);

        map_list[15].set_map_name("5");
        map_list[15].set_map_array("q666666666w ");
        map_list[15].set_map_array(" 561111116  ");
        map_list[15].set_map_array("666111111663");
        map_list[15].set_map_array("w 611666666q");
        map_list[15].set_map_array("  611111166 ");
        map_list[15].set_map_array("66311111136q");
        map_list[15].set_map_array("qq666661166 ");
        map_list[15].set_map_array("  611111166q");
        map_list[15].set_map_array("w q11111165 ");
        map_list[15].set_map_array("   666666666");
        map_list[15].set_map_to(14, 0);
        map_list[15].set_map_to_atx(1, 0);
        map_list[15].set_map_to_aty(1, 0);
        map_list[15].set_map_to(17, 1);
        map_list[15].set_map_to_atx(10, 1);
        map_list[15].set_map_to_aty(8, 1);

        map_list[16].set_map_name("6");
        map_list[16].set_map_array("q6666666666q");
        map_list[16].set_map_array(" 5611111165 ");
        map_list[16].set_map_array("q6611111166q");
        map_list[16].set_map_array(" 6311666666 ");
        map_list[16].set_map_array("666111111663");
        map_list[16].set_map_array("w 61111116w ");
        map_list[16].set_map_array("  61166116  ");
        map_list[16].set_map_array("q5611111136q");
        map_list[16].set_map_array(" 6611111166 ");
        map_list[16].set_map_array("666666666666");
        map_list[16].set_map_to(18, 0);
        map_list[16].set_map_to_atx(1, 0);
        map_list[16].set_map_to_aty(1, 0);
        map_list[16].set_map_to(14, 1);
        map_list[16].set_map_to_atx(10, 1);
        map_list[16].set_map_to_aty(1, 1);
        map_list[16].set_map_to(10, 2);
        map_list[16].set_map_to_atx(1, 2);
        map_list[16].set_map_to_aty(7, 2);

        map_list[17].set_map_name("7");
        map_list[17].set_map_array("w q666666qw ");
        map_list[17].set_map_array("   111111   ");
        map_list[17].set_map_array("q6611111165q");
        map_list[17].set_map_array(" 6666661166 ");
        map_list[17].set_map_array("q666w 11166q");
        map_list[17].set_map_array(" w 6  116w  ");
        map_list[17].set_map_array("q  661116  q");
        map_list[17].set_map_array(" 6666116666 ");
        map_list[17].set_map_array("q6666116666q");
        map_list[17].set_map_array(" 6666666666 ");
        map_list[17].set_map_to(15, 0);
        map_list[17].set_map_to_atx(10, 0);
        map_list[17].set_map_to_aty(2, 0);

        map_list[18].set_map_name("8");
        map_list[18].set_map_array("w 66666666w ");
        map_list[18].set_map_array("  61111116  ");
        map_list[18].set_map_array("q6611w 1166q");
        map_list[18].set_map_array(" 6611  1163 ");
        map_list[18].set_map_array("q6611111166q");
        map_list[18].set_map_array(" 6611w 1166 ");
        map_list[18].set_map_array("q6611  1166q");
        map_list[18].set_map_array(" 6611111166 ");
        map_list[18].set_map_array("656w w w 666");
        map_list[18].set_map_array("666      666");
        map_list[18].set_map_to(16, 0);
        map_list[18].set_map_to_atx(1, 0);
        map_list[18].set_map_to_aty(8, 0);

        map_list[10].set_map_name("0");
        map_list[10].set_map_array("q66w w w 665");
        map_list[10].set_map_array(" 66      666");
        map_list[10].set_map_array("q66w 76w 6w ");
        map_list[10].set_map_array(" 66  66  6  ");
        map_list[10].set_map_array("q66w 66w 6w ");
        map_list[10].set_map_array(" 66  66  6  ");
        map_list[10].set_map_array("q66w 66w 6w ");
        map_list[10].set_map_array(" 66  66  6  ");
        map_list[10].set_map_array("6666666666w ");
        map_list[10].set_map_array("5666666666  ");
        map_list[10].set_map_to(16, 0);
        map_list[10].set_map_to_atx(11, 0);
        map_list[10].set_map_to_aty(0, 0);
        map_list[10].set_map_to(11, 1);
        map_list[10].set_map_to_atx(0, 1);
        map_list[10].set_map_to_aty(9, 1);

        //道具
        item_list[20].set_name("維修券");
        item_list[20].set_eff(800);
        item_list[20].set_kind(8);
        item_list[20].set_price(300);
        item_list[20].set_intr("可以換取電腦維修的兌換券");

        item_list[21].set_name("點數卡");
        item_list[21].set_eff(800);
        item_list[21].set_kind(8);
        item_list[21].set_price(300);
        item_list[21].set_intr("[同學B]被搶走的點數卡，似乎還沒使用過");

        item_list[22].set_name("碳粉夾");
        item_list[22].set_eff(800);
        item_list[22].set_kind(8);
        item_list[22].set_price(300);
        item_list[22].set_intr("從[暴走的影印機]上拆下來的東西，似乎損壞了");

        item_list[23].set_name("遊戲安裝光碟");
        item_list[23].set_eff(800);
        item_list[23].set_kind(8);
        item_list[23].set_price(300);
        item_list[23].set_intr("對話攻略遊戲[女裝山脈]的安裝光碟，不知道認證序號在哪");

        item_list[24].set_name("警長的謝函");
        item_list[24].set_eff(800);
        item_list[24].set_kind(8);
        item_list[24].set_price(300);
        item_list[24].set_intr("協助破獲[不肖維修商]的犯案手法的証明，很有紀念價值");

        //BOSS
        boss_list[4].set_basic(10, 400, 0, 500, 20, 50, 20, 1600); //依序設定lv, hp, mp, exp, at_po攻擊力, de_po防禦力, dex敏捷(玩家逃跑計算用), dropmoney
        boss_list[4].set_name("點數騙子");
        boss_list[4].set_ap_map(13); //出現在地圖ID:3
        boss_list[4].set_sk_op(45, 0); //第一招機率45% 以下類推
        boss_list[4].set_sk_op(75, 1);
        boss_list[4].set_sk_op(99, 2);
        boss_list[4].set_sk_op(99, 3);
        boss_list[4].set_sk_op(100, 4); //此BOSS逃跑機率=100-98=2%
        boss_list[4].set_sk_name("偷瞄快速輸入卡號密碼", 0);
        boss_list[4].set_sk_name("小額付費之幫我打電話", 1);
        boss_list[4].set_sk_name("絕技：假交易，真騙錢", 2);
        boss_list[4].set_sk_name("真絕技：虛寶交易給爛貨", 3);
        boss_list[4].set_sk_po(100, 0); //第一招加乘倍數 100% 以下類推
        boss_list[4].set_sk_po(105, 1);
        boss_list[4].set_sk_po(125, 2);
        boss_list[4].set_sk_po(150, 3);
        boss_list[4].set_drop_item(21); //掉落道具ID
        boss_list[4].set_event_key(102); //此BOSS須完成哪個事件才會顯現
        boss_list[4].set_open_event(103);

        boss_list[5].set_basic(15, 500, 0, 700, 20, 50, 20, 2000); //依序設定lv, hp, mp, exp, at_po攻擊力, de_po防禦力, dex敏捷(玩家逃跑計算用), dropmoney
        boss_list[5].set_name("暴走的影印機");
        boss_list[5].set_ap_map(16);
        boss_list[5].set_sk_op(40, 0); //第一招機率45% 以下類推
        boss_list[5].set_sk_op(70, 1);
        boss_list[5].set_sk_op(87, 2);
        boss_list[5].set_sk_op(97, 3);
        boss_list[5].set_sk_op(100, 4); //此BOSS逃跑機率=100-98=2%
        boss_list[5].set_sk_name("印字頭污損", 0);
        boss_list[5].set_sk_name("碳粉不足之影印失敗", 1);
        boss_list[5].set_sk_name("無厘頭的卡紙", 2);
        boss_list[5].set_sk_name("瘋狂影印之廢紙亂舞", 3);
        boss_list[5].set_sk_po(100, 0); //第一招加乘倍數 100% 以下類推
        boss_list[5].set_sk_po(120, 1);
        boss_list[5].set_sk_po(135, 2);
        boss_list[5].set_sk_po(160, 3);
        boss_list[5].set_drop_item(22); //掉落道具ID
        boss_list[5].set_event_key(106); //此BOSS須完成哪個事件才會顯現
        boss_list[5].set_open_event(107);

        boss_list[6].set_basic(15, 600, 0, 1900, 20, 50, 20, 3000); //依序設定lv, hp, mp, exp, at_po攻擊力, de_po防禦力, dex敏捷(玩家逃跑計算用), dropmoney
        boss_list[6].set_name("討人厭惡霸同學");
        boss_list[6].set_ap_map(17);
        boss_list[6].set_sk_op(30, 0);
        boss_list[6].set_sk_op(65, 1);
        boss_list[6].set_sk_op(80, 2);
        boss_list[6].set_sk_op(95, 3);
        boss_list[6].set_sk_op(100, 4); //此BOSS逃跑機率=100-95=5%
        boss_list[6].set_sk_name("威脅恐嚇", 0);
        boss_list[6].set_sk_name("暴力搶奪", 1);
        boss_list[6].set_sk_name("教唆小弟圍毆", 2);
        boss_list[6].set_sk_name("長期校園霸凌", 3);
        boss_list[6].set_sk_po(100, 0); //第一招加乘倍數 100% 以下類推
        boss_list[6].set_sk_po(115, 1);
        boss_list[6].set_sk_po(140, 2);
        boss_list[6].set_sk_po(200, 3);
        boss_list[6].set_drop_item(23); //掉落道具ID
        boss_list[6].set_event_key(112); //此BOSS須完成哪個事件才會顯現
        boss_list[6].set_open_event(113);

        boss_list[7].set_basic(7, 500, 0, 300, 20, 50, 20, 800); //依序設定lv, hp, mp, exp, at_po攻擊力, de_po,防禦力, dex敏捷(玩家逃跑計算用), dropmoney
        boss_list[7].set_name("不肖維修商");
        boss_list[7].set_ap_map(18); //出現在地圖ID:1
        boss_list[7].set_sk_op(30, 0);
        boss_list[7].set_sk_op(70, 1);
        boss_list[7].set_sk_op(88, 2);
        boss_list[7].set_sk_op(90, 3);
        boss_list[7].set_sk_op(100, 4);
        boss_list[7].set_sk_name("狡詐的偷天換日", 0);
        boss_list[7].set_sk_name("狡詐的偷偷複製", 1);
        boss_list[7].set_sk_name("超無恥竊取照片", 2);
        boss_list[7].set_sk_name("極沒品之網路散佈不雅照", 3);
        boss_list[7].set_sk_po(100, 0); //第一招加乘倍數 100% 以下類推
        boss_list[7].set_sk_po(130, 1);
        boss_list[7].set_sk_po(180, 2);
        boss_list[7].set_sk_po(300, 3);
        boss_list[7].set_drop_item(24); //掉落道具ID
        boss_list[7].set_event_key(110); //此BOSS須完成哪個事件才會顯現
        boss_list[7].set_open_event(111);

        //OP小怪
        /*
        mon_list[20].set_basic(1, 40, 0, 50, 5, 2, 5, 1000);
        mon_list[20].set_name("完全被人遺忘的磁片");
        mon_list[20].set_ap_map(21, 0);
        mon_list[20].set_ap_map(22, 1);
        mon_list[20].set_ap_op(70, 0);
        mon_list[20].set_ap_op(30, 1);
        mon_list[20].set_sk_name("怨念的龜速讀寫", 0);
        mon_list[20].set_sk_name("怨念的容量不足", 1);
        mon_list[20].set_sk_po(100, 0);
        mon_list[20].set_sk_po(120, 1);

        mon_list[21].set_basic(1, 40, 0, 50, 5, 2, 5, 1000);
        mon_list[21].set_name("被人完全遺忘的磁片");
        mon_list[21].set_ap_map(23, 0);
        mon_list[21].set_ap_map(24, 1);
        mon_list[21].set_ap_op(30, 0);
        mon_list[21].set_ap_op(70, 1);
        mon_list[21].set_sk_name("怨念的龜速讀寫", 0);
        mon_list[21].set_sk_name("怨念的容量不足", 1);
        mon_list[21].set_sk_po(100, 0);
        mon_list[21].set_sk_po(150, 1);

        mon_list[22].set_basic(1, 40, 0, 50, 5, 2, 5, 1000);
        mon_list[22].set_name("嚴重損壞的硬碟");
        mon_list[22].set_ap_map(25, 0);
        mon_list[22].set_ap_map(27, 1);
        mon_list[22].set_ap_op(50, 0);
        mon_list[22].set_ap_op(50, 1);
        mon_list[22].set_sk_name("完全硬碟壞軌", 0);
        mon_list[22].set_sk_name("資料全部丟失", 1);
        mon_list[22].set_sk_po(100, 0);
        mon_list[22].set_sk_po(120, 1);

        mon_list[23].set_basic(1, 40, 0, 50, 5, 2, 5, 1000);
        mon_list[23].set_name("損壞嚴重的硬碟");
        mon_list[23].set_ap_map(26, 0);
        mon_list[23].set_ap_map(28, 1);
        mon_list[23].set_ap_op(50, 0);
        mon_list[23].set_ap_op(50, 1);
        mon_list[23].set_sk_name("完全硬碟壞軌", 0);
        mon_list[23].set_sk_name("資料全部丟失", 1);
        mon_list[23].set_sk_po(100, 0);
        mon_list[23].set_sk_po(150, 1);

        mon_list[24].set_basic(1, 40, 0, 50, 5, 2, 5, 1000);
        mon_list[24].set_name("損壞的硬碟");
        mon_list[24].set_ap_map(21, 0);
        mon_list[24].set_ap_map(22, 1);
        mon_list[24].set_ap_op(70, 0);
        mon_list[24].set_ap_op(30, 1);
        mon_list[24].set_sk_name("硬碟壞軌", 0);
        mon_list[24].set_sk_name("磁碟空間紊亂", 1);
        mon_list[24].set_sk_po(100, 0);
        mon_list[24].set_sk_po(100, 1);

        mon_list[25].set_basic(1, 40, 0, 50, 5, 2, 5, 1000);
        mon_list[25].set_name("破舊的DVD");
        mon_list[25].set_ap_map(22, 0);
        mon_list[25].set_ap_map(23, 1);
        mon_list[25].set_ap_op(40, 0);
        mon_list[25].set_ap_op(40, 1);
        mon_list[25].set_sk_name("刮痕滿布", 0);
        mon_list[25].set_sk_name("燒錄失敗", 1);
        mon_list[25].set_sk_po(100, 0);
        mon_list[25].set_sk_po(100, 1);

        mon_list[26].set_basic(1, 40, 0, 50, 5, 2, 5, 1000);
        mon_list[26].set_name("損壞的隨身碟");
        mon_list[26].set_ap_map(23, 0);
        mon_list[26].set_ap_map(24, 1);
        mon_list[26].set_ap_op(30, 0);
        mon_list[26].set_ap_op(30, 1);
        mon_list[26].set_sk_name("系統無法辨識", 0);
        mon_list[26].set_sk_name("接頭斷裂", 1);
        mon_list[26].set_sk_po(100, 0);
        mon_list[26].set_sk_po(100, 1);

        mon_list[27].set_basic(1, 40, 0, 50, 5, 2, 5, 1000);
        mon_list[27].set_name("隨機存取記憶體");
        mon_list[27].set_ap_map(24, 0);
        mon_list[27].set_ap_map(25, 1);
        mon_list[27].set_ap_op(30, 0);
        mon_list[27].set_ap_op(30, 1);
        mon_list[27].set_sk_name("「垃圾檔」占用", 0);
        mon_list[27].set_sk_name("接觸不良", 1);
        mon_list[27].set_sk_po(100, 0);
        mon_list[27].set_sk_po(100, 1);

        mon_list[28].set_basic(1, 40, 0, 50, 5, 2, 5, 1000);
        mon_list[28].set_name("唯讀記憶體");
        mon_list[28].set_ap_map(24, 0);
        mon_list[28].set_ap_map(26, 1);
        mon_list[28].set_ap_op(30, 0);
        mon_list[28].set_ap_op(30, 1);
        mon_list[28].set_sk_name("讀取失敗", 0);
        mon_list[28].set_sk_name("系統擋損壞", 1);
        mon_list[28].set_sk_po(100, 0);
        mon_list[28].set_sk_po(100, 1);

        mon_list[29].set_basic(1, 40, 0, 50, 5, 2, 5, 1000);
        mon_list[29].set_name("SSD固態硬碟");
        mon_list[29].set_ap_map(25, 0);
        mon_list[29].set_ap_map(26, 1);
        mon_list[29].set_ap_op(30, 0);
        mon_list[29].set_ap_op(30, 1);
        mon_list[29].set_sk_name("超高價格嚇死你", 0);
        mon_list[29].set_sk_name("磁碟檢測顯示壞軌嚇死你", 1);
        mon_list[29].set_sk_po(100, 0);
        mon_list[29].set_sk_po(100, 1);

        mon_list[30].set_basic(1, 40, 0, 50, 5, 2, 5, 1000);
        mon_list[30].set_name("不良SD記憶卡");
        mon_list[30].set_ap_map(27, 0);
        mon_list[30].set_ap_map(28, 1);
        mon_list[30].set_ap_op(30, 0);
        mon_list[30].set_ap_op(18, 1);
        mon_list[30].set_sk_name("記錄丟失", 0);
        mon_list[30].set_sk_name("格式化", 1);
        mon_list[30].set_sk_po(100, 0);
        mon_list[30].set_sk_po(100, 1);

        mon_list[31].set_basic(1, 40, 0, 50, 5, 2, 5, 1000);
        mon_list[31].set_name("被人遺忘的磁片");
        mon_list[31].set_ap_map(27, 0);
        mon_list[31].set_ap_map(28, 1);
        mon_list[31].set_ap_op(18, 0);
        mon_list[31].set_ap_op(10, 1);
        mon_list[31].set_sk_name("容量不足", 0);
        mon_list[31].set_sk_name("龜速讀寫", 1);
        mon_list[31].set_sk_po(100, 0);
        mon_list[31].set_sk_po(100, 1);
        */
        
        //第四章
        boss_list[10].set_basic(13, 700, 0, 5000, 40, 80, 20, 10200);
        boss_list[10].set_name("黑豹喵仔6號");
        boss_list[10].set_ap_map(51); //出現在地圖ID:1
        boss_list[10].set_sk_op(40, 0);
        boss_list[10].set_sk_op(65, 1);
        boss_list[10].set_sk_op(85, 2);
        boss_list[10].set_sk_op(98, 3);
        boss_list[10].set_sk_op(100, 4);
        boss_list[10].set_sk_name("喵咪爪", 0);
        boss_list[10].set_sk_name("喵喵叫", 1);
        boss_list[10].set_sk_name("白色，白色的○天在等著我們！", 2);
        boss_list[10].set_sk_name("我們是穿梭在天際的火○隊！", 3);
        boss_list[10].set_sk_po(150, 0);
        boss_list[10].set_sk_po(160, 1);
        boss_list[10].set_sk_po(180, 2);
        boss_list[10].set_sk_po(200, 3);
        boss_list[10].set_drop_item(40);
        boss_list[10].set_event_key(304);
        boss_list[10].set_open_event(305); //紀錄擊敗此BOSS之後會開啟的事件

        boss_list[11].set_basic(20, 1500, 0, 5000, 40, 80, 20, 10200);
        boss_list[11].set_name("黑豹狗仔3號");
        boss_list[11].set_ap_map(53); //出現在地圖ID:1
        boss_list[11].set_sk_op(40, 0);
        boss_list[11].set_sk_op(65, 1);
        boss_list[11].set_sk_op(85, 2);
        boss_list[11].set_sk_op(98, 3);
        boss_list[11].set_sk_op(100, 4);
        boss_list[11].set_sk_name("狗仔爪", 0);
        boss_list[11].set_sk_name("汪汪叫", 1);
        boss_list[11].set_sk_name("黑色，黑色的○晚在等著我們！", 2);
        boss_list[11].set_sk_name("我們是穿梭在地底的大○隊！", 3);
        boss_list[11].set_sk_po(150, 0);
        boss_list[11].set_sk_po(160, 1);
        boss_list[11].set_sk_po(180, 2);
        boss_list[11].set_sk_po(200, 3);
        boss_list[11].set_drop_item(41);
        boss_list[11].set_event_key(304);
        boss_list[11].set_open_event(999); //紀錄擊敗此BOSS之後會開啟的事件

        map_list[1].set_map_name("新手村");
        map_list[1].set_map_array("666666666666");
        map_list[1].set_map_array("6w qqw 11116");
        map_list[1].set_map_array("6      111a6");
        map_list[1].set_map_array("666666666666");
        map_list[1].set_map_array("611311111116");
        map_list[1].set_map_array("631111111136");
        map_list[1].set_map_array("6h  66666666");
        map_list[1].set_map_array("6   6qqqw 66");
        map_list[1].set_map_array("6 s 6     56");
        map_list[1].set_map_array("666666666666");
        map_list[1].set_map_to(3, 0);
        map_list[1].set_map_to_atx(2, 0);
        map_list[1].set_map_to_aty(8, 0);
        map_list[1].set_map_to(2, 1);
        map_list[1].set_map_to_atx(10, 1);
        map_list[1].set_map_to_aty(8, 1);

        map_list[2].set_map_name("神秘小徑");
        map_list[2].set_map_array("666666666666");
        map_list[2].set_map_array("6w w 66w w 6");
        map_list[2].set_map_array("6    66    6");
        map_list[2].set_map_array("666665666666");
        map_list[2].set_map_array("611316611116");
        map_list[2].set_map_array("611116611116");
        map_list[2].set_map_array("6qqqq64qqqq6");
        map_list[2].set_map_array("6    66    6");
        map_list[2].set_map_array("666666666666");
        map_list[2].set_map_array("666666666665");
        map_list[2].set_map_to(1, 0);
        map_list[2].set_map_to_atx(5, 0);
        map_list[2].set_map_to_aty(3, 0);
        map_list[2].set_map_to(4, 1);
        map_list[2].set_map_to_atx(11, 1);
        map_list[2].set_map_to_aty(9, 1);


        map_list[3].set_map_name("商店街");
        map_list[3].set_map_array("i           ");//i表示屋內
        map_list[3].set_map_array(" 3766666666 ");
        map_list[3].set_map_array(" 6666666666 ");
        map_list[3].set_map_array(" 336666t 36 ");
        map_list[3].set_map_array(" 666666c c6 ");
        map_list[3].set_map_array(" 6111111116 ");
        map_list[3].set_map_array(" 6111111116 ");
        map_list[3].set_map_array(" 6111111116 ");
        map_list[3].set_map_array(" 6666666663 ");
        map_list[3].set_map_array("     9      ");
        map_list[3].set_map_to(1, 0);
        map_list[3].set_map_to_atx(5, 0);
        map_list[3].set_map_to_aty(9, 0);

        map_list[4].set_map_name("神秘小徑2A");
        map_list[4].set_map_array("5qqw qqw qq6");
        map_list[4].set_map_array("6          6");
        map_list[4].set_map_array("611111111116");
        map_list[4].set_map_array("611111111116");
        map_list[4].set_map_array("6w qq11qqw 6");
        map_list[4].set_map_array("6    11    6");
        map_list[4].set_map_array("6w w 11w w 6");
        map_list[4].set_map_array("6    11    6");
        map_list[4].set_map_array("qw w w w w q");
        map_list[4].set_map_array("            ");
        map_list[4].set_map_to(2, 0);
        map_list[4].set_map_to_atx(0, 0);
        map_list[4].set_map_to_aty(0, 0);

        //npc

        npc_list[30].set_name("朋友");
        npc_list[30].set_at_map(21);
        npc_list[30].set_at_x(10);
        npc_list[30].set_at_y(1);
        npc_list[30].set_kind(1); //NPC種類 1:任務導向 2:純粹對話 3:影響章節(一樣以事件控制對話，差別在於會讓章節改變) 4:販賣神秘道具(會開啟隱藏事件)
        npc_list[30].set_event_key(1, 0);
        npc_list[30].set_dialog("好久不見，我的手機掉了，可以幫我收個簡訊嗎？", 0); //第一階段對話
        npc_list[30].set_turnon_event(202, 0);
        npc_list[30].set_event_key(202, 1);
        npc_list[30].set_dialog("你手機也掉了？沒關係，我朋友說：打倒「充滿智慧的手機」也可以拿到驗證碼", 1);
        npc_list[30].set_turnon_event(203, 1);
        npc_list[30].set_event_key(206, 2);
        npc_list[30].set_dialog("真的嗎？你打倒牠拿到驗證碼了呀？", 2);
        npc_list[30].set_turnon_event(207, 2);
        npc_list[30].set_event_key(207, 3);
        npc_list[30].set_dialog("你幫了我一個大忙，真是太感謝你了", 3);

        npc_list[31].set_name("媽媽");
        npc_list[31].set_at_map(22);
        npc_list[31].set_at_x(5);
        npc_list[31].set_at_y(4);
        npc_list[31].set_kind(1);
        npc_list[31].set_event_key(1, 0);
        npc_list[31].set_dialog("別一直玩電腦，眼睛會壞掉", 0);
        npc_list[31].set_event_key(207, 1);
        npc_list[31].set_dialog("有你的信呦～要你去法院一趟", 1);
        npc_list[31].set_turnon_event(208, 1);
        npc_list[31].set_sex(2);//女生

        npc_list[32].set_name("手機伯伯");
        npc_list[32].set_at_map(23);
        npc_list[32].set_at_x(8);
        npc_list[32].set_at_y(5);
        npc_list[32].set_kind(1);
        npc_list[32].set_event_key(1, 0);
        npc_list[32].set_dialog("你再找手機嗎？", 0);
        npc_list[32].set_event_key(203, 1);
        npc_list[32].set_dialog("我剛剛看到一個東西，告訴你一個線索", 1);
        npc_list[32].set_turnon_event(204, 1);
        npc_list[32].set_event_key(204, 2);
        npc_list[32].set_dialog("這張地圖中有「充滿智慧的手機」，小心牠很兇猛的！", 2);
        npc_list[32].set_turnon_event(205, 2);

        npc_list[33].set_name("法官");
        npc_list[33].set_at_map(24);
        npc_list[33].set_at_x(8);
        npc_list[33].set_at_y(3);
        npc_list[33].set_kind(1);
        npc_list[33].set_event_key(1, 0);
        npc_list[33].set_dialog("你有保持沉默的權利......", 0);
        npc_list[33].set_event_key(208, 1);
        npc_list[33].set_dialog("你涉嫌網路詐騙，請問你有甚麼話要說嗎？", 1);
        npc_list[33].set_turnon_event(209, 1);
        npc_list[33].set_event_key(209, 2);
        npc_list[33].set_dialog("你的認證碼讓你成了嫌犯，現在只能看原告是否願意與你和解", 2);
        npc_list[33].set_turnon_event(210, 2);
        npc_list[33].set_event_key(212, 3);
        npc_list[33].set_dialog("以後要多注意，知道嗎？別再隨便將重要的資訊透露在網路上了", 3);
        npc_list[33].set_turnon_event(213, 3);

        npc_list[34].set_name("買家");
        npc_list[34].set_at_map(24);
        npc_list[34].set_at_x(3);
        npc_list[34].set_at_y(3);
        npc_list[34].set_kind(1);
        npc_list[34].set_event_key(1, 0);
        npc_list[34].set_dialog("你這個騙子，把錢還給我！", 0);
        npc_list[34].set_event_key(210, 1);
        npc_list[34].set_dialog("原來你也被騙！", 1);
        npc_list[34].set_turnon_event(211, 1);
        npc_list[34].set_event_key(211, 2);
        npc_list[34].set_dialog("摁！這次金額不高，念在你年紀還小，不想讓你因此留下汙點，我們和解吧！", 2);
        npc_list[34].set_turnon_event(212, 2);
        npc_list[34].set_event_key(212, 3);
        npc_list[34].set_dialog("下次再亂收驗證碼，我就不放過你嘍！", 3);

        npc_list[35].set_name("客服人員");
        npc_list[35].set_at_map(27);
        npc_list[35].set_at_x(10);
        npc_list[35].set_at_y(3);
        npc_list[35].set_kind(1);
        npc_list[35].set_event_key(1, 0);
        npc_list[35].set_dialog("您好，請問是主角嗎？", 0);
        npc_list[35].set_event_key(213, 1);
        npc_list[35].set_dialog("我是網路拍賣的客服人員，因為我們的訂單系統，不小心將您的付款方式誤植為十二期分期付款，因此您需要依照指示到ATM來停止", 1);
        npc_list[35].set_turnon_event(214, 1);
        npc_list[35].set_event_key(214, 2);
        npc_list[35].set_dialog("明天扣款日期就到了，如果您不取消的話，可能會多扣到您的錢，今天晚上要盡快到ATM去設定...", 2);
        npc_list[35].set_turnon_event(215, 2);
        npc_list[35].set_event_key(222, 3);
        npc_list[35].set_dialog("什麼？你怎麼知道我是騙子？真可惡！竟然騙不到你", 3);
        npc_list[35].set_turnon_event(223, 3);
        npc_list[35].set_sex(2);//女生

        npc_list[36].set_name("慵懶的書蟲");
        npc_list[36].set_at_map(25);
        npc_list[36].set_at_x(9);
        npc_list[36].set_at_y(8);
        npc_list[36].set_kind(1);
        npc_list[36].set_event_key(1, 0);
        npc_list[36].set_dialog("你在找什麼書呀？", 0);
        npc_list[36].set_event_key(215, 1);
        npc_list[36].set_dialog("電話簿呀？我記得有一本很舊很舊的書，牠好像叫做「發霉的電話簿」", 1);
        npc_list[36].set_turnon_event(216, 1);
        npc_list[36].set_event_key(217, 2);
        npc_list[36].set_dialog("找到了呀？好好使用它吧！", 2);
        npc_list[36].set_turnon_event(218, 2);
        npc_list[36].set_event_key(218, 3);
        npc_list[36].set_dialog("別看這些書舊舊的，它們可是我的寶貝呢！", 3);

        npc_list[37].set_name("銀行客服");
        npc_list[37].set_at_map(27);
        npc_list[37].set_at_x(1);
        npc_list[37].set_at_y(6);
        npc_list[37].set_kind(1);
        npc_list[37].set_event_key(1, 0); //進入第一段對話需要完成的事件
        npc_list[37].set_dialog("請轉接分機，分機號碼為...", 0); //第一階段對話
        npc_list[37].set_event_key(218, 1);
        npc_list[37].set_dialog("您對分期付款有什麼不瞭解的嗎？我解釋一下", 1);
        npc_list[37].set_turnon_event(219, 1);
        npc_list[37].set_event_key(219, 2);
        npc_list[37].set_dialog("分期付款需要本人自行申請，如果您沒有申請過，是不會扣款的，ATM並沒有辦法取消此設定，可能是詐騙", 2);
        npc_list[37].set_turnon_event(220, 2);
        npc_list[37].set_event_key(220, 3);
        npc_list[37].set_dialog("建議您可撥打165查證", 3);
        npc_list[37].set_turnon_event(221, 3);
        npc_list[37].set_sex(2);//女生

        npc_list[38].set_name("165專員");
        npc_list[38].set_at_map(25);
        npc_list[38].set_at_x(5);
        npc_list[38].set_at_y(2);
        npc_list[38].set_kind(1);
        npc_list[38].set_event_key(1, 0);
        npc_list[38].set_dialog("反詐騙專線您好，很高興能為您服務", 0);
        npc_list[38].set_event_key(221, 1);
        npc_list[38].set_dialog("您所接到的是典型的詐騙電話，ATM只能提款及轉帳，不能對分期付款做設定", 1);
        npc_list[38].set_turnon_event(222, 1);
        npc_list[38].set_event_key(222, 2);
        npc_list[38].set_dialog("不會扣款的，請您放心，此外您可以注意那通電話是否有" + "號，如果有的話，通常為境外發話", 2);
        npc_list[38].set_turnon_event(223, 2);
        npc_list[38].set_event_key(223, 3);
        npc_list[38].set_dialog("以後接到這樣的電話，要多注意，莫急、莫慌、莫害怕", 3);
        npc_list[38].set_turnon_event(224, 3);

        npc_list[39].set_name("偽‧小新");
        npc_list[39].set_at_map(28);
        npc_list[39].set_at_x(10);
        npc_list[39].set_at_y(1);
        npc_list[39].set_kind(1);
        npc_list[39].set_event_key(1, 0);
        npc_list[39].set_dialog("嘿嘿！還記得我嗎？好久沒看到你上線了", 0);
        npc_list[39].set_event_key(224, 1);
        npc_list[39].set_dialog("我遊戲的季卡快到期了，可以幫我買９００點嗎？因為我被我爸禁足了，不能出門，", 1);
        npc_list[39].set_turnon_event(225, 1);
        npc_list[39].set_event_key(229, 2);
        npc_list[39].set_dialog("謝謝你摟！我儲值好再跟你確認", 2);
        npc_list[39].set_turnon_event(230, 2);
        npc_list[39].set_event_key(230, 3);
        npc_list[39].set_dialog("「此玩家已離線」", 3);
        npc_list[39].set_turnon_event(231, 3);

        npc_list[40].set_name("真‧小新");
        npc_list[40].set_at_map(28);
        npc_list[40].set_at_x(1);
        npc_list[40].set_at_y(8);
        npc_list[40].set_kind(3);
        npc_list[40].set_event_key(1, 0);
        npc_list[40].set_dialog("你說什麼？", 0);
        npc_list[40].set_event_key(231, 1);
        npc_list[40].set_dialog("儲值？今天不是愚人節唷，我沒請你幫我買點數卡呀", 1);
        npc_list[40].set_turnon_event(232, 1);
        npc_list[40].set_event_key(232, 2);
        npc_list[40].set_dialog("你說資安遊戲？不可能！我很多年沒玩了，你該不會被騙了？快打電話去報警", 2);
        npc_list[40].set_turnon_event(233, 2);
        npc_list[40].set_event_key(233, 3);
        npc_list[40].set_dialog("得一次教訓學一次乖，別難過了(再次和我對話！)", 3);

        npc_list[41].set_name("深夜的便利商店店員");
        npc_list[41].set_at_map(26);
        npc_list[41].set_at_x(3);
        npc_list[41].set_at_y(8);
        npc_list[41].set_kind(1);
        npc_list[41].set_event_key(1, 0);
        npc_list[41].set_dialog("你好，歡迎光臨，請問需要買些甚麼？", 0);
        npc_list[41].set_event_key(225, 1);
        npc_list[41].set_dialog("點數卡900點嗎？要自己用的？還是幫別人買的呢？現在很多詐騙事件，要小心", 1);
        npc_list[41].set_turnon_event(226, 1);
        npc_list[41].set_event_key(226, 2);
        npc_list[41].set_dialog("啊！我沒辦法賣你，除非你拿到熱感應繳費單，熱感應繳費單一直以來都是「點數卡販賣機」在保護", 2);
        npc_list[41].set_turnon_event(227, 2);
        npc_list[41].set_event_key(228, 3);
        npc_list[41].set_dialog("你拿到繳費單！真是太厲害了，這裡是你的900點", 3);
        npc_list[41].set_turnon_event(229, 3);
        npc_list[41].set_sex(2);//女生
        /////////////////////////////////////////////////////////////
        //map
        //1草地  2房子 3NPC  5傳點  6空白

        //facebook聊天
        map_list[21].set_map_name("facebook聊天");
        map_list[21].set_map_array("i           ");
        map_list[21].set_map_array(" 6666111163 ");
        map_list[21].set_map_array(" 6661166116 ");
        map_list[21].set_map_array(" 6661166611 ");
        map_list[21].set_map_array(" 1111111111 ");
        map_list[21].set_map_array(" 6661166666 ");
        map_list[21].set_map_array(" 6661166666 ");
        map_list[21].set_map_array(" 6661166666 ");
        map_list[21].set_map_array(" 6666666666 ");
        map_list[21].set_map_array("     9      ");
        map_list[21].set_map_to(22, 0); //傳點至地圖2
        map_list[21].set_map_to_atx(5, 0);
        map_list[21].set_map_to_aty(9, 0);

        //家中客廳
        map_list[22].set_map_name("家中客廳");
        map_list[22].set_map_array("i    5      ");
        map_list[22].set_map_array(" 6666116666 ");
        map_list[22].set_map_array(" 6661661666 ");
        map_list[22].set_map_array(" 6616t c166 ");
        map_list[22].set_map_array(" 61664 c616 ");
        map_list[22].set_map_array(" 1116666111 ");
        map_list[22].set_map_array(" 6616666166 ");
        map_list[22].set_map_array(" 6611111166 ");
        map_list[22].set_map_array(" 6666666666 ");
        map_list[22].set_map_array("     9      ");
        map_list[22].set_map_to(29, 0); //傳點至地圖3
        map_list[22].set_map_to_atx(5, 0);
        map_list[22].set_map_to_aty(9, 0);
        map_list[22].set_map_to(21, 1); //傳點至地圖1
        map_list[22].set_map_to_atx(5, 1);
        map_list[22].set_map_to_aty(0, 1);

        map_list[29].set_map_name("資安小鎮住宅區");
        map_list[29].set_map_array("6w h  qh  q6");
        map_list[29].set_map_array("6          6");
        map_list[29].set_map_array("6w  s 6 s a6");
        map_list[29].set_map_array("6  666666666");
        map_list[29].set_map_array("6666h  66w 6");
        map_list[29].set_map_array("6666   66  6");
        map_list[29].set_map_array("6w 6 s 66w 6");
        map_list[29].set_map_array("6  666666  6");
        map_list[29].set_map_array("6qw qqqqw q6");
        map_list[29].set_map_array("6          5");
        map_list[29].set_map_to(22, 0); //傳點至地圖5
        map_list[29].set_map_to_atx(4, 0);
        map_list[29].set_map_to_aty(2, 0);
        map_list[29].set_map_to(26, 1); //傳點至地圖6
        map_list[29].set_map_to_atx(8, 1);
        map_list[29].set_map_to_aty(2, 1);
        map_list[29].set_map_to(25, 2); //傳點至地圖5
        map_list[29].set_map_to_atx(5, 2);
        map_list[29].set_map_to_aty(6, 2);
        map_list[29].set_map_to(30, 3); //傳點至地圖5
        map_list[29].set_map_to_atx(11, 3);
        map_list[29].set_map_to_aty(9, 3);

        map_list[30].set_map_name("資安小鎮商業區");
        map_list[30].set_map_array("566h  qh  w ");
        map_list[30].set_map_array("6w          ");
        map_list[30].set_map_array("6   s 6 s 66");
        map_list[30].set_map_array("666666666666");
        map_list[30].set_map_array("6qq6h  66qq6");
        map_list[30].set_map_array("6  6   66  6");
        map_list[30].set_map_array("6w 6 s 66w 6");
        map_list[30].set_map_array("6  666666  6");
        map_list[30].set_map_array("6qqqqqqqqqq6");
        map_list[30].set_map_array("6          6");
        map_list[30].set_map_to(23, 0); //傳點至地圖3
        map_list[30].set_map_to_atx(4, 0);
        map_list[30].set_map_to_aty(2, 0);
        map_list[30].set_map_to(24, 1); //傳點至地圖6
        map_list[30].set_map_to_atx(8, 1);
        map_list[30].set_map_to_aty(2, 1);
        map_list[30].set_map_to(27, 2); //傳點至地圖5
        map_list[30].set_map_to_atx(5, 2);
        map_list[30].set_map_to_aty(6, 2);
        map_list[30].set_map_to(29, 3); //傳點至地圖5
        map_list[30].set_map_to_atx(0, 3);
        map_list[30].set_map_to_aty(0, 3);

        //手機回收場
        map_list[23].set_map_name("手機回收場");
        map_list[23].set_map_array("i           ");
        map_list[23].set_map_array(" 1111111666 ");
        map_list[23].set_map_array(" 1666661t c ");
        map_list[23].set_map_array(" 1611161c c ");
        map_list[23].set_map_array(" 1616161666 ");
        map_list[23].set_map_array(" 1611161366 ");
        map_list[23].set_map_array(" 1666661666 ");
        map_list[23].set_map_array(" 1111111666 ");
        map_list[23].set_map_array(" 6666666666 ");
        map_list[23].set_map_array("     9      ");
        map_list[23].set_map_to(30, 0); //傳點至地圖2
        map_list[23].set_map_to_atx(5, 0);
        map_list[23].set_map_to_aty(9, 0);

        //法院
        map_list[24].set_map_name("法院");
        map_list[24].set_map_array("i           ");
        map_list[24].set_map_array(" 6611111166 ");
        map_list[24].set_map_array(" 6611111166 ");
        map_list[24].set_map_array(" 6631111366 ");
        map_list[24].set_map_array(" 6666116666 ");
        map_list[24].set_map_array(" 6666116666 ");
        map_list[24].set_map_array(" 6666116666 ");
        map_list[24].set_map_array(" 6666116666 ");
        map_list[24].set_map_array(" 6666666666 ");
        map_list[24].set_map_array("     9      ");
        map_list[24].set_map_to(30, 0); //傳點至地圖5
        map_list[24].set_map_to_atx(5, 0);
        map_list[24].set_map_to_aty(9, 0);

        //二手書店
        map_list[25].set_map_name("二手書店");
        map_list[25].set_map_array("i           ");
        map_list[25].set_map_array(" 6611111166 ");
        map_list[25].set_map_array(" 6616366616 ");
        map_list[25].set_map_array(" 6616666616 ");
        map_list[25].set_map_array(" 6611111166 ");
        map_list[25].set_map_array(" 6616666166 ");
        map_list[25].set_map_array(" 6616666616 ");
        map_list[25].set_map_array(" 6611111116 ");
        map_list[25].set_map_array(" 6666666636 ");
        map_list[25].set_map_array("     9      ");
        map_list[25].set_map_to(29, 0); //傳點至地圖4
        map_list[25].set_map_to_atx(5, 0);
        map_list[25].set_map_to_aty(9, 0);

        //便利商店
        map_list[26].set_map_name("便利商店");
        map_list[26].set_map_array("i           ");
        map_list[26].set_map_array(" t c6616676 ");
        map_list[26].set_map_array(" c c1111166 ");
        map_list[26].set_map_array(" 6661666666 ");
        map_list[26].set_map_array(" t c1111166 ");
        map_list[26].set_map_array(" c c6666166 ");
        map_list[26].set_map_array(" 6661111166 ");
        map_list[26].set_map_array(" 6666616666 ");
        map_list[26].set_map_array(" 6646666666 ");
        map_list[26].set_map_array("     9      ");
        map_list[26].set_map_to(29, 0); //傳點至地圖3
        map_list[26].set_map_to_atx(5, 0);
        map_list[26].set_map_to_aty(9, 0);

        //客服中心
        map_list[27].set_map_name("客服中心");
        map_list[27].set_map_array("i           ");
        map_list[27].set_map_array(" 5611661166 ");
        map_list[27].set_map_array(" 6611661166 ");
        map_list[27].set_map_array(" 6666116664 ");
        map_list[27].set_map_array(" 6666116666 ");
        map_list[27].set_map_array(" 6666116666 ");
        map_list[27].set_map_array(" 4661111666 ");
        map_list[27].set_map_array(" 6616666166 ");
        map_list[27].set_map_array(" 6616666166 ");
        map_list[27].set_map_array("     9      ");
        map_list[27].set_map_to(30, 0); //傳點至地圖4
        map_list[27].set_map_to_atx(5, 0);
        map_list[27].set_map_to_aty(9, 0);
        map_list[27].set_map_to(28, 1); //傳點至地圖6
        map_list[27].set_map_to_atx(1, 1);
        map_list[27].set_map_to_aty(1, 1);

        //遊戲大廳
        map_list[28].set_map_name("遊戲大廳");
        map_list[28].set_map_array("i           ");
        map_list[28].set_map_array(" 6661111663 ");
        map_list[28].set_map_array(" 6616666166 ");
        map_list[28].set_map_array(" 6166666666 ");
        map_list[28].set_map_array(" 6166111666 ");
        map_list[28].set_map_array(" 6166166166 ");
        map_list[28].set_map_array(" 6616666166 ");
        map_list[28].set_map_array(" 6661111666 ");
        map_list[28].set_map_array(" 3666666666 ");
        map_list[28].set_map_array("     9      ");
        map_list[28].set_map_to(27, 0); //傳點至地圖5
        map_list[28].set_map_to_atx(5, 0);
        map_list[28].set_map_to_aty(9, 0);

        /////////////////////////////////////////////////////////////
        //boss

        //依序設定lv, hp, mp, exp, at_po攻擊力, de_po防禦力, dex敏捷(玩家逃跑計算用), dropmoney

        boss_list[8].set_name("充滿智慧的手機");
        boss_list[8].set_basic(20, 1000, 0, 4500, 55, 40, 40, 9000);
        boss_list[8].set_ap_map(23); //出現在地圖ID:3
        boss_list[8].set_sk_op(42, 0); //42%
        boss_list[8].set_sk_op(70, 1); //28%
        boss_list[8].set_sk_op(95, 2); //25%
        boss_list[8].set_sk_op(98, 3); //3%
        boss_list[8].set_sk_op(100, 4); //此BOSS逃跑機率=100-98=2%
        boss_list[8].set_sk_name("自動無限次重撥", 0);
        boss_list[8].set_sk_name("嘟聲後開始收費", 1);
        boss_list[8].set_sk_name("不留言，就搗蛋", 2);
        boss_list[8].set_sk_name("發熱吧！電池自爆", 3);
        boss_list[8].set_sk_po(105, 0); //第一招加乘倍數 100% 以下類推
        boss_list[8].set_sk_po(115, 1);
        boss_list[8].set_sk_po(120, 2);
        boss_list[8].set_sk_po(220, 3);
        boss_list[8].set_drop_item(30); //掉落道具ID
        boss_list[8].set_event_key(205); //此BOSS須完成哪個事件才會顯現
        boss_list[8].set_open_event(206); //紀錄擊敗此BOSS之後會開啟的事件

        boss_list[9].set_basic(22, 1200, 0, 5000, 25, 50, 60, 13000); //依序設定lv, hp, mp, exp, at_po攻擊力, de_po防禦力, dex敏捷(玩家逃跑計算用), dropmoney
        boss_list[9].set_name("發霉的電話簿");
        boss_list[9].set_ap_map(25);
        boss_list[9].set_sk_op(37, 0); //37%
        boss_list[9].set_sk_op(65, 1); //30%
        boss_list[9].set_sk_op(87, 2); //22%
        boss_list[9].set_sk_op(95, 3); //8%
        boss_list[9].set_sk_op(100, 4); //此BOSS逃跑機率=100-95=5%
        boss_list[9].set_sk_name("天女散黴菌", 0);
        boss_list[9].set_sk_name("紙黏你手，不黏你口", 1);
        boss_list[9].set_sk_name("頁面脫落", 2);
        boss_list[9].set_sk_name("令人作嘔的霉味撲鼻", 3);
        boss_list[9].set_sk_po(110, 0); //第一招加乘倍數 100% 以下類推
        boss_list[9].set_sk_po(120, 1);
        boss_list[9].set_sk_po(141, 2);
        boss_list[9].set_sk_po(180, 3);
        boss_list[9].set_drop_item(31); //掉落道具ID
        boss_list[9].set_event_key(216); //此BOSS須完成哪個事件才會顯現
        boss_list[9].set_open_event(217);

        boss_list[14].set_basic(25, 1300, 0, 6000, 60, 20, 35, 60000); //依序設定lv, hp, mp, exp, at_po攻擊力, de_po防禦力, dex敏捷(玩家逃跑計算用), dropmoney
        boss_list[14].set_name("點數卡販賣機");
        boss_list[14].set_ap_map(26); //出現在地圖6
        boss_list[14].set_sk_op(41, 0); //41%
        boss_list[14].set_sk_op(70, 1); //30%
        boss_list[14].set_sk_op(88, 2); //18%
        boss_list[14].set_sk_op(96, 3); //8%
        boss_list[14].set_sk_op(100, 4); //此BOSS逃跑機率=100-96=4%
        boss_list[14].set_sk_name("萬卡齊飛", 0);
        boss_list[14].set_sk_name("系統當機", 1);
        boss_list[14].set_sk_name("查無此序號", 2);
        boss_list[14].set_sk_name("點數卡？公道價8萬1", 3);
        boss_list[14].set_sk_po(105, 0); //第一招加乘倍數 100% 以下類推
        boss_list[14].set_sk_po(120, 1);
        boss_list[14].set_sk_po(145, 2);
        boss_list[14].set_sk_po(210, 3);
        boss_list[14].set_drop_item(32); //掉落道具ID
        boss_list[14].set_event_key(227); //此BOSS須完成哪個事件才會顯現
        boss_list[14].set_open_event(228);

        item_list[30].set_name("驗證碼");
        item_list[30].set_eff(800);
        item_list[30].set_kind(8);
        item_list[30].set_price(300);
        item_list[30].set_intr("炙手可熱的手機驗證碼");

        item_list[31].set_name("電話號碼");
        item_list[31].set_eff(800);
        item_list[31].set_kind(8);
        item_list[31].set_price(300);
        item_list[31].set_intr("資訊安全銀行客服專線");

        item_list[32].set_name("熱感應繳費單");
        item_list[32].set_eff(800);
        item_list[32].set_kind(8);
        item_list[32].set_price(300);
        item_list[32].set_intr("請盡快繳費，不然字會消失");

        //第四章
        map_list[50].set_map_name("家裡");
        map_list[50].set_map_array("i           ");
        map_list[50].set_map_array(" 3666666666 ");
        map_list[50].set_map_array(" 6666666466 ");
        map_list[50].set_map_array(" 6666666666 ");
        map_list[50].set_map_array(" 6666666666 ");
        map_list[50].set_map_array(" 6666666666 ");
        map_list[50].set_map_array(" 6666666666 ");
        map_list[50].set_map_array(" t c6666666 ");
        map_list[50].set_map_array(" 4 c6666666 ");
        map_list[50].set_map_array("     9      ");
        map_list[50].set_map_to(51, 0);
        map_list[50].set_map_to_atx(5, 0);
        map_list[50].set_map_to_aty(9, 0);

        map_list[51].set_map_name("村落");
        map_list[51].set_map_array("6w 111111w 6");
        map_list[51].set_map_array("6  111111  6");
        map_list[51].set_map_array("6666h  666a6");
        map_list[51].set_map_array("66w    w 666");
        map_list[51].set_map_array("66   s   666");
        map_list[51].set_map_array("666666666666");
        map_list[51].set_map_array("6h  1111h  6");
        map_list[51].set_map_array("6   qw q   6");
        map_list[51].set_map_array("6 s      s 6");
        map_list[51].set_map_array("666666666666");
        map_list[51].set_map_to(52, 0);
        map_list[51].set_map_to_atx(2, 0);
        map_list[51].set_map_to_aty(8, 0);
        map_list[51].set_map_to(53, 1);
        map_list[51].set_map_to_atx(9, 1);
        map_list[51].set_map_to_aty(8, 1);
        map_list[51].set_map_to(50, 2);
        map_list[51].set_map_to_atx(5, 2);
        map_list[51].set_map_to_aty(4, 2);

        map_list[52].set_map_name("村長家");
        map_list[52].set_map_array("i           ");
        map_list[52].set_map_array(" 6666666666 ");
        map_list[52].set_map_array(" 6611111166 ");
        map_list[52].set_map_array(" 6616666166 ");
        map_list[52].set_map_array(" 6611111166 ");
        map_list[52].set_map_array(" 6666666636 ");
        map_list[52].set_map_array(" 6t c66t c6 ");
        map_list[52].set_map_array(" 64 c66c c6 ");
        map_list[52].set_map_array(" 6666666666 ");
        map_list[52].set_map_array("     9      ");
        map_list[52].set_map_to(51, 0);
        map_list[52].set_map_to_atx(5, 0);
        map_list[52].set_map_to_aty(9, 0);

        map_list[53].set_map_name("女僕咖啡廳");
        map_list[53].set_map_array("i           ");
        map_list[53].set_map_array(" 6111111116 ");
        map_list[53].set_map_array(" 6666666466 ");
        map_list[53].set_map_array(" 6t c66t c6 ");
        map_list[53].set_map_array(" 6c c66c c6 ");
        map_list[53].set_map_array(" 6666666666 ");
        map_list[53].set_map_array(" 6t c66t c6 ");
        map_list[53].set_map_array(" 64 c66c c6 ");
        map_list[53].set_map_array(" 6666666666 ");
        map_list[53].set_map_array("     9      ");
        map_list[53].set_map_to(51, 0);
        map_list[53].set_map_to_atx(5, 0);
        map_list[53].set_map_to_aty(9, 0);

        //第五章 駭客篇
        npc_list[60].set_name("鄰人小女兒");
        npc_list[60].set_at_map(60);
        npc_list[60].set_at_x(9);
        npc_list[60].set_at_y(2);
        npc_list[60].set_kind(6);
        npc_list[60].set_event_key(1, 0);
        npc_list[60].set_dialog("我的電腦好像被偷偷入侵了...Face○ook的帳號被盜用了...嗚嗚", 0);
        npc_list[60].set_turnon_event(400, 0);
        npc_list[60].set_event_key(400, 1);
        npc_list[60].set_dialog("聽說村內有名狹義的白帽駭客，可以麻煩你去幫忙請求他的協助嗎！？", 1);
        npc_list[60].set_turnon_event(401, 1);
        npc_list[60].set_event_key(404, 2);//此時直接載入故事
        npc_list[60].set_dialog("喔喔喔！可惡的臭喵咪被你打倒了嗎！幫我替小SAKI醬說聲抱歉唷~", 2);
        npc_list[60].set_turnon_event(406, 2);
        npc_list[60].set_event_key(406, 3);
        npc_list[60].set_dialog("我以後絕對會定時更新防毒軟體的病毒資料庫！", 3);
        npc_list[60].set_turnon_event(2, 3);//載入story_list[2]
        npc_list[60].set_sex(2);//女生

        npc_list[61].set_name("白帽駭客");
        npc_list[61].set_at_map(61);
        npc_list[61].set_at_x(2);
        npc_list[61].set_at_y(9);
        npc_list[61].set_kind(3);
        npc_list[61].set_event_key(401, 0);
        npc_list[61].set_dialog("...想尋求我的協助！？不過我現在奉火○隊的命令要來逮捕可惡的腳本小子...你如果可以幫我逮捕腳本小子的話我可以考慮幫助你！", 0);
        npc_list[61].set_turnon_event(402, 0);
        npc_list[61].set_event_key(403, 1);
        npc_list[61].set_dialog("你已經幫我逮捕腳本小子了嗎？真是厲害...好吧，按照約定，帶我去見電腦被駭客入侵的委託人吧！", 1);
        npc_list[61].set_turnon_event(404, 1);
        npc_list[61].set_event_key(406, 2);
        npc_list[61].set_dialog("麻煩你協助我逮捕黑帽駭客S先生吧！他好像就隱藏在駭客森林中...不過似乎需要從某人手中借來一樣道具才能逮住狡猾的黑帽駭客S先生。", 2);
        npc_list[61].set_event_key(408, 3);
        npc_list[61].set_dialog("我們白帽駭客和黑帽駭客不一樣，我們是合法的測試系統漏洞並回報給委託單位，以加強系統防禦。(請再次對話！)", 3);

        npc_list[62].set_name("網路警察");
        npc_list[62].set_at_map(62);
        npc_list[62].set_at_x(3);
        npc_list[62].set_at_y(1);
        npc_list[62].set_kind(4); //賣神密道具的NPC
        npc_list[62].set_dialog("看來你似乎想要協助逮捕黑帽駭客，需要我的協助嗎？", 0);
        npc_list[62].set_dialog("IP位址相當於網路世界的住址呢！", 1);
        npc_list[62].set_dialog("你再考慮看看吧！", 2);
        npc_list[62].set_dialog("網路世界由我來守護！", 3);
        npc_list[62].set_turnon_event(61, 0); //紀錄會給予的道具ID
        npc_list[62].set_turnon_event(407, 1); //獲得物品之後會開啟的事件(不會開啟事件就設定事件1)
        npc_list[62].set_turnon_event(0, 2); //紀錄物品的價格
        npc_list[62].set_event_key(408, 0); //查看是否完成此支線的事件
        npc_list[62].set_event_key(406, 1); //查看該NPC是否可以被觸發

        boss_list[12].set_basic(20, 1000, 0, 5000, 40, 80, 20, 16200);
        boss_list[12].set_name("腳本小子");
        boss_list[12].set_ap_map(61); //出現在地圖ID:1
        boss_list[12].set_sk_op(40, 0);
        boss_list[12].set_sk_op(65, 1);
        boss_list[12].set_sk_op(85, 2);
        boss_list[12].set_sk_op(98, 3);
        boss_list[12].set_sk_op(100, 4);
        boss_list[12].set_sk_name("喵咪爪", 0);
        boss_list[12].set_sk_name("喵喵叫", 1);
        boss_list[12].set_sk_name("白色，白色的○天在等著我們！", 2);
        boss_list[12].set_sk_name("我們是穿梭在天際的火○隊！", 3);
        boss_list[12].set_sk_po(150, 0);
        boss_list[12].set_sk_po(160, 1);
        boss_list[12].set_sk_po(180, 2);
        boss_list[12].set_sk_po(200, 3);
        boss_list[12].set_drop_item(60);
        boss_list[12].set_event_key(402);
        boss_list[12].set_open_event(403); //紀錄擊敗此BOSS之後會開啟的事件

        boss_list[13].set_basic(20, 2000, 0, 50000, 40, 80, 20, 12000);
        boss_list[13].set_name("黑帽駭客");
        boss_list[13].set_ap_map(62); //出現在地圖ID:1
        boss_list[13].set_sk_op(40, 0);
        boss_list[13].set_sk_op(65, 1);
        boss_list[13].set_sk_op(85, 2);
        boss_list[13].set_sk_op(98, 3);
        boss_list[13].set_sk_op(100, 4);
        boss_list[13].set_sk_name("喵咪爪", 0);
        boss_list[13].set_sk_name("喵喵叫", 1);
        boss_list[13].set_sk_name("白色，白色的○天在等著我們！", 2);
        boss_list[13].set_sk_name("我們是穿梭在天際的火○隊！", 3);
        boss_list[13].set_sk_po(150, 0);
        boss_list[13].set_sk_po(160, 1);
        boss_list[13].set_sk_po(180, 2);
        boss_list[13].set_sk_po(200, 3);
        boss_list[13].set_drop_item(62);
        boss_list[13].set_event_key(407);
        boss_list[13].set_open_event(408); //紀錄擊敗此BOSS之後會開啟的事件

        item_list[60].set_name("悔過書");
        item_list[60].set_eff(800);
        item_list[60].set_kind(8);
        item_list[60].set_price(300);
        item_list[60].set_intr("腳本小子的悔過書");

        item_list[61].set_name("IP定位器");
        item_list[61].set_eff(800);
        item_list[61].set_kind(8);
        item_list[61].set_price(300);
        item_list[61].set_intr("似乎可以追蹤駭客的IP位址");

        item_list[62].set_name("黑帽");
        item_list[62].set_eff(800);
        item_list[62].set_kind(8);
        item_list[62].set_price(300);
        item_list[62].set_intr("逮捕黑帽駭客的證明");

        map_list[60].set_map_name("鄰人部");
        map_list[60].set_map_array("i           ");
        map_list[60].set_map_array(" 6666666666 ");
        map_list[60].set_map_array(" 6t c66t 46 ");
        map_list[60].set_map_array(" 6c c66c c6 ");
        map_list[60].set_map_array(" 6666666666 ");
        map_list[60].set_map_array(" 6666666666 ");
        map_list[60].set_map_array(" 6666666666 ");
        map_list[60].set_map_array(" 6666666666 ");
        map_list[60].set_map_array(" 6666666666 ");
        map_list[60].set_map_array("     9      ");
        map_list[60].set_map_to(61, 0);
        map_list[60].set_map_to_atx(5, 0);
        map_list[60].set_map_to_aty(9, 0);

        map_list[61].set_map_name("駭客城");
        map_list[61].set_map_array("61qqqqqqqq16");
        map_list[61].set_map_array("61        16");
        map_list[61].set_map_array("611111111116");
        map_list[61].set_map_array("61h  66h  16");
        map_list[61].set_map_array("61   w    16");
        map_list[61].set_map_array("66 s    s 66");
        map_list[61].set_map_array("666666666666");
        map_list[61].set_map_array("6qw q66qw q6");
        map_list[61].set_map_array("6    66    6");
        map_list[61].set_map_array("663666666666");
        map_list[61].set_map_to(60, 0);
        map_list[61].set_map_to_atx(8, 0);
        map_list[61].set_map_to_aty(5, 0);
        map_list[61].set_map_to(62, 1);
        map_list[61].set_map_to_atx(3, 1);
        map_list[61].set_map_to_aty(5, 1);

        map_list[62].set_map_name("網路警察局");
        map_list[62].set_map_array("i           ");
        map_list[62].set_map_array(" 6636666666 ");
        map_list[62].set_map_array(" 6t c111166 ");
        map_list[62].set_map_array(" 6c c166616 ");
        map_list[62].set_map_array(" 6666111166 ");
        map_list[62].set_map_array(" 6666166666 ");
        map_list[62].set_map_array(" 6t c166666 ");
        map_list[62].set_map_array(" 6c c166666 ");
        map_list[62].set_map_array(" 6666666666 ");
        map_list[62].set_map_array("     9      ");
        map_list[62].set_map_to(61, 0);
        map_list[62].set_map_to_atx(5, 0);
        map_list[62].set_map_to_aty(9, 0);

        function draw_map(i) {
            if (i == 0) {
                what_state = 8; //地圖載入中
                draw_loading_map();
                draw_map_name();
                draw_loading_hint();
                if (this_map_string.charAt(0) == 'i')//室內
                {
                    document.getElementById('inhouse').src = "image/inHouse" + (now_chapter % 2 + 1) + ".png";
                    document.getElementById('inhouse').style.left = 0 + "px";
                    document.getElementById('inhouse').style.top = 0 + "px";
                }
                else//室外 改成室外背景
                {
                    document.getElementById('inhouse').src = "image/outside.png";
                    document.getElementById('inhouse').style.left = 0 + "px";
                    document.getElementById('inhouse').style.top = 0 + "px";
                }

            }
            draw_loading_string(i);
            var x = 0;
            var y = 0;
            var thischar = '';
            x = (i % 12) * 50;
            y = ((i - (i % 12)) / 12) * 50;
            thischar = this_map_string.charAt(i);
            document.getElementById('map' + i).width = 50;
            document.getElementById('map' + i).height = 50;
            if (thischar == '1') {
                map_state[i % 12][(i - i % 12) / 12] = 1;
                if (now_chapter % 3 == 0)
                    document.getElementById('map' + i).src = "image/grass01.png";
                else if (now_chapter % 3 == 1)
                    document.getElementById('map' + i).src = "image/grass02.png";
                else
                    document.getElementById('map' + i).src = "image/grass03.png";
                document.getElementById('map' + i).style.left = x + "px";
                document.getElementById('map' + i).style.top = y + "px";
            }
            else if (thischar == '2') {
                map_state[i % 12][(i - i % 12) / 12] = 2;
                document.getElementById('map' + i).src = "image/test002.png";
                document.getElementById('map' + i).style.left = x + "px";
                document.getElementById('map' + i).style.top = y + "px";
            }
            else if (thischar == '3') {//男NPC
                map_state[i % 12][(i - i % 12) / 12] = 3;
                document.getElementById('map' + i).src = "image/NPC_B.png";
                document.getElementById('map' + i).style.left = x + "px";
                document.getElementById('map' + i).style.top = y + "px";
            }
            else if (thischar == '4') {//女NPC
                map_state[i % 12][(i - i % 12) / 12] = 3;
                document.getElementById('map' + i).src = "image/NPC_G.png";
                document.getElementById('map' + i).style.left = x + "px";
                document.getElementById('map' + i).style.top = y + "px";
            }
            else if (thischar == '6') {
                map_state[i % 12][(i - i % 12) / 12] = 6;
                document.getElementById('map' + i).style.left = -100 + "px";
                document.getElementById('map' + i).style.top = -100 + "px";
            }
            else if (thischar == '5') {
                map_state[i % 12][(i - i % 12) / 12] = 5;
                document.getElementById('map' + i).src = "image/test005.png";
                document.getElementById('map' + i).style.left = x + "px";
                document.getElementById('map' + i).style.top = y + "px";
            }
            else if (thischar == '9') {//室內傳送點
                map_state[i % 12][(i - i % 12) / 12] = 5;
                document.getElementById('map' + i).style.left = -100 + "px";
                document.getElementById('map' + i).style.top = -100 + "px";
            }
            else if (thischar == '7') {
                map_state[i % 12][(i - i % 12) / 12] = 7;
                document.getElementById('map' + i).src = "image/test007.png";
                document.getElementById('map' + i).style.left = x + "px";
                document.getElementById('map' + i).style.top = y + "px";
            }
            else if (thischar == 't') {//桌子
                map_state[i % 12][(i - i % 12) / 12] = 6; //桌子 可以移動
                document.getElementById('map' + i).src = "image/table1.png";
                document.getElementById('map' + i).style.left = x + "px";
                document.getElementById('map' + i).style.top = y + "px";
                document.getElementById('map' + i).width = 150;
                document.getElementById('map' + i).height = 100;
            }
            else if (thischar == 'q') {//100*50樹
                map_state[i % 12][(i - i % 12) / 12] = 8; //樹 不可以移動
                document.getElementById('map' + i).src = "image/tree1.png";
                document.getElementById('map' + i).style.left = x + "px";
                document.getElementById('map' + i).style.top = y + "px";
                document.getElementById('map' + i).width = 50;
                document.getElementById('map' + i).height = 100;
            }
            else if (thischar == 'w') {//100*100樹
                map_state[i % 12][(i - i % 12) / 12] = 8; //樹 不可以移動
                document.getElementById('map' + i).src = "image/tree2.png";
                document.getElementById('map' + i).style.left = x + "px";
                document.getElementById('map' + i).style.top = y + "px";
                document.getElementById('map' + i).width = 100;
                document.getElementById('map' + i).height = 100;
            }
            else if (thischar == 'h') {//房子
                map_state[i % 12][(i - i % 12) / 12] = 8; //房子 不能移動
                document.getElementById('map' + i).src = "image/house1.png";
                document.getElementById('map' + i).style.left = x + "px";
                document.getElementById('map' + i).style.top = y + "px";
                document.getElementById('map' + i).width = 150;
                document.getElementById('map' + i).height = 150;
            }
            else if (thischar == 's') {//房子的傳送點
                map_state[i % 12][(i - i % 12) / 12] = 5; //傳送點
                document.getElementById('map' + i).style.left = -100 + "px";
                document.getElementById('map' + i).style.top = -100 + "px";
            }
            else if (thischar == 'c') {//椅子 可以移動
                map_state[i % 12][(i - i % 12) / 12] = 6; //椅子 可以移動
                document.getElementById('map' + i).style.left = -100 + "px";
                document.getElementById('map' + i).style.top = -100 + "px";
            }
            else if (thischar == ' ') {//房子的部份
                map_state[i % 12][(i - i % 12) / 12] = 8; //房子 不能移動
                document.getElementById('map' + i).style.left = -100 + "px";
                document.getElementById('map' + i).style.top = -100 + "px";
            }
            else if (thischar == 'a') {//傳送陣
                map_state[i % 12][(i - i % 12) / 12] = 4; //開啟傳送陣選單
                document.getElementById('map' + i).src = "image/test002.png";
                document.getElementById('map' + i).style.left = x + "px";
                document.getElementById('map' + i).style.top = y + "px";
            }
            else {
                map_state[i % 12][(i - i % 12) / 12] = 8;
                document.getElementById('map' + i).style.left = -100 + "px";
                document.getElementById('map' + i).style.top = -100 + "px";
            }
            i++;
            if (i < 120) {
                window.setTimeout("draw_map(" + i + ");", 10);
            }
            else {
                what_state = 0; //地圖載入完成
                release_draw_loading_hint();
                release_draw_loading_string();
                draw_player(); //畫出主角
            }
        }
        function load_map_string() {
            this_map_string = map_list[map_id].map_array();
            release_player();
            draw_map(0);
        }
    </script>
</head>
<body>
    <img id="map1" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map2" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map3" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map4" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map5" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map6" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map7" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map8" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map9" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map10" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map11" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map12" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map13" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map14" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map15" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map16" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map17" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map18" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map19" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map20" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map21" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map22" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map23" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map24" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map25" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map26" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map27" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map28" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map29" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map30" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map31" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map32" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map33" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map34" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map35" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map36" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map37" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map38" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map39" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map40" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map41" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map42" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map43" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map44" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map45" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map46" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map47" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map48" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map49" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map50" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map51" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map52" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map53" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map54" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map55" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map56" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map57" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map58" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map59" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map60" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map61" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map62" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map63" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map64" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map65" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map66" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map67" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map68" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map69" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map70" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map71" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map72" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map73" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map74" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map75" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map76" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map77" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map78" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map79" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map80" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map81" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map82" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map83" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map84" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map85" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map86" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map87" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map88" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map89" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map90" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map91" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map92" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map93" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map94" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map95" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map96" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map97" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map98" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map99" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map100" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map101" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map102" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map103" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map104" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map105" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map106" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map107" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map108" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map109" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map110" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map111" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map112" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map113" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map114" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map115" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map116" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map117" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map118" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map119" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="map0" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="50" height="50" align="baseline" border="0" hspace="0" src="image/test001.png" />
    <img id="player" style="z-index: 6; left: 0px; top: 0px; position: absolute;" width="50"
        height="50" align="baseline" border="0" hspace="0" src="image/boy1_front.png" />
    <img id="talk_to_npc" style="z-index: 6; left: -1000px; top: -1000px; position: absolute;"
        width="460" height="200" align="baseline" border="0" hspace="0" src="image/dialog.png" />
    <img id="index_img" style="z-index: 6; left: 0px; top: 0px; position: absolute;"
        width="600" height="500" align="baseline" border="0" hspace="0" src="image/menu1.png" />
    <img id="helper" style="z-index: 6; left: -1000px; top: -1000px; position: absolute;"
        width="600" height="500" align="baseline" border="0" hspace="0" src="image/control_intr.jpg" />
    <img id="inhouse" style="z-index: 5; left: -1000px; top: -1000px; position: absolute;"
        width="600" height="500" align="baseline" border="0" hspace="0" src="image/inHouse1.png" />
    <img id="battle_map" style="z-index: 6; left: -1000px; top: -1000px; position: absolute;"
        width="600" height="500" align="baseline" border="0" hspace="0" src="image/battle_map.jpg" />
    <img id="battle_map_boss" style="z-index: 6; left: -1000px; top: -1000px; position: absolute;"
        width="600" height="500" align="baseline" border="0" hspace="0" src="image/battle_map_boss.jpg" />
    <img id="battle_end" style="z-index: 6; left: -1000px; top: -1000px; position: absolute;"
        width="600" height="500" align="baseline" border="0" hspace="0" src="image/battle_end.png" />
    <img id="record_bg" style="z-index: 6; left: -1000px; top: -1000px; position: absolute;"
        width="600" height="500" align="baseline" border="0" hspace="0" src="image/record.png" />
    <img id="chapter" style="z-index: 6; left: -1000px; top: -1000px; position: absolute;"
        width="600" height="500" align="baseline" border="0" hspace="0" src="image/chapter.png" />
    <img id="select_boy" style="z-index: 6; left: -1000px; top: -1000px; position: absolute;"
        width="600" height="500" align="baseline" border="0" hspace="0" src="image/select_boy.png" />
    <img id="select_girl" style="z-index: 6; left: -1000px; top: -1000px; position: absolute;"
        width="600" height="500" align="baseline" border="0" hspace="0" src="image/select_girl.png" />
    <img id="buying" style="z-index: 6; left: -1000px; top: -1000px; position: absolute;"
        width="600" height="500" align="baseline" border="0" hspace="0" src="image/buying.png" />
    <img id="ability" style="z-index: 6; left: -1000px; top: -1000px; position: absolute;"
        width="600" height="500" align="baseline" border="0" hspace="0" src="image/ability.png" />
    <img id="chapter_trans" style="z-index: 6; left: -1000px; top: -1000px; position: absolute;"
        width="320" height="240" align="baseline" border="0" hspace="0" src="image/chapter_trans.png" />
    <img id="loading_map" style="z-index: 7; left: -1000px; top: -1000px; position: absolute;"
        width="160" height="70" align="baseline" border="0" hspace="0" src="image/map_flag.png" />
    <img id="loading_hint" style="z-index: 7; left: -1000px; top: -1000px; position: absolute;"
        width="260" height="30" align="baseline" border="0" hspace="0" src="image/map_flag.png" />
    <img id="question" style="z-index: 6; left: -1000px; top: -1000px; position: absolute;"
        width="450" height="200" align="baseline" border="0" hspace="0" src="image/question.png" />
    <img id="bag" style="z-index: 6; left: -1000px; top: -1000px; position: absolute;"
        width="600" height="500" align="baseline" border="0" hspace="0" src="image/bag.png" />
    <img id="yes_no" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="80" height="80" align="baseline" border="0" hspace="0" src="image/yes_no.png" />
    <img id="npc_img" style="z-index: 6; left: -1000px; top: -1000px; position: absolute;"
        width="130" height="150" align="baseline" border="0" hspace="0" src="" />
    <img id="check_botton" style="z-index: 6; left: -100px; top: -100px; position: absolute;"
        width="20" height="20" align="baseline" border="0" hspace="0" src="image/check_botton.png" />
    <img id="mon_img" style="z-index: 6; left: -1000px; top: -1000px; position: absolute;"
        width="100" height="100" align="baseline" border="0" hspace="0" src="" />
    <img id="player_img" style="z-index: 6; left: -1000px; top: -1000px; position: absolute;"
        width="100" height="100" align="baseline" border="0" hspace="0" src="image/icon_boy.png" />
    <div id="show_x" style="position: absolute; left: 600px; top: 10px; z-index: 7; font-size: 16px;
        font-family: DFKai-SB; color: red;">
    </div>
    <div id="map_name" style="position: absolute; left: -500px; top: -500px; z-index: 7; font-size: 20px;
        font-family: DFKai-SB; color: green;">">
    </div>
    <div id="loading_string" style="position: absolute; left: -500px; top: -500px; z-index: 7; font-size: 16px;
        font-family: DFKai-SB; color: blue;">
    </div>
    <div id="question_record" style="position: absolute; left: -500px; top: -500px; z-index: 7; font-size: 20px;
        font-family: DFKai-SB; color: red; line-height: 42px;">">
    </div>
    <div id="question_all_record" style="position: absolute; left: -500px; top: -500px; z-index: 7; font-size: 26px;
        font-family: DFKai-SB; color: red; line-height: 50px;">">
    </div>
    <div id="show_y" style="position: absolute; left: 600px; top: 30px; z-index: 7; font-size: 16px;
        font-family: DFKai-SB; color: red;">
    </div>
    <div id="player_name" style="position: absolute; left: 600px; top: 50px; z-index: 7;
        font-size: 20px; font-family: DFKai-SB; color: blue;">
    </div>
    <div id="player_hp" style="position: absolute; left: 600px; top: 80px; z-index: 7;
        font-size: 20px; font-family: DFKai-SB; color: blue;">
    </div>
    <div id="player_mp" style="position: absolute; left: 600px; top: 110px; z-index: 7;
        font-size: 20px; font-family: DFKai-SB; color: blue;">
    </div>
    <div id="player_exp" style="position: absolute; left: 600px; top: 130px; z-index: 7;
        font-size: 20px; font-family: DFKai-SB; color: blue;">
    </div>
    <div id="player_money" style="position: absolute; left: 600px; top: 150px; z-index: 7;
        font-size: 20px; font-family: DFKai-SB; color: blue;">
    </div>
    <div id="player_name_battle" style="position: absolute; left: -600px; top: --500px;
        z-index: 7; font-size: 16px; font-family: DFKai-SB; color: blue;">
    </div>
    <div id="player_hp_battle" style="position: absolute; left: -600px; top: -500px;
        z-index: 7; font-size: 16px; font-family: DFKai-SB; color: blue;">
    </div>
    <div id="player_mp_battle" style="position: absolute; left: -600px; top: -500px;
        z-index: 7; font-size: 16px; font-family: DFKai-SB; color: blue;">
    </div>
    <div id="player_atpt_battle" style="position: absolute; left: -600px; top: -500px;
        z-index: 7; font-size: 16px; font-family: DFKai-SB; color: blue;">
    </div>
    <div id="monster_hp_battle" style="position: absolute; left: -600px; top: -500px;
        z-index: 7; font-size: 16px; font-family: DFKai-SB; color: blue;">
    </div>
    <div id="question_record_string" style="position: absolute; left: -600px; top: -500px;
        z-index: 7; font-size: 20px; font-family: DFKai-SB; color: black;">
    </div>
    <div id="monster_mp_battle" style="position: absolute; left: -600px; top: -500px;
        z-index: 7; font-size: 16px; font-family: DFKai-SB; color: blue;">
    </div>
    <div id="monster_name_battle" style="position: absolute; left: -600px; top: -500px;
        z-index: 7; font-size: 16px; font-family: DFKai-SB; color: blue;">
    </div>
    <div id="monster_atpt_battle" style="position: absolute; left: -600px; top: -500px;
        z-index: 7; font-size: 16px; font-family: DFKai-SB; color: blue;">
    </div>
    <div id="player_skill" style="position: absolute; left: -600px; top: --500px;
        z-index: 7; font-size: 16px; font-family: DFKai-SB; color: blue;">
    </div>
    <div id="battle_player_event01" style="position: absolute; left: -600px; top: --500px;
        z-index: 7; font-size: 16px; font-family: DFKai-SB; color: blue;">
    </div>
    <div id="battle_player_event02" style="position: absolute; left: -600px; top: -500px;
        z-index: 7; font-size: 16px; font-family: DFKai-SB; color: blue;">
    </div>
    <div id="battle_player_event03" style="position: absolute; left: -600px; top: -500px;
        z-index: 7; font-size: 16px; font-family: DFKai-SB; color: blue;">
    </div>
    <div id="battle_player_event04" style="position: absolute; left: -600px; top: -500px;
        z-index: 7; font-size: 16px; font-family: DFKai-SB; color: blue;">
    </div>
    <div id="battle_dialog" style="position: absolute; left: -600px; top: -500px; z-index: 7;
        font-size: 22px; font-family: DFKai-SB; color: red;">
    </div>
    <div id="question_string" style="position: absolute; left: -600px; top: -500px; z-index: 7;
        font-size: 16px; font-family: DFKai-SB; color: green;">
    </div>
    <div id="saler_name" style="position: absolute; left: -600px; top: -500px; z-index: 7;
        font-size: 16px; font-family: DFKai-SB; color: black;">
    </div>
    <div id="saler_greet" style="position: absolute; left: -600px; top: -500px; z-index: 7;
        font-size: 16px; font-family: DFKai-SB; color: black;">
    </div>
    <div id="npc_dialog" style="position: absolute; left: -600px; top: -500px; z-index: 7;
        font-size: 16px; font-family: DFKai-SB; color: black;">
    </div>
    <div id="npc_name" style="position: absolute; left: -600px; top: -500px; z-index: 7;
        font-size: 16px; font-family: DFKai-SB; color: black;">
    </div>
    <div id="saler_things_01" style="position: absolute; left: -600px; top: -500px; z-index: 7;
        font-size: 16px; font-family: DFKai-SB; color: black; line-height: 50px;">
    </div>
    <div id="ability_string" style="position: absolute; left: -600px; top: -500px; z-index: 7;
        font-size: 26px; font-family: DFKai-SB; color: black; line-height: 38px;">
    </div>
    <div id="player_info" style="position: absolute; left: -600px; top: -500px; z-index: 7;
        font-size: 26px; font-family: DFKai-SB; color: black; line-height: 28px;">
    </div>
    <div id="saler_things_02" style="position: absolute; left: -600px; top: -500px; z-index: 7;
        font-size: 16px; font-family: DFKai-SB; color: black; line-height: 50px;">
    </div>
    <div id="itembox_01" style="position: absolute; left: -600px; top: -500px; z-index: 7;
        font-size: 20px; font-family: DFKai-SB; color: black; line-height: 59px;">
    </div>
    <div id="itembox_02" style="position: absolute; left: -600px; top: -500px; z-index: 7;
        font-size: 20px; font-family: DFKai-SB; color: black; line-height: 59px;">
    </div>
    <div id="itembox_03" style="position: absolute; left: -600px; top: -500px; z-index: 7;
        font-size: 20px; font-family: DFKai-SB; color: black; line-height: 59px;">
    </div>
    <div id="chapter_intr" style="position: absolute; left: -600px; top: -500px; z-index: 7;
        font-size: 26px; font-family: DFKai-SB; color: slategrey;">
    </div>
    <div id="item_inform" style="position: absolute; left: -600px; top: -500px; z-index: 7;
        font-size: 20px; font-family: DFKai-SB; color: red;">
    </div>

    <div id="bag_item_inform" style="position: absolute; left: -600px; top: -500px; z-index: 7;
        font-size: 20px; font-family: DFKai-SB; color: red;">
    </div>
    <div id="using_success" style="position: absolute; left: -600px; top: -500px; z-index: 7;
        font-size: 20px; font-family: DFKai-SB; color: red;">
    </div>
    <div id="buying_success" style="position: absolute; left: -600px; top: -500px; z-index: 7;
        font-size: 20px; font-family: DFKai-SB; color: red;">
    </div>
    <div id="money" style="position: absolute; left: -600px; top: -500px; z-index: 7;
        font-size: 20px; font-family: DFKai-SB; color: red;">
    </div>
    <audio id="sound">您的瀏覽器不支持 audio 標籤。
    </audio>
    <audio id="sound_unloop">您的瀏覽器不支持 audio 標籤。
    </audio>
    <script language="javascript">
        init_mam();
        init_boss_ap_map();
        play_sound("index");
        what_state = 23;//主選單
    </script>
</body>
</html>
